/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var Hf=Object.create;var wn=Object.defineProperty;var Kf=Object.getOwnPropertyDescriptor;var qf=Object.getOwnPropertyNames;var Gf=Object.getPrototypeOf,Yf=Object.prototype.hasOwnProperty;var i=(t,e)=>wn(t,"name",{value:e,configurable:!0});var Ke=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ka=(t,e)=>{for(var n in e)wn(t,n,{get:e[n],enumerable:!0})},Ca=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of qf(e))!Yf.call(t,o)&&o!==n&&wn(t,o,{get:()=>e[o],enumerable:!(r=Kf(e,o))||r.enumerable});return t};var Vt=(t,e,n)=>(n=t!=null?Hf(Gf(t)):{},Ca(e||!t||!t.__esModule?wn(n,"default",{value:t,enumerable:!0}):n,t)),Jf=t=>Ca(wn({},"__esModule",{value:!0}),t);var Ta=Ke((Ng,Sa)=>{var zt=1e3,$t=zt*60,Ut=$t*60,kt=Ut*24,Xf=kt*7,Zf=kt*365.25;Sa.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return ed(t);if(n==="number"&&isFinite(t))return e.long?nd(t):td(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function ed(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Zf;case"weeks":case"week":case"w":return n*Xf;case"days":case"day":case"d":return n*kt;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ut;case"minutes":case"minute":case"mins":case"min":case"m":return n*$t;case"seconds":case"second":case"secs":case"sec":case"s":return n*zt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}i(ed,"parse");function td(t){var e=Math.abs(t);return e>=kt?Math.round(t/kt)+"d":e>=Ut?Math.round(t/Ut)+"h":e>=$t?Math.round(t/$t)+"m":e>=zt?Math.round(t/zt)+"s":t+"ms"}i(td,"fmtShort");function nd(t){var e=Math.abs(t);return e>=kt?Yn(t,e,kt,"day"):e>=Ut?Yn(t,e,Ut,"hour"):e>=$t?Yn(t,e,$t,"minute"):e>=zt?Yn(t,e,zt,"second"):t+" ms"}i(nd,"fmtLong");function Yn(t,e,n,r){var o=e>=n*1.5;return Math.round(t/n)+" "+r+(o?"s":"")}i(Yn,"plural")});var fo=Ke((Bg,Pa)=>{function rd(t){n.debug=n,n.default=n,n.coerce=u,n.disable=a,n.enable=o,n.enabled=l,n.humanize=Ta(),n.destroy=c,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let d=0;for(let p=0;p<f.length;p++)d=(d<<5)-d+f.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}i(e,"selectColor"),n.selectColor=e;function n(f){let d,p=null,h,b;function C(...y){if(!C.enabled)return;let w=C,x=Number(new Date),v=x-(d||x);w.diff=v,w.prev=d,w.curr=x,d=x,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let S=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(k,B)=>{if(k==="%%")return"%";S++;let W=n.formatters[B];if(typeof W=="function"){let M=y[S];k=W.call(w,M),y.splice(S,1),S--}return k}),n.formatArgs.call(w,y),(w.log||n.log).apply(w,y)}return i(C,"debug"),C.namespace=f,C.useColors=n.useColors(),C.color=n.selectColor(f),C.extend=r,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:i(()=>p!==null?p:(h!==n.namespaces&&(h=n.namespaces,b=n.enabled(f)),b),"get"),set:i(y=>{p=y},"set")}),typeof n.init=="function"&&n.init(C),C}i(n,"createDebug");function r(f,d){let p=n(this.namespace+(typeof d>"u"?":":d)+f);return p.log=this.log,p}i(r,"extend");function o(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let d=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of d)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}i(o,"enable");function s(f,d){let p=0,h=0,b=-1,C=0;for(;p<f.length;)if(h<d.length&&(d[h]===f[p]||d[h]==="*"))d[h]==="*"?(b=h,C=p,h++):(p++,h++);else if(b!==-1)h=b+1,C++,p=C;else return!1;for(;h<d.length&&d[h]==="*";)h++;return h===d.length}i(s,"matchesTemplate");function a(){let f=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),f}i(a,"disable");function l(f){for(let d of n.skips)if(s(f,d))return!1;for(let d of n.names)if(s(f,d))return!0;return!1}i(l,"enabled");function u(f){return f instanceof Error?f.stack||f.message:f}i(u,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i(c,"destroy"),n.enable(n.load()),n}i(rd,"setup");Pa.exports=rd});var Fa=Ke((ke,Jn)=>{ke.formatArgs=od;ke.save=sd;ke.load=ad;ke.useColors=id;ke.storage=ld();ke.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ke.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function id(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}i(id,"useColors");function od(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Jn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),t.splice(r,0,e)}i(od,"formatArgs");ke.log=console.debug||console.log||(()=>{});function sd(t){try{t?ke.storage.setItem("debug",t):ke.storage.removeItem("debug")}catch{}}i(sd,"save");function ad(){let t;try{t=ke.storage.getItem("debug")||ke.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}i(ad,"load");function ld(){try{return localStorage}catch{}}i(ld,"localstorage");Jn.exports=fo()(ke);var{formatters:ud}=Jn.exports;ud.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ia=Ke(($g,La)=>{"use strict";La.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return r!==-1&&(o===-1||r<o)}});var Ma=Ke((Ug,Ra)=>{"use strict";var cd=require("os"),Oa=require("tty"),De=Ia(),{env:X}=process,Qn;De("no-color")||De("no-colors")||De("color=false")||De("color=never")?Qn=0:(De("color")||De("colors")||De("color=true")||De("color=always"))&&(Qn=1);function fd(){if("FORCE_COLOR"in X)return X.FORCE_COLOR==="true"?1:X.FORCE_COLOR==="false"?0:X.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(X.FORCE_COLOR,10),3)}i(fd,"envForceColor");function dd(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}i(dd,"translateLevel");function pd(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=fd();r!==void 0&&(Qn=r);let o=n?Qn:r;if(o===0)return 0;if(n){if(De("color=16m")||De("color=full")||De("color=truecolor"))return 3;if(De("color=256"))return 2}if(t&&!e&&o===void 0)return 0;let s=o||0;if(X.TERM==="dumb")return s;if(process.platform==="win32"){let a=cd.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in X)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in X)||X.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in X)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(X.TEAMCITY_VERSION)?1:0;if(X.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in X){let a=Number.parseInt((X.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(X.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(X.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(X.TERM)||"COLORTERM"in X?1:s}i(pd,"supportsColor");function po(t,e={}){let n=pd(t,{streamIsTTY:t&&t.isTTY,...e});return dd(n)}i(po,"getSupportLevel");Ra.exports={supportsColor:po,stdout:po({isTTY:Oa.isatty(1)}),stderr:po({isTTY:Oa.isatty(2)})}});var Na=Ke((Z,Zn)=>{var hd=require("tty"),Xn=require("util");Z.init=kd;Z.log=wd;Z.formatArgs=gd;Z.save=yd;Z.load=xd;Z.useColors=md;Z.destroy=Xn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Z.colors=[6,2,3,4,5,1];try{let t=Ma();t&&(t.stderr||t).level>=2&&(Z.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Z.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function md(){return"colors"in Z.inspectOpts?!!Z.inspectOpts.colors:hd.isatty(process.stderr.fd)}i(md,"useColors");function gd(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${o};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(o+"m+"+Zn.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=bd()+e+" "+t[0]}i(gd,"formatArgs");function bd(){return Z.inspectOpts.hideDate?"":new Date().toISOString()+" "}i(bd,"getDate");function wd(...t){return process.stderr.write(Xn.formatWithOptions(Z.inspectOpts,...t)+`
`)}i(wd,"log");function yd(t){t?process.env.DEBUG=t:delete process.env.DEBUG}i(yd,"save");function xd(){return process.env.DEBUG}i(xd,"load");function kd(t){t.inspectOpts={};let e=Object.keys(Z.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Z.inspectOpts[e[n]]}i(kd,"init");Zn.exports=fo()(Z);var{formatters:Da}=Zn.exports;Da.o=function(t){return this.inspectOpts.colors=this.useColors,Xn.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Da.O=function(t){return this.inspectOpts.colors=this.useColors,Xn.inspect(t,this.inspectOpts)}});var _a=Ke((Hg,ho)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ho.exports=Fa():ho.exports=Na()});var ol=Ke((vb,il)=>{"use strict";function Qe(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}i(Qe,"assertPath");function rl(t,e){for(var n="",r=0,o=-1,s=0,a,l=0;l<=t.length;++l){if(l<t.length)a=t.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(o===l-1||s===1))if(o!==l-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),o=l,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=l,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(o+1,l):n=t.slice(o+1,l),r=l-o-1;o=l,s=0}else a===46&&s!==-1?++s:s=-1}return n}i(rl,"normalizeStringPosix");function Md(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}i(Md,"_format");var Wt={resolve:i(function(){for(var e="",n=!1,r,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(r===void 0&&(r=process.cwd()),s=r),Qe(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=rl(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:i(function(e){if(Qe(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=rl(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:i(function(e){return Qe(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Qe(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Wt.normalize(e)},"join"),relative:i(function(e,n){if(Qe(e),Qe(n),e===n||(e=Wt.resolve(e),n=Wt.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var o=e.length,s=o-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var l=n.length,u=l-a,c=s<u?s:u,f=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(n.charCodeAt(a+d)===47)return n.slice(a+d+1);if(d===0)return n.slice(a+d)}else s>c&&(e.charCodeAt(r+d)===47?f=d:d===0&&(f=0));break}var p=e.charCodeAt(r+d),h=n.charCodeAt(a+d);if(p!==h)break;p===47&&(f=d)}var b="";for(d=r+f+1;d<=o;++d)(d===o||e.charCodeAt(d)===47)&&(b.length===0?b+="..":b+="/..");return b.length>0?b+n.slice(a+f):(a+=f,n.charCodeAt(a)===47&&++a,n.slice(a))},"relative"),_makeLong:i(function(e){return e},"_makeLong"),dirname:i(function(e){if(Qe(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,o=-1,s=!0,a=e.length-1;a>=1;--a)if(n=e.charCodeAt(a),n===47){if(!s){o=a;break}}else s=!1;return o===-1?r?"/":".":r&&o===1?"//":e.slice(0,o)},"dirname"),basename:i(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Qe(e);var r=0,o=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var l=n.length-1,u=-1;for(a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!s){r=a+1;break}}else u===-1&&(s=!1,u=a+1),l>=0&&(c===n.charCodeAt(l)?--l===-1&&(o=a):(l=-1,o=u))}return r===o?o=u:o===-1&&(o=e.length),e.slice(r,o)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else o===-1&&(s=!1,o=a+1);return o===-1?"":e.slice(r,o)}},"basename"),extname:i(function(e){Qe(e);for(var n=-1,r=0,o=-1,s=!0,a=0,l=e.length-1;l>=0;--l){var u=e.charCodeAt(l);if(u===47){if(!s){r=l+1;break}continue}o===-1&&(s=!1,o=l+1),u===46?n===-1?n=l:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||o===-1||a===0||a===1&&n===o-1&&n===r+1?"":e.slice(n,o)},"extname"),format:i(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Md("/",e)},"format"),parse:i(function(e){Qe(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),o=r===47,s;o?(n.root="/",s=1):s=0;for(var a=-1,l=0,u=-1,c=!0,f=e.length-1,d=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!c){l=f+1;break}continue}u===-1&&(c=!1,u=f+1),r===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||u===-1||d===0||d===1&&a===u-1&&a===l+1?u!==-1&&(l===0&&o?n.base=n.name=e.slice(1,u):n.base=n.name=e.slice(l,u)):(l===0&&o?(n.name=e.slice(1,a),n.base=e.slice(1,u)):(n.name=e.slice(l,a),n.base=e.slice(l,u)),n.ext=e.slice(a,u)),l>0?n.dir=e.slice(0,l-1):o&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Wt.posix=Wt;il.exports=Wt});var Ru=Ke((K2,Ou)=>{"use strict";var Rr=Object.prototype.hasOwnProperty,Iu=Object.prototype.toString,Eu=Object.defineProperty,Su=Object.getOwnPropertyDescriptor,Tu=i(function(e){return typeof Array.isArray=="function"?Array.isArray(e):Iu.call(e)==="[object Array]"},"isArray"),Pu=i(function(e){if(!e||Iu.call(e)!=="[object Object]")return!1;var n=Rr.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Rr.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var o;for(o in e);return typeof o>"u"||Rr.call(e,o)},"isPlainObject"),Fu=i(function(e,n){Eu&&n.name==="__proto__"?Eu(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),Lu=i(function(e,n){if(n==="__proto__")if(Rr.call(e,n)){if(Su)return Su(e,n).value}else return;return e[n]},"getProperty");Ou.exports=i(function t(){var e,n,r,o,s,a,l=arguments[0],u=1,c=arguments.length,f=!1;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<c;++u)if(e=arguments[u],e!=null)for(n in e)r=Lu(l,n),o=Lu(e,n),l!==o&&(f&&o&&(Pu(o)||(s=Tu(o)))?(s?(s=!1,a=r&&Tu(r)?r:[]):a=r&&Pu(r)?r:{},Fu(l,{name:n,newValue:t(f,a,o)})):typeof o<"u"&&Fu(l,{name:n,newValue:o}));return l},"extend")});var $c=Ke((ai,zc)=>{(function(t,e){typeof ai=="object"&&typeof zc<"u"?e(ai):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(ai,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=i(y=>{if(typeof y!="string")throw new TypeError("Invalid argument expected string");let w=y.match(e);if(!w)throw new Error(`Invalid argument not valid semver ('${y}' received)`);return w.shift(),w},"validateAndParse"),r=i(y=>y==="*"||y==="x"||y==="X","isWildcard"),o=i(y=>{let w=parseInt(y,10);return isNaN(w)?y:w},"tryParse"),s=i((y,w)=>typeof y!=typeof w?[String(y),String(w)]:[y,w],"forceType"),a=i((y,w)=>{if(r(y)||r(w))return 0;let[x,v]=s(o(y),o(w));return x>v?1:x<v?-1:0},"compareStrings"),l=i((y,w)=>{for(let x=0;x<Math.max(y.length,w.length);x++){let v=a(y[x]||"0",w[x]||"0");if(v!==0)return v}return 0},"compareSegments"),u=i((y,w)=>{let x=n(y),v=n(w),S=x.pop(),L=v.pop(),k=l(x,v);return k!==0?k:S&&L?l(S.split("."),L.split(".")):S||L?S?-1:1:0},"compareVersions"),c=i((y,w,x)=>{p(x);let v=u(y,w);return f[x].includes(v)},"compare"),f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},d=Object.keys(f),p=i(y=>{if(typeof y!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof y}`);if(d.indexOf(y)===-1)throw new Error(`Invalid operator, expected one of ${d.join("|")}`)},"assertValidOperator"),h=i((y,w)=>{if(w=w.replace(/([><=]+)\s+/g,"$1"),w.includes("||"))return w.split("||").some(V=>h(y,V));if(w.includes(" - ")){let[V,j]=w.split(" - ",2);return h(y,`>=${V} <=${j}`)}else if(w.includes(" "))return w.trim().replace(/\s{2,}/g," ").split(" ").every(V=>h(y,V));let x=w.match(/^([<>=~^]+)/),v=x?x[1]:"=";if(v!=="^"&&v!=="~")return c(y,w,v);let[S,L,k,,B]=n(y),[W,M,z,,ne]=n(w),U=[S,L,k],T=[W,M??"x",z??"x"];if(ne&&(!B||l(U,T)!==0||l(B.split("."),ne.split("."))===-1))return!1;let I=T.findIndex(V=>V!=="0")+1,O=v==="~"?2:I>1?I:1;return!(l(U.slice(0,O),T.slice(0,O))!==0||l(U.slice(O),T.slice(O))===-1)},"satisfies"),b=i(y=>typeof y=="string"&&/^[v\d]/.test(y)&&e.test(y),"validate"),C=i(y=>typeof y=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(y),"validateStrict");t.compare=c,t.compareVersions=u,t.satisfies=h,t.validate=b,t.validateStrict=C}))});var Tg={};ka(Tg,{default:()=>Sg});module.exports=Jf(Tg);var _f=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Fe(){}i(Fe,"noop");async function Me(){}i(Me,"noopAsync");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qf=Number.POSITIVE_INFINITY;function it(...t){let e=t.filter(s=>!!s);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return ge();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let s of e)if(s.aborted)return s;let r=[];for(let s of e)r.push(va(s,o));return n.signal;function o(s){for(let a of r)a();n.abort(s.reason)}}i(it,"abortSignalAny");function ge(){return new AbortController().signal}i(ge,"abortSignalNever");function Aa(t){if(t===Qf)return ge();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}i(Aa,"abortSignalTimeout");function va(t,e){if(t.aborted)return e(t),Fe;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}i(n,"wrappedCallback")}i(va,"onAbort");function Ea(t,e){return new Promise((n,r)=>{va(t,()=>{e?r(t.reason):n(t.reason)})})}i(Ea,"waitForAbort");var yo=Vt(_a(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function yn(t,e){let n=t.length,r=0;for(let o=0;o<n;o++){if(!Object.hasOwn(t,o))continue;let s=t[o];e(s,o,t)&&(t[r++]=s)}t.length=r}i(yn,"filterInPlace");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qe=class{static{i(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(yn(r,o=>o.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(yn(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let o=this.eventRefsMap.get(e);o||(o=[],this.eventRefsMap.set(e,o));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return o.push(s),s}once(e,n,r){let o=this.on(e,n,r),s=this.on(e,()=>{this.offref(o),this.offref(s)});return o}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())this.tryTrigger(o,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())await this.tryTriggerAsync(o,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mo="asyncError",er=new qe;er.on(mo,Cd);var tr="An unhandled error occurred executing async operation",Va="    at",Ue=class t extends Error{static{i(this,"CustomStackTraceError")}constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let o=r,s=new Set;for(;o instanceof t;){if(s.has(o))throw new Error("Circular cause detected");s.add(o),o=o.cause}let a=(this.stack??"").split(`
`),l=n.split(`
`);/^\w*Error(?:: |$)/.test(l[0]??"")&&l.splice(0,1),a.splice(1,a.length-1,...l),this.stack=a.join(`
`)}},Ge=class t extends Error{static{i(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function nr(t){er.trigger(mo,t)}i(nr,"emitAsyncErrorEvent");function rr(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=rr(t.cause).split(`
`);e+=`
${Ba("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(Va)?`
${r}`:`
${Ba(r)}`)}return e}i(rr,"errorToString");function be(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}i(be,"getStackTrace");function Ct(t,e){e??=globalThis.console,e.error(rr(t))}i(Ct,"printError");function za(t){let e=er.on(mo,t);return()=>{er.offref(e)}}i(za,"registerAsyncErrorEventHandler");function xn(t){throw t}i(xn,"throwExpression");function Ba(t){return`${Va} --- ${t} --- (0)`}i(Ba,"generateStackTraceLine");function Cd(t){Ct(t)}i(Cd,"handleAsyncError");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var go="44.1.0",ir="obsidian-dev-utils",$a=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bo=class{static{i(this,"ValueWrapper")}constructor(e){this.value=e}};function Ad(){let t=globalThis.app;if(t)return t;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}i(Ad,"getApp");function we(t,e,n){let o=t??vd()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[e]??=new bo(n)}i(we,"getObsidianDevUtilsState");function vd(){return typeof window>"u"?null:Ad()}i(vd,"getAppOrNull");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wo="__no-plugin-id-initialized__",Ua=wo;function or(){return Ua}i(or,"getPluginId");function Wa(t){t&&(Ua=t)}i(Wa,"setPluginId");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ja=",",sr="-";function Ha(){return{disable:Ed,enable:Sd,get:lr,set:kn}}i(Ha,"getDebugController");function ar(t,e=0){let n=`${t}:${String(e)}`,r=we(null,"debuggers",new Map).value,o=r.get(n);return o||(o=Cn()(t),o.log=(s,...a)=>{Td(t,e,s,...a)},r.set(n,o)),o}i(ar,"getDebugger");function K(t){let e=or(),n=e===wo?"":`${e}:`;return ar(`${n}${ir}:${t}`)}i(K,"getLibDebugger");function Ye(t,e,n,...r){if(!qa()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,Ga(e))}i(Ye,"printWithStackTrace");function Ka(t){let e=Cn().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",o=lr();kn(t),ar(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),kn(o)}i(Ka,"showInitialDebugMessage");function Ed(t){let e=new Set(lr());for(let n of An(t)){if(n.startsWith(sr))continue;let r=sr+n;e.has(n)&&e.delete(n),e.add(r)}kn(Array.from(e))}i(Ed,"disableNamespaces");function Sd(t){let e=new Set(lr());for(let n of An(t)){if(!n.startsWith(sr)){let r=sr+n;e.has(r)&&e.delete(r)}e.add(n)}kn(Array.from(e))}i(Sd,"enableNamespaces");function lr(){return An(Cn().load()??"")}i(lr,"getNamespaces");function Cn(){return typeof window>"u"?yo.default:we(null,"debug",yo.default).value}i(Cn,"getSharedDebugLibInstance");function qa(){return typeof window<"u"}i(qa,"isInObsidian");function Td(t,e,n,...r){if(!Cn().enabled(t))return;if(!qa()){console.debug(n,...r);return}let o=4,s=new Error().stack?.split(`
`)??[];s.splice(0,o+e),console.debug(n,...r,`

---
Logger stack trace:
`,Ga(s.join(`
`)))}i(Td,"logWithCaller");function Ga(t){return new Ue("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}i(Ga,"makeStackTraceError");function kn(t){Cn().enable(An(t).join(ja))}i(kn,"setNamespaces");function An(t){return typeof t=="string"?t.split(ja).filter(Boolean):t.flatMap(An)}i(An,"toArray");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function xo(t,e){e??=be(1);try{await t()}catch(n){let r=new Ue(tr,e,n);if(ko(r))return;nr(r)}}i(xo,"addErrorHandler");function lt(t,e){return e??=be(1),(...n)=>{let r=be(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,ue(()=>t(...n),e)}}i(lt,"convertAsyncToSync");function ko(t){let e=t;for(;!(e instanceof Ge);){if(!(e instanceof Error))return!1;e=e.cause}return K("Async:handleSilentError")(t),!0}i(ko,"handleSilentError");function ue(t,e){e??=be(1),xo(t,e)}i(ue,"invokeAsyncSafely");function Ya(t,e=0,n,r){r??=ge(),r.throwIfAborted(),n??=be(1),ue(async()=>{await Ao(e,r,!0),await t(r)},n)}i(Ya,"invokeAsyncSafelyAfterDelay");var Pd=new WeakSet;async function Ja(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}i(Ja,"requestAnimationFrameAsync");async function ur(t,e,n){let r=K("Async:retryWithTimeout");n??=be(1);let s={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};s.abortSignal?.throwIfAborted(),await Co(s.timeoutInMilliseconds,async a=>{let l=it(s.abortSignal,a);l.throwIfAborted();let u=0;for(;!l.aborted;){u++;let c;try{c=await t(l)}catch(f){if(l.aborted||!s.shouldRetryOnError||Pd.has(f))throw new Ue("retryWithTimeout failed",n,f);Ct(f),c=!1}if(c){Ye(r,n,`Retry completed successfully after ${String(u)} attempts`,{fn:t});return}Ye(r,n,`Retry attempt ${String(u)} completed unsuccessfully. Trying again in ${String(s.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await Ao(s.retryDelayInMilliseconds,a)}},{retryFn:t},n)}i(ur,"retryWithTimeout");async function Co(t,e,n,r){r??=be(1);let o=performance.now(),s=new AbortController,a=new AbortController,l=null,u=!1,c=!1,f=K("Async:runWithTimeout");if(await Promise.race([d(),p()]),u)return l;throw new Ue("Run with timeout failed",r,s.signal.reason);async function d(){try{l=await e(s.signal);let h=performance.now()-o;Ye(f,r??"",`Execution time: ${String(h)} milliseconds`,{context:n,fn:e}),u=!0}catch(h){s.abort(h)}finally{c=!0,a.abort(new Error("Completed"))}}async function p(){for(;!c;){if(await Ao(t,a.signal),c)return;let h=performance.now()-o;Ye(f,r??"",`Timed out after ${String(h)} milliseconds`,{context:n,fn:e});let b=K("Async:runWithTimeout:timeout");if(!b.enabled){s.abort(new Error(`Timed out after ${String(h)} milliseconds`));return}b(`The execution is not terminated because debugger ${b.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}i(Co,"runWithTimeout");async function Ao(t,e,n){await Ea(it(e,Aa(t))),n&&e?.throwIfAborted()}i(Ao,"sleep");var je=require("obsidian");var Fd=require("obsidian"),Xa=require("obsidian"),Za=require("obsidian"),yb=require("obsidian"),xb=require("obsidian"),Od=require("obsidian"),Rd=require("obsidian"),tl=require("obsidian");var Qa=class{static{i(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var Ne={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},cr={AllProperties:"all-properties",Audio:"audio",Backlink:Ne.Backlink,Bases:Ne.Bases,Bookmarks:Ne.Bookmarks,Canvas:Ne.Canvas,Empty:"empty",FileExplorer:Ne.FileExplorer,FileProperties:"file-properties",Graph:Ne.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:Ne.OutgoingLink,Outline:Ne.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function Ld(){return Xa.TFile}i(Ld,"getTFileConstructor");function Id(){return Za.TFolder}i(Id,"getTFolderConstructor");function Je(t){return t.replace(/\/?[^\/]*$/,"")||"/"}i(Je,"parentFolderPath");function fr(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(Id())(t.vault,e),n.parent=fr(t,Je(e)),n.deleted=!0,n)}i(fr,"createTFolderInstance");function el(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(Ld())(t.vault,e),n.parent=fr(t,Je(e)),n.deleted=!0,n)}i(el,"createTFileInstance");async function nl(){return await(0,tl.loadPrism)()}i(nl,"loadPrism");function ot(t){return!!t.position}i(ot,"isReferenceCache");function Le(t){return!!t.key}i(Le,"isFrontmatterLinkCache");var Eo=Vt(ol(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function dr(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(dr,"escapeRegExp");function sl(t){try{return new RegExp(t),!0}catch{return!1}}i(sl,"isValidRegExp");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jt(t,e,...n){return e??=ge(),e.throwIfAborted(),Dd(t)?await t(e,...n):t}i(jt,"resolveValue");function Dd(t){return typeof t=="function"}i(Dd,"isFunction");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Nd={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var _d={};for(let[t,e]of Object.entries(Nd))_d[e]=t;function al(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}i(al,"insertAt");function vn(t){return ce(t,/\u00A0|\u202F/g," ").normalize("NFC")}i(vn,"normalize");function ce(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...o)=>{let a=typeof o.at(-1)=="object",l=a?o.length-2:o.length-1,u={groups:a?o.at(-1):void 0,missingGroupIndices:[],offset:o.at(l-1),source:o.at(l),substring:r},c=o.slice(0,l-1).map((f,d)=>{if(typeof f=="string")return f;if(typeof f>"u")return u.missingGroupIndices.push(d),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return n(u,...c)??u.substring}))}i(ce,"replaceAll");function vo(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}i(vo,"trimEnd");function ll(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}i(ll,"trimStart");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bd=/[a-zA-Z]:\/[^:]*$/,Xe=Eo.default.posix,Vb=Xe.delimiter,zb=Eo.default.posix.sep,Ce=Xe.basename,se=Xe.dirname,We=Xe.extname,$b=Xe.format;var Ae=Xe.join,Ub=Xe.normalize,Wb=Xe.parse,Ht=Xe.relative;function ul(t,e){return e?`${t}.${e}`:t}i(ul,"makeFileName");function cl(...t){let e=Xe.resolve(...t);return e=Vd(e),Bd.exec(e)?.[0]??e}i(cl,"resolve");function Vd(t){return ce(t,"\\","/")}i(Vd,"toPosixPath");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zd="base",pr="canvas",ut="md";function So(t,e,n){if(_e(e))return e.extension===n;if(typeof e=="string"){let r=ve(t,e);return r?r.extension===n:We(e).slice(1)===n}return!1}i(So,"checkExtension");function En(t,e,n){if(e===null)return null;if(pl(e))return t.vault.fileMap[e.path]??e;let r=fl(t,e,n);if(r)return r;let o=hl(e);return o===e?null:fl(t,o,n)}i(En,"getAbstractFileOrNull");function Q(t,e,n,r){let o=ve(t,e,r);if(!o)if(n)o=el(t,e);else throw new Error(`File not found: ${e}`);return o}i(Q,"getFile");function ve(t,e,n){let r=En(t,e,n);return _e(r)?r:null}i(ve,"getFileOrNull");function At(t,e,n,r){let o=He(t,e,r);if(!o)if(n)o=fr(t,e);else throw new Error(`Folder not found: ${e}`);return o}i(At,"getFolder");function He(t,e,n){let r=En(t,e,n);return To(r)?r:null}i(He,"getFolderOrNull");function dl(t,e,n){let r=At(t,e),o=[];return n?je.Vault.recurseChildren(r,s=>{fe(t,s)&&s instanceof je.TFile&&o.push(s)}):o=r.children.filter(s=>fe(t,s)),o=o.sort((s,a)=>s.path.localeCompare(a.path)),o}i(dl,"getMarkdownFiles");function J(t,e){if(pl(e))return e.path;let n=En(t,e);return n?n.path:hl(e)}i(J,"getPath");function pl(t){return t instanceof je.TAbstractFile}i(pl,"isAbstractFile");function $d(t,e){return So(t,e,zd)}i($d,"isBaseFile");function vt(t,e){return So(t,e,pr)}i(vt,"isCanvasFile");function _e(t){return t instanceof je.TFile}i(_e,"isFile");function To(t){return t instanceof je.TFolder}i(To,"isFolder");function fe(t,e){return So(t,e,ut)}i(fe,"isMarkdownFile");function Po(t,e){return fe(t,e)||vt(t,e)||$d(t,e)}i(Po,"isNote");function fl(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}i(fl,"getFileInternal");function hl(t){return(0,je.normalizePath)(cl("/",t))}i(hl,"getResolvedPath");var on=require("obsidian");var Ud={};function Et(t,e){let n=e||Ud,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return gl(t,r,o)}i(Et,"toString");function gl(t,e,n){if(Wd(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ml(t.children,e,n)}return Array.isArray(t)?ml(t,e,n):""}i(gl,"one");function ml(t,e,n){let r=[],o=-1;for(;++o<t.length;)r[o]=gl(t[o],e,n);return r.join("")}i(ml,"all");function Wd(t){return!!(t&&typeof t=="object")}i(Wd,"node");var bl=document.createElement("i");function Kt(t){let e="&"+t+";";bl.innerHTML=e;let n=bl.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}i(Kt,"decodeNamedCharacterReference");function ae(t,e,n,r){let o=t.length,s=0,a;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}i(ae,"splice");function ye(t,e){return t.length>0?(ae(t,t.length,0,e),t):e}i(ye,"push");var wl={}.hasOwnProperty;function yl(t){let e={},n=-1;for(;++n<t.length;)jd(e,t[n]);return e}i(yl,"combineExtensions");function jd(t,e){let n;for(n in e){let o=(wl.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],a;if(s)for(a in s){wl.call(o,a)||(o[a]=[]);let l=s[a];Hd(o[a],Array.isArray(l)?l:l?[l]:[])}}}i(jd,"syntaxExtension");function Hd(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ae(t,0,0,r)}i(Hd,"constructs");function hr(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}i(hr,"decodeNumericCharacterReference");function st(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}i(st,"normalizeIdentifier");var Ie=ct(/[A-Za-z]/),xe=ct(/[\dA-Za-z]/),xl=ct(/[#-'*+\--9=?A-Z^-~]/);function Sn(t){return t!==null&&(t<32||t===127)}i(Sn,"asciiControl");var Tn=ct(/\d/),kl=ct(/[\dA-Fa-f]/),Cl=ct(/[!-/:-@[-`{-~]/);function P(t){return t!==null&&t<-2}i(P,"markdownLineEnding");function Y(t){return t!==null&&(t<0||t===32)}i(Y,"markdownLineEndingOrSpace");function D(t){return t===-2||t===-1||t===32}i(D,"markdownSpace");var Al=ct(/\p{P}|\p{S}/u),vl=ct(/\s/);function ct(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}i(ct,"regexCheck");function _(t,e,n,r){let o=r?r-1:Number.POSITIVE_INFINITY,s=0;return a;function a(u){return D(u)?(t.enter(n),l(u)):e(u)}function l(u){return D(u)&&s++<o?(t.consume(u),l):(t.exit(n),e(u))}}i(_,"factorySpace");var El={tokenize:Kd};function Kd(t){let e=t.attempt(this.parser.constructs.contentInitial,r,o),n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),_(t,e,"linePrefix")}function o(l){return t.enter("paragraph"),s(l)}function s(l){let u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return P(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),a)}}i(Kd,"initializeContent");var Tl={tokenize:qd},Sl={tokenize:Gd};function qd(t){let e=this,n=[],r=0,o,s,a;return l;function l(v){if(r<n.length){let S=n[r];return e.containerState=S[1],t.attempt(S[0].continuation,u,c)(v)}return c(v)}function u(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&x();let S=e.events.length,L=S,k;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){k=e.events[L][1].end;break}w(r);let B=S;for(;B<e.events.length;)e.events[B][1].end={...k},B++;return ae(e.events,L+1,0,e.events.slice(S)),e.events.length=B,c(v)}return l(v)}function c(v){if(r===n.length){if(!o)return p(v);if(o.currentConstruct&&o.currentConstruct.concrete)return b(v);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Sl,f,d)(v)}function f(v){return o&&x(),w(r),p(v)}function d(v){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,b(v)}function p(v){return e.containerState={},t.attempt(Sl,h,b)(v)}function h(v){return r++,n.push([e.currentConstruct,e.containerState]),p(v)}function b(v){if(v===null){o&&x(),w(0),t.consume(v);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),C(v)}function C(v){if(v===null){y(t.exit("chunkFlow"),!0),w(0),t.consume(v);return}return P(v)?(t.consume(v),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(v),C)}function y(v,S){let L=e.sliceStream(v);if(S&&L.push(null),v.previous=s,s&&(s.next=v),s=v,o.defineSkip(v.start),o.write(L),e.parser.lazy[v.start.line]){let k=o.events.length;for(;k--;)if(o.events[k][1].start.offset<a&&(!o.events[k][1].end||o.events[k][1].end.offset>a))return;let B=e.events.length,W=B,M,z;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){if(M){z=e.events[W][1].end;break}M=!0}for(w(r),k=B;k<e.events.length;)e.events[k][1].end={...z},k++;ae(e.events,W+1,0,e.events.slice(B)),e.events.length=k}}function w(v){let S=n.length;for(;S-- >v;){let L=n[S];e.containerState=L[1],L[0].exit.call(e,t)}n.length=v}function x(){o.write([null]),s=void 0,o=void 0,e.containerState._closeFlow=void 0}}i(qd,"initializeDocument");function Gd(t,e,n){return _(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}i(Gd,"tokenizeContainer");function qt(t){if(t===null||Y(t)||vl(t))return 1;if(Al(t))return 2}i(qt,"classifyCharacter");function Gt(t,e,n){let r=[],o=-1;for(;++o<t.length;){let s=t[o].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}i(Gt,"resolveAll");var Pn={name:"attention",resolveAll:Yd,tokenize:Jd};function Yd(t,e){let n=-1,r,o,s,a,l,u,c,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let d={...t[r][1].end},p={...t[n][1].start};Pl(d,-u),Pl(p,u),a={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},o={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ye(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ye(c,[["enter",o,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=ye(c,Gt(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ye(c,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,c=ye(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,ae(t,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}i(Yd,"resolveAllAttention");function Jd(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=qt(r),s;return a;function a(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;let c=t.exit("attentionSequence"),f=qt(u),d=!f||f===2&&o||n.includes(u),p=!o||o===2&&f||n.includes(r);return c._open=!!(s===42?d:d&&(o||!p)),c._close=!!(s===42?p:p&&(f||!d)),e(u)}}i(Jd,"tokenizeAttention");function Pl(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}i(Pl,"movePoint");var Fo={name:"autolink",tokenize:Qd};function Qd(t,e,n){let r=0;return o;function o(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(h){return Ie(h)?(t.consume(h),a):h===64?n(h):c(h)}function a(h){return h===43||h===45||h===46||xe(h)?(r=1,l(h)):c(h)}function l(h){return h===58?(t.consume(h),r=0,u):(h===43||h===45||h===46||xe(h))&&r++<32?(t.consume(h),l):(r=0,c(h))}function u(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||Sn(h)?n(h):(t.consume(h),u)}function c(h){return h===64?(t.consume(h),f):xl(h)?(t.consume(h),c):n(h)}function f(h){return xe(h)?d(h):n(h)}function d(h){return h===46?(t.consume(h),r=0,f):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):p(h)}function p(h){if((h===45||xe(h))&&r++<63){let b=h===45?p:d;return t.consume(h),b}return n(h)}}i(Qd,"tokenizeAutolink");var ft={partial:!0,tokenize:Xd};function Xd(t,e,n){return r;function r(s){return D(s)?_(t,o,"linePrefix")(s):o(s)}function o(s){return s===null||P(s)?e(s):n(s)}}i(Xd,"tokenizeBlankLine");var mr={continuation:{tokenize:ep},exit:tp,name:"blockQuote",tokenize:Zd};function Zd(t,e,n){let r=this;return o;function o(a){if(a===62){let l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return D(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}i(Zd,"tokenizeBlockQuoteStart");function ep(t,e,n){let r=this;return o;function o(a){return D(a)?_(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(mr,e,n)(a)}}i(ep,"tokenizeBlockQuoteContinuation");function tp(t){t.exit("blockQuote")}i(tp,"exit");var gr={name:"characterEscape",tokenize:np};function np(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),o}function o(s){return Cl(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}i(np,"tokenizeCharacterEscape");var br={name:"characterReference",tokenize:rp};function rp(t,e,n){let r=this,o=0,s,a;return l;function l(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),u}function u(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=xe,f(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=kl,f):(t.enter("characterReferenceValue"),s=7,a=Tn,f(d))}function f(d){if(d===59&&o){let p=t.exit("characterReferenceValue");return a===xe&&!Kt(r.sliceSerialize(p))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&o++<s?(t.consume(d),f):n(d)}}i(rp,"tokenizeCharacterReference");var Fl={partial:!0,tokenize:op},wr={concrete:!0,name:"codeFenced",tokenize:ip};function ip(t,e,n){let r=this,o={partial:!0,tokenize:L},s=0,a=0,l;return u;function u(k){return c(k)}function c(k){let B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,l=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(k)}function f(k){return k===l?(a++,t.consume(k),f):a<3?n(k):(t.exit("codeFencedFenceSequence"),D(k)?_(t,d,"whitespace")(k):d(k))}function d(k){return k===null||P(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(Fl,C,S)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||P(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(k)):D(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(t,h,"whitespace")(k)):k===96&&k===l?n(k):(t.consume(k),p)}function h(k){return k===null||P(k)?d(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),b(k))}function b(k){return k===null||P(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(k)):k===96&&k===l?n(k):(t.consume(k),b)}function C(k){return t.attempt(o,S,y)(k)}function y(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),w}function w(k){return s>0&&D(k)?_(t,x,"linePrefix",s+1)(k):x(k)}function x(k){return k===null||P(k)?t.check(Fl,C,S)(k):(t.enter("codeFlowValue"),v(k))}function v(k){return k===null||P(k)?(t.exit("codeFlowValue"),x(k)):(t.consume(k),v)}function S(k){return t.exit("codeFenced"),e(k)}function L(k,B,W){let M=0;return z;function z(O){return k.enter("lineEnding"),k.consume(O),k.exit("lineEnding"),ne}function ne(O){return k.enter("codeFencedFence"),D(O)?_(k,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):U(O)}function U(O){return O===l?(k.enter("codeFencedFenceSequence"),T(O)):W(O)}function T(O){return O===l?(M++,k.consume(O),T):M>=a?(k.exit("codeFencedFenceSequence"),D(O)?_(k,I,"whitespace")(O):I(O)):W(O)}function I(O){return O===null||P(O)?(k.exit("codeFencedFence"),B(O)):W(O)}}}i(ip,"tokenizeCodeFenced");function op(t,e,n){let r=this;return o;function o(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}i(op,"tokenizeNonLazyContinuation");var Fn={name:"codeIndented",tokenize:ap},sp={partial:!0,tokenize:lp};function ap(t,e,n){let r=this;return o;function o(c){return t.enter("codeIndented"),_(t,s,"linePrefix",5)(c)}function s(c){let f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):P(c)?t.attempt(sp,a,u)(c):(t.enter("codeFlowValue"),l(c))}function l(c){return c===null||P(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),l)}function u(c){return t.exit("codeIndented"),e(c)}}i(ap,"tokenizeCodeIndented");function lp(t,e,n){let r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):P(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):_(t,s,"linePrefix",5)(a)}function s(a){let l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):P(a)?o(a):n(a)}}i(lp,"tokenizeFurtherStart");var Lo={name:"codeText",previous:cp,resolve:up,tokenize:fp};function up(t){let e=t.length-4,n=3,r,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)o===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(o=r):(r===e||t[r][1].type==="lineEnding")&&(t[o][1].type="codeTextData",r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return t}i(up,"resolveCodeText");function cp(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}i(cp,"previous");function fp(t,e,n){let r=this,o=0,s,a;return l;function l(p){return t.enter("codeText"),t.enter("codeTextSequence"),u(p)}function u(p){return p===96?(t.consume(p),o++,u):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),s=0,d(p)):P(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||P(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),f)}function d(p){return p===96?(t.consume(p),s++,d):s===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",f(p))}}i(fp,"tokenizeCodeText");var yr=class{static{i(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let o=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Ln(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ln(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ln(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Ln(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ln(this.left,n.reverse())}}};function Ln(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}i(Ln,"chunkedPush");function xr(t){let e={},n=-1,r,o,s,a,l,u,c,f=new yr(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,dp(f,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,o=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(o&&(f.get(o)[1].type="lineEndingBlank"),a[1].type="lineEnding",o=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;o&&(r[1].end={...f.get(o)[1].start},l=f.slice(o,n),l.unshift(r),f.splice(o,n-o+1,l))}}return ae(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}i(xr,"subtokenize");function dp(t,e){let n=t.get(e)[1],r=t.get(e)[2],o=e-1,s=[],a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));let l=a.events,u=[],c={},f,d,p=-1,h=n,b=0,C=0,y=[C];for(;h;){for(;t.get(++o)[1]!==h;);s.push(o),h._tokenizer||(f=r.sliceStream(h),h.next||f.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(C=p+1,y.push(C),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),p=y.length;p--;){let w=l.slice(y[p],y[p+1]),x=s.pop();u.push([x,x+w.length-1]),t.splice(x,2,w)}for(u.reverse(),p=-1;++p<u.length;)c[b+u[p][0]]=b+u[p][1],b+=u[p][1]-u[p][0]-1;return c}i(dp,"subcontent");var Io={resolve:hp,tokenize:mp},pp={partial:!0,tokenize:gp};function hp(t){return xr(t),t}i(hp,"resolveContent");function mp(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?s(l):P(l)?t.check(pp,a,s)(l):(t.consume(l),o)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}i(mp,"tokenizeContent");function gp(t,e,n){let r=this;return o;function o(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),_(t,s,"linePrefix")}function s(a){if(a===null||P(a))return n(a);let l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}i(gp,"tokenizeContinuation");function kr(t,e,n,r,o,s,a,l,u){let c=u||Number.POSITIVE_INFINITY,f=0;return d;function d(w){return w===60?(t.enter(r),t.enter(o),t.enter(s),t.consume(w),t.exit(s),p):w===null||w===32||w===41||Sn(w)?n(w):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),C(w))}function p(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(o),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===62?(t.exit("chunkString"),t.exit(l),p(w)):w===null||w===60||P(w)?n(w):(t.consume(w),w===92?b:h)}function b(w){return w===60||w===62||w===92?(t.consume(w),h):h(w)}function C(w){return!f&&(w===null||w===41||Y(w))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(w)):f<c&&w===40?(t.consume(w),f++,C):w===41?(t.consume(w),f--,C):w===null||w===32||w===40||Sn(w)?n(w):(t.consume(w),w===92?y:C)}function y(w){return w===40||w===41||w===92?(t.consume(w),C):C(w)}}i(kr,"factoryDestination");function Cr(t,e,n,r,o,s){let a=this,l=0,u;return c;function c(h){return t.enter(r),t.enter(o),t.consume(h),t.exit(o),t.enter(s),f}function f(h){return l>999||h===null||h===91||h===93&&!u||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(t.exit(s),t.enter(o),t.consume(h),t.exit(o),t.exit(r),e):P(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||P(h)||l++>999?(t.exit("chunkString"),f(h)):(t.consume(h),u||(u=!D(h)),h===92?p:d)}function p(h){return h===91||h===92||h===93?(t.consume(h),l++,d):d(h)}}i(Cr,"factoryLabel");function Ar(t,e,n,r,o,s){let a;return l;function l(p){return p===34||p===39||p===40?(t.enter(r),t.enter(o),t.consume(p),t.exit(o),a=p===40?41:p,u):n(p)}function u(p){return p===a?(t.enter(o),t.consume(p),t.exit(o),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===a?(t.exit(s),u(a)):p===null?n(p):P(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),_(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===a||p===null||P(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?d:f)}function d(p){return p===a||p===92?(t.consume(p),f):f(p)}}i(Ar,"factoryTitle");function St(t,e){let n;return r;function r(o){return P(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,r):D(o)?_(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}i(St,"factoryWhitespace");var Oo={name:"definition",tokenize:wp},bp={partial:!0,tokenize:yp};function wp(t,e,n){let r=this,o;return s;function s(h){return t.enter("definition"),a(h)}function a(h){return Cr.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return o=st(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),u):n(h)}function u(h){return Y(h)?St(t,c)(h):c(h)}function c(h){return kr(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function f(h){return t.attempt(bp,d,d)(h)}function d(h){return D(h)?_(t,p,"whitespace")(h):p(h)}function p(h){return h===null||P(h)?(t.exit("definition"),r.parser.defined.push(o),e(h)):n(h)}}i(wp,"tokenizeDefinition");function yp(t,e,n){return r;function r(l){return Y(l)?St(t,o)(l):n(l)}function o(l){return Ar(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return D(l)?_(t,a,"whitespace")(l):a(l)}function a(l){return l===null||P(l)?e(l):n(l)}}i(yp,"tokenizeTitleBefore");var Ro={name:"hardBreakEscape",tokenize:xp};function xp(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),o}function o(s){return P(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}i(xp,"tokenizeHardBreakEscape");var Mo={name:"headingAtx",resolve:kp,tokenize:Cp};function kp(t,e){let n=t.length-2,r=3,o,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ae(t,r,n-r+1,[["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e]])),t}i(kp,"resolveHeadingAtx");function Cp(t,e,n){let r=0;return o;function o(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(t.consume(f),a):f===null||Y(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),u(f)):f===null||P(f)?(t.exit("atxHeading"),e(f)):D(f)?_(t,l,"whitespace")(f):(t.enter("atxHeadingText"),c(f))}function u(f){return f===35?(t.consume(f),u):(t.exit("atxHeadingSequence"),l(f))}function c(f){return f===null||f===35||Y(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),c)}}i(Cp,"tokenizeHeadingAtx");var Ll=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Do=["pre","script","style","textarea"];var No={concrete:!0,name:"htmlFlow",resolveTo:Ep,tokenize:Sp},Ap={partial:!0,tokenize:Pp},vp={partial:!0,tokenize:Tp};function Ep(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}i(Ep,"resolveToHtmlFlow");function Sp(t,e,n){let r=this,o,s,a,l,u;return c;function c(g){return f(g)}function f(g){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(g),d}function d(g){return g===33?(t.consume(g),p):g===47?(t.consume(g),s=!0,C):g===63?(t.consume(g),o=3,r.interrupt?e:m):Ie(g)?(t.consume(g),a=String.fromCharCode(g),y):n(g)}function p(g){return g===45?(t.consume(g),o=2,h):g===91?(t.consume(g),o=5,l=0,b):Ie(g)?(t.consume(g),o=4,r.interrupt?e:m):n(g)}function h(g){return g===45?(t.consume(g),r.interrupt?e:m):n(g)}function b(g){let le="CDATA[";return g===le.charCodeAt(l++)?(t.consume(g),l===le.length?r.interrupt?e:U:b):n(g)}function C(g){return Ie(g)?(t.consume(g),a=String.fromCharCode(g),y):n(g)}function y(g){if(g===null||g===47||g===62||Y(g)){let le=g===47,wt=a.toLowerCase();return!le&&!s&&Do.includes(wt)?(o=1,r.interrupt?e(g):U(g)):Ll.includes(a.toLowerCase())?(o=6,le?(t.consume(g),w):r.interrupt?e(g):U(g)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):s?x(g):v(g))}return g===45||xe(g)?(t.consume(g),a+=String.fromCharCode(g),y):n(g)}function w(g){return g===62?(t.consume(g),r.interrupt?e:U):n(g)}function x(g){return D(g)?(t.consume(g),x):z(g)}function v(g){return g===47?(t.consume(g),z):g===58||g===95||Ie(g)?(t.consume(g),S):D(g)?(t.consume(g),v):z(g)}function S(g){return g===45||g===46||g===58||g===95||xe(g)?(t.consume(g),S):L(g)}function L(g){return g===61?(t.consume(g),k):D(g)?(t.consume(g),L):v(g)}function k(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(t.consume(g),u=g,B):D(g)?(t.consume(g),k):W(g)}function B(g){return g===u?(t.consume(g),u=null,M):g===null||P(g)?n(g):(t.consume(g),B)}function W(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||Y(g)?L(g):(t.consume(g),W)}function M(g){return g===47||g===62||D(g)?v(g):n(g)}function z(g){return g===62?(t.consume(g),ne):n(g)}function ne(g){return g===null||P(g)?U(g):D(g)?(t.consume(g),ne):n(g)}function U(g){return g===45&&o===2?(t.consume(g),V):g===60&&o===1?(t.consume(g),j):g===62&&o===4?(t.consume(g),G):g===63&&o===3?(t.consume(g),m):g===93&&o===5?(t.consume(g),me):P(g)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(Ap,ie,T)(g)):g===null||P(g)?(t.exit("htmlFlowData"),T(g)):(t.consume(g),U)}function T(g){return t.check(vp,I,ie)(g)}function I(g){return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),O}function O(g){return g===null||P(g)?T(g):(t.enter("htmlFlowData"),U(g))}function V(g){return g===45?(t.consume(g),m):U(g)}function j(g){return g===47?(t.consume(g),a="",re):U(g)}function re(g){if(g===62){let le=a.toLowerCase();return Do.includes(le)?(t.consume(g),G):U(g)}return Ie(g)&&a.length<8?(t.consume(g),a+=String.fromCharCode(g),re):U(g)}function me(g){return g===93?(t.consume(g),m):U(g)}function m(g){return g===62?(t.consume(g),G):g===45&&o===2?(t.consume(g),m):U(g)}function G(g){return g===null||P(g)?(t.exit("htmlFlowData"),ie(g)):(t.consume(g),G)}function ie(g){return t.exit("htmlFlow"),e(g)}}i(Sp,"tokenizeHtmlFlow");function Tp(t,e,n){let r=this;return o;function o(a){return P(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}i(Tp,"tokenizeNonLazyContinuationStart");function Pp(t,e,n){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(ft,e,n)}}i(Pp,"tokenizeBlankLineBefore");var _o={name:"htmlText",tokenize:Fp};function Fp(t,e,n){let r=this,o,s,a;return l;function l(m){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(m),u}function u(m){return m===33?(t.consume(m),c):m===47?(t.consume(m),L):m===63?(t.consume(m),v):Ie(m)?(t.consume(m),W):n(m)}function c(m){return m===45?(t.consume(m),f):m===91?(t.consume(m),s=0,b):Ie(m)?(t.consume(m),x):n(m)}function f(m){return m===45?(t.consume(m),h):n(m)}function d(m){return m===null?n(m):m===45?(t.consume(m),p):P(m)?(a=d,j(m)):(t.consume(m),d)}function p(m){return m===45?(t.consume(m),h):d(m)}function h(m){return m===62?V(m):m===45?p(m):d(m)}function b(m){let G="CDATA[";return m===G.charCodeAt(s++)?(t.consume(m),s===G.length?C:b):n(m)}function C(m){return m===null?n(m):m===93?(t.consume(m),y):P(m)?(a=C,j(m)):(t.consume(m),C)}function y(m){return m===93?(t.consume(m),w):C(m)}function w(m){return m===62?V(m):m===93?(t.consume(m),w):C(m)}function x(m){return m===null||m===62?V(m):P(m)?(a=x,j(m)):(t.consume(m),x)}function v(m){return m===null?n(m):m===63?(t.consume(m),S):P(m)?(a=v,j(m)):(t.consume(m),v)}function S(m){return m===62?V(m):v(m)}function L(m){return Ie(m)?(t.consume(m),k):n(m)}function k(m){return m===45||xe(m)?(t.consume(m),k):B(m)}function B(m){return P(m)?(a=B,j(m)):D(m)?(t.consume(m),B):V(m)}function W(m){return m===45||xe(m)?(t.consume(m),W):m===47||m===62||Y(m)?M(m):n(m)}function M(m){return m===47?(t.consume(m),V):m===58||m===95||Ie(m)?(t.consume(m),z):P(m)?(a=M,j(m)):D(m)?(t.consume(m),M):V(m)}function z(m){return m===45||m===46||m===58||m===95||xe(m)?(t.consume(m),z):ne(m)}function ne(m){return m===61?(t.consume(m),U):P(m)?(a=ne,j(m)):D(m)?(t.consume(m),ne):M(m)}function U(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(t.consume(m),o=m,T):P(m)?(a=U,j(m)):D(m)?(t.consume(m),U):(t.consume(m),I)}function T(m){return m===o?(t.consume(m),o=void 0,O):m===null?n(m):P(m)?(a=T,j(m)):(t.consume(m),T)}function I(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||Y(m)?M(m):(t.consume(m),I)}function O(m){return m===47||m===62||Y(m)?M(m):n(m)}function V(m){return m===62?(t.consume(m),t.exit("htmlTextData"),t.exit("htmlText"),e):n(m)}function j(m){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),re}function re(m){return D(m)?_(t,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):me(m)}function me(m){return t.enter("htmlTextData"),a(m)}}i(Fp,"tokenizeHtmlText");var Tt={name:"labelEnd",resolveAll:Rp,resolveTo:Mp,tokenize:Dp},Lp={tokenize:Np},Ip={tokenize:_p},Op={tokenize:Bp};function Rp(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return t.length!==n.length&&ae(t,0,t.length,n),t}i(Rp,"resolveAllLabelEnd");function Mp(t,e){let n=t.length,r=0,o,s,a,l;for(;n--;)if(o=t[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(a=n);let u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",c,e]],l=ye(l,t.slice(s+1,s+r+3)),l=ye(l,[["enter",f,e]]),l=ye(l,Gt(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),l=ye(l,[["exit",f,e],t[a-2],t[a-1],["exit",c,e]]),l=ye(l,t.slice(a+1)),l=ye(l,[["exit",u,e]]),ae(t,s,t.length,l),t}i(Mp,"resolveToLabelEnd");function Dp(t,e,n){let r=this,o=r.events.length,s,a;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){s=r.events[o][1];break}return l;function l(p){return s?s._inactive?d(p):(a=r.parser.defined.includes(st(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),u):n(p)}function u(p){return p===40?t.attempt(Lp,f,a?f:d)(p):p===91?t.attempt(Ip,f,a?c:d)(p):a?f(p):d(p)}function c(p){return t.attempt(Op,f,d)(p)}function f(p){return e(p)}function d(p){return s._balanced=!0,n(p)}}i(Dp,"tokenizeLabelEnd");function Np(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),o}function o(d){return Y(d)?St(t,s)(d):s(d)}function s(d){return d===41?f(d):kr(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Y(d)?St(t,u)(d):f(d)}function l(d){return n(d)}function u(d){return d===34||d===39||d===40?Ar(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function c(d){return Y(d)?St(t,f)(d):f(d)}function f(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}i(Np,"tokenizeResource");function _p(t,e,n){let r=this;return o;function o(l){return Cr.call(r,t,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(st(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}i(_p,"tokenizeReferenceFull");function Bp(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),o}function o(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}i(Bp,"tokenizeReferenceCollapsed");var Bo={name:"labelStartImage",resolveAll:Tt.resolveAll,tokenize:Vp};function Vp(t,e,n){let r=this;return o;function o(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}i(Vp,"tokenizeLabelStartImage");var Vo={name:"labelStartLink",resolveAll:Tt.resolveAll,tokenize:zp};function zp(t,e,n){let r=this;return o;function o(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}i(zp,"tokenizeLabelStartLink");var In={name:"lineEnding",tokenize:$p};function $p(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),_(t,e,"linePrefix")}}i($p,"tokenizeLineEnding");var Pt={name:"thematicBreak",tokenize:Up};function Up(t,e,n){let r=0,o;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return o=c,l(c)}function l(c){return c===o?(t.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||P(c))?(t.exit("thematicBreak"),e(c)):n(c)}function u(c){return c===o?(t.consume(c),r++,u):(t.exit("thematicBreakSequence"),D(c)?_(t,l,"whitespace")(c):l(c))}}i(Up,"tokenizeThematicBreak");var de={continuation:{tokenize:Kp},exit:Gp,name:"list",tokenize:Hp},Wp={partial:!0,tokenize:Yp},jp={partial:!0,tokenize:qp};function Hp(t,e,n){let r=this,o=r.events[r.events.length-1],s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return l;function l(h){let b=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Tn(h)){if(r.containerState.type||(r.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Pt,n,c)(h):c(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(h)}return n(h)}function u(h){return Tn(h)&&++a<10?(t.consume(h),u):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),c(h)):n(h)}function c(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(ft,r.interrupt?n:f,t.attempt(Wp,p,d))}function f(h){return r.containerState.initialBlankLine=!0,s++,p(h)}function d(h){return D(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}i(Hp,"tokenizeListStart");function Kp(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(ft,o,s);function o(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_(t,e,"listItemIndent",r.containerState.size+1)(l)}i(o,"onBlank");function s(l){return r.containerState.furtherBlankLines||!D(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(jp,e,a)(l))}i(s,"notBlank");function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,_(t,t.attempt(de,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}i(a,"notInCurrentItem")}i(Kp,"tokenizeListContinuation");function qp(t,e,n){let r=this;return _(t,o,"listItemIndent",r.containerState.size+1);function o(s){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}i(qp,"tokenizeIndent");function Gp(t){t.exit(this.containerState.type)}i(Gp,"tokenizeListEnd");function Yp(t,e,n){let r=this;return _(t,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){let a=r.events[r.events.length-1];return!D(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}i(Yp,"tokenizeListItemPrefixWhitespace");var vr={name:"setextUnderline",resolveTo:Jp,tokenize:Qp};function Jp(t,e){let n=t.length,r,o,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",s?(t.splice(o,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}i(Jp,"resolveToSetextUnderline");function Qp(t,e,n){let r=this,o;return s;function s(c){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),o=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===o?(t.consume(c),l):(t.exit("setextHeadingLineSequence"),D(c)?_(t,u,"lineSuffix")(c):u(c))}function u(c){return c===null||P(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}i(Qp,"tokenizeSetextUnderline");var Il={tokenize:Xp};function Xp(t){let e=this,n=t.attempt(ft,r,t.attempt(this.parser.constructs.flowInitial,o,_(t,t.attempt(this.parser.constructs.flow,o,t.attempt(Io,o)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}i(Xp,"initializeFlow");var Ol={resolveAll:Nl()},Rl=Dl("string"),Ml=Dl("text");function Dl(t){return{resolveAll:Nl(t==="text"?Zp:void 0),tokenize:e};function e(n){let r=this,o=this.parser.constructs[t],s=n.attempt(o,a,l);return a;function a(f){return c(f)?s(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;let d=o[f],p=-1;if(d)for(;++p<d.length;){let h=d[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}i(Dl,"initializeFactory");function Nl(t){return e;function e(n,r){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return t?t(n,r):n}}i(Nl,"createResolver");function Zp(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],o=e.sliceStream(r),s=o.length,a=-1,l=0,u;for(;s--;){let c=o[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(c===-2)u=!0,l++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){let c={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}i(Zp,"resolveAllLineSuffixes");var zo={};ka(zo,{attentionMarkers:()=>ah,contentInitial:()=>th,disable:()=>lh,document:()=>eh,flow:()=>rh,flowInitial:()=>nh,insideSpan:()=>sh,string:()=>ih,text:()=>oh});var eh={42:de,43:de,45:de,48:de,49:de,50:de,51:de,52:de,53:de,54:de,55:de,56:de,57:de,62:mr},th={91:Oo},nh={[-2]:Fn,[-1]:Fn,32:Fn},rh={35:Mo,42:Pt,45:[vr,Pt],60:No,61:vr,95:Pt,96:wr,126:wr},ih={38:br,92:gr},oh={[-5]:In,[-4]:In,[-3]:In,33:Bo,38:br,42:Pn,60:[Fo,_o],91:Vo,92:[Ro,gr],93:Tt,95:Pn,96:Lo},sh={null:[Pn,Ol]},ah={null:[42,95]},lh={null:[]};function _l(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},s=[],a=[],l=[],u=!0,c={attempt:M(B),check:M(W),consume:S,enter:L,exit:k,interrupt:M(W,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:t,previous:null,sliceSerialize:b,sliceStream:C,write:h},d=e.tokenize.call(f,c),p;return e.resolveAll&&s.push(e),f;function h(T){return a=ye(a,T),x(),a[a.length-1]!==null?[]:(z(e,0),f.events=Gt(s,f.events,f),f.events)}i(h,"write");function b(T,I){return ch(C(T),I)}i(b,"sliceSerialize");function C(T){return uh(a,T)}i(C,"sliceStream");function y(){let{_bufferIndex:T,_index:I,line:O,column:V,offset:j}=r;return{_bufferIndex:T,_index:I,line:O,column:V,offset:j}}i(y,"now");function w(T){o[T.line]=T.column,U()}i(w,"defineSkip");function x(){let T;for(;r._index<a.length;){let I=a[r._index];if(typeof I=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<I.length;)v(I.charCodeAt(r._bufferIndex));else v(I)}}i(x,"main");function v(T){u=void 0,p=T,d=d(T)}i(v,"go");function S(T){P(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,U()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=T,u=!0}i(S,"consume");function L(T,I){let O=I||{};return O.type=T,O.start=y(),f.events.push(["enter",O,f]),l.push(O),O}i(L,"enter");function k(T){let I=l.pop();return I.end=y(),f.events.push(["exit",I,f]),I}i(k,"exit");function B(T,I){z(T,I.from)}i(B,"onsuccessfulconstruct");function W(T,I){I.restore()}i(W,"onsuccessfulcheck");function M(T,I){return O;function O(V,j,re){let me,m,G,ie;return Array.isArray(V)?le(V):"tokenize"in V?le([V]):g(V);function g(oe){return mn;function mn(tt){let yt=tt!==null&&oe[tt],_t=tt!==null&&oe.null,co=[...Array.isArray(yt)?yt:yt?[yt]:[],...Array.isArray(_t)?_t:_t?[_t]:[]];return le(co)(tt)}}function le(oe){return me=oe,m=0,oe.length===0?re:wt(oe[m])}function wt(oe){return mn;function mn(tt){return ie=ne(),G=oe,oe.partial||(f.currentConstruct=oe),oe.name&&f.parser.constructs.disable.null.includes(oe.name)?Gn(tt):oe.tokenize.call(I?Object.assign(Object.create(f),I):f,c,uo,Gn)(tt)}}function uo(oe){return u=!0,T(G,ie),j}function Gn(oe){return u=!0,ie.restore(),++m<me.length?wt(me[m]):re}}}i(M,"constructFactory");function z(T,I){T.resolveAll&&!s.includes(T)&&s.push(T),T.resolve&&ae(f.events,I,f.events.length-I,T.resolve(f.events.slice(I),f)),T.resolveTo&&(f.events=T.resolveTo(f.events,f))}i(z,"addResult");function ne(){let T=y(),I=f.previous,O=f.currentConstruct,V=f.events.length,j=Array.from(l);return{from:V,restore:re};function re(){r=T,f.previous=I,f.currentConstruct=O,f.events.length=V,l=j,U()}}i(ne,"store");function U(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}i(U,"accountForPotentialSkip")}i(_l,"createTokenizer");function uh(t,e){let n=e.start._index,r=e.start._bufferIndex,o=e.end._index,s=e.end._bufferIndex,a;if(n===o)a=[t[n].slice(r,s)];else{if(a=t.slice(n,o),r>-1){let l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(t[o].slice(0,s))}return a}i(uh,"sliceChunks");function ch(t,e){let n=-1,r=[],o;for(;++n<t.length;){let s=t[n],a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&o)continue;a=" ";break}default:a=String.fromCharCode(s)}o=s===-2,r.push(a)}return r.join("")}i(ch,"serializeChunks");function $o(t){let r={constructs:yl([zo,...(t||{}).extensions||[]]),content:o(El),defined:[],document:o(Tl),flow:o(Il),lazy:{},string:o(Rl),text:o(Ml)};return r;function o(s){return a;function a(l){return _l(r,s,l)}}}i($o,"parse");function Uo(t){for(;!xr(t););return t}i(Uo,"postprocess");var Bl=/[\0\t\n\r]/g;function Wo(){let t=1,e="",n=!0,r;return o;function o(s,a,l){let u=[],c,f,d,p,h;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Bl.lastIndex=d,c=Bl.exec(s),p=c&&c.index!==void 0?c.index:s.length,h=s.charCodeAt(p),!c){e=s.slice(d);break}if(h===10&&d===p&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<p&&(u.push(s.slice(d,p)),t+=p-d),h){case 0:{u.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,u.push(-2);t++<f;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}d=p+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}i(Wo,"preprocess");var fh=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Er(t){return t.replace(fh,dh)}i(Er,"decodeString");function dh(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),s=o===120||o===88;return hr(n.slice(s?2:1),s?16:10)}return Kt(n)||t}i(dh,"decode");function dt(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Vl(t.position):"start"in t||"end"in t?Vl(t):"line"in t||"column"in t?jo(t):""}i(dt,"stringifyPosition");function jo(t){return zl(t&&t.line)+":"+zl(t&&t.column)}i(jo,"point");function Vl(t){return jo(t&&t.start)+"-"+jo(t&&t.end)}i(Vl,"position");function zl(t){return t&&typeof t=="number"?t:1}i(zl,"index");var Ul={}.hasOwnProperty;function Ho(t,e,n){return typeof e!="string"&&(n=e,e=void 0),ph(n)(Uo($o(n).document().write(Wo()(t,e,!0))))}i(Ho,"fromMarkdown");function ph(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ya),autolinkProtocol:M,autolinkEmail:M,atxHeading:s(ga),blockQuote:s(tt),characterEscape:M,characterReference:M,codeFenced:s(yt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(yt,a),codeText:s(_t,a),codeTextData:M,data:M,codeFlowValue:M,definition:s(co),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Bf),hardBreakEscape:s(ba),hardBreakTrailing:s(ba),htmlFlow:s(wa,a),htmlFlowData:M,htmlText:s(wa,a),htmlTextData:M,image:s(Vf),label:a,link:s(ya),listItem:s(zf),listItemValue:p,listOrdered:s(xa,d),listUnordered:s(xa),paragraph:s($f),reference:g,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(ga),strong:s(Uf),thematicBreak:s(jf)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:mn,autolinkProtocol:oe,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:wt,characterReferenceMarkerNumeric:wt,characterReferenceValue:uo,characterReference:Gn,codeFenced:u(y),codeFencedFence:C,codeFencedFenceInfo:h,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:u(w),codeText:u(O),codeTextData:z,data:z,definition:u(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:v,emphasis:u(),hardBreakEscape:u(U),hardBreakTrailing:u(U),htmlFlow:u(T),htmlFlowData:z,htmlText:u(I),htmlTextData:z,image:u(j),label:me,labelText:re,lineEnding:ne,link:u(V),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:le,resourceDestinationString:m,resourceTitleString:G,resource:ie,setextHeading:u(W),setextHeadingLineSequence:B,setextHeadingText:k,strong:u(),thematicBreak:u()}};Wl(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(A){let E={type:"root",children:[]},N={stack:[E],tokenStack:[],config:e,enter:l,exit:c,buffer:a,resume:f,data:n},$=[],q=-1;for(;++q<A.length;)if(A[q][1].type==="listOrdered"||A[q][1].type==="listUnordered")if(A[q][0]==="enter")$.push(q);else{let $e=$.pop();q=o(A,$e,q)}for(q=-1;++q<A.length;){let $e=e[A[q][0]];Ul.call($e,A[q][1].type)&&$e[A[q][1].type].call(Object.assign({sliceSerialize:A[q][2].sliceSerialize},N),A[q][1])}if(N.tokenStack.length>0){let $e=N.tokenStack[N.tokenStack.length-1];($e[1]||$l).call(N,void 0,$e[0])}for(E.position={start:pt(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:pt(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},q=-1;++q<e.transforms.length;)E=e.transforms[q](E)||E;return E}function o(A,E,N){let $=E-1,q=-1,$e=!1,xt,nt,gn,bn;for(;++$<=N;){let Pe=A[$];switch(Pe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pe[0]==="enter"?q++:q--,bn=void 0;break}case"lineEndingBlank":{Pe[0]==="enter"&&(xt&&!bn&&!q&&!gn&&(gn=$),bn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bn=void 0}if(!q&&Pe[0]==="enter"&&Pe[1].type==="listItemPrefix"||q===-1&&Pe[0]==="exit"&&(Pe[1].type==="listUnordered"||Pe[1].type==="listOrdered")){if(xt){let Bt=$;for(nt=void 0;Bt--;){let rt=A[Bt];if(rt[1].type==="lineEnding"||rt[1].type==="lineEndingBlank"){if(rt[0]==="exit")continue;nt&&(A[nt][1].type="lineEndingBlank",$e=!0),rt[1].type="lineEnding",nt=Bt}else if(!(rt[1].type==="linePrefix"||rt[1].type==="blockQuotePrefix"||rt[1].type==="blockQuotePrefixWhitespace"||rt[1].type==="blockQuoteMarker"||rt[1].type==="listItemIndent"))break}gn&&(!nt||gn<nt)&&(xt._spread=!0),xt.end=Object.assign({},nt?A[nt][1].start:Pe[1].end),A.splice(nt||$,0,["exit",xt,Pe[2]]),$++,N++}if(Pe[1].type==="listItemPrefix"){let Bt={type:"listItem",_spread:!1,start:Object.assign({},Pe[1].start),end:void 0};xt=Bt,A.splice($,0,["enter",Bt,Pe[2]]),$++,N++,gn=void 0,bn=!0}}}return A[E][1]._spread=$e,N}function s(A,E){return N;function N($){l.call(this,A($),$),E&&E.call(this,$)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(A,E,N){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([E,N||void 0]),A.position={start:pt(E.start),end:void 0}}function u(A){return E;function E(N){A&&A.call(this,N),c.call(this,N)}}function c(A,E){let N=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==A.type&&(E?E.call(this,A,$[0]):($[1]||$l).call(this,A,$[0]));else throw new Error("Cannot close `"+A.type+"` ("+dt({start:A.start,end:A.end})+"): it\u2019s not open");N.position.end=pt(A.end)}function f(){return Et(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(A){if(this.data.expectingFirstListItemValue){let E=this.stack[this.stack.length-2];E.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function h(){let A=this.resume(),E=this.stack[this.stack.length-1];E.lang=A}function b(){let A=this.resume(),E=this.stack[this.stack.length-1];E.meta=A}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A.replace(/(\r?\n|\r)$/g,"")}function x(A){let E=this.resume(),N=this.stack[this.stack.length-1];N.label=E,N.identifier=st(this.sliceSerialize(A)).toLowerCase()}function v(){let A=this.resume(),E=this.stack[this.stack.length-1];E.title=A}function S(){let A=this.resume(),E=this.stack[this.stack.length-1];E.url=A}function L(A){let E=this.stack[this.stack.length-1];if(!E.depth){let N=this.sliceSerialize(A).length;E.depth=N}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function B(A){let E=this.stack[this.stack.length-1];E.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function M(A){let N=this.stack[this.stack.length-1].children,$=N[N.length-1];(!$||$.type!=="text")&&($=Wf(),$.position={start:pt(A.start),end:void 0},N.push($)),this.stack.push($)}function z(A){let E=this.stack.pop();E.value+=this.sliceSerialize(A),E.position.end=pt(A.end)}function ne(A){let E=this.stack[this.stack.length-1];if(this.data.atHardBreak){let N=E.children[E.children.length-1];N.position.end=pt(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(E.type)&&(M.call(this,A),z.call(this,A))}function U(){this.data.atHardBreak=!0}function T(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function I(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function O(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function V(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=E,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function j(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=E,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function re(A){let E=this.sliceSerialize(A),N=this.stack[this.stack.length-2];N.label=Er(E),N.identifier=st(E).toLowerCase()}function me(){let A=this.stack[this.stack.length-1],E=this.resume(),N=this.stack[this.stack.length-1];if(this.data.inReference=!0,N.type==="link"){let $=A.children;N.children=$}else N.alt=E}function m(){let A=this.resume(),E=this.stack[this.stack.length-1];E.url=A}function G(){let A=this.resume(),E=this.stack[this.stack.length-1];E.title=A}function ie(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function le(A){let E=this.resume(),N=this.stack[this.stack.length-1];N.label=E,N.identifier=st(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function wt(A){this.data.characterReferenceType=A.type}function uo(A){let E=this.sliceSerialize(A),N=this.data.characterReferenceType,$;N?($=hr(E,N==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=Kt(E);let q=this.stack[this.stack.length-1];q.value+=$}function Gn(A){let E=this.stack.pop();E.position.end=pt(A.end)}function oe(A){z.call(this,A);let E=this.stack[this.stack.length-1];E.url=this.sliceSerialize(A)}function mn(A){z.call(this,A);let E=this.stack[this.stack.length-1];E.url="mailto:"+this.sliceSerialize(A)}function tt(){return{type:"blockquote",children:[]}}function yt(){return{type:"code",lang:null,meta:null,value:""}}function _t(){return{type:"inlineCode",value:""}}function co(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Bf(){return{type:"emphasis",children:[]}}function ga(){return{type:"heading",depth:0,children:[]}}function ba(){return{type:"break"}}function wa(){return{type:"html",value:""}}function Vf(){return{type:"image",title:null,url:"",alt:null}}function ya(){return{type:"link",title:null,url:"",children:[]}}function xa(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function zf(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function $f(){return{type:"paragraph",children:[]}}function Uf(){return{type:"strong",children:[]}}function Wf(){return{type:"text",value:""}}function jf(){return{type:"thematicBreak"}}}i(ph,"compiler");function pt(t){return{line:t.line,column:t.column,offset:t.offset}}i(pt,"point");function Wl(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Wl(t,r):hh(t,r)}}i(Wl,"configure");function hh(t,e){let n;for(n in e)if(Ul.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}i(hh,"extension");function $l(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+dt({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+dt({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+dt({start:e.start,end:e.end})+") is still open")}i($l,"defaultOnError");function Yt(t){let e=this;e.parser=n;function n(r){return Ho(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}i(n,"parser")}i(Yt,"remarkParse");var jl={}.hasOwnProperty;function Hl(t,e){let n=e||{};function r(o,...s){let a=r.invalid,l=r.handlers;if(o&&jl.call(o,t)){let u=String(o[t]);a=jl.call(l,u)?l[u]:r.unknown}if(a)return a.call(this,o,...s)}return i(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}i(Hl,"zwitch");var mh={}.hasOwnProperty;function Ko(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Ko(t,e.extensions[n]);for(r in e)if(mh.call(e,r))switch(r){case"extensions":break;case"unsafe":{Kl(t[r],e[r]);break}case"join":{Kl(t[r],e[r]);break}case"handlers":{gh(t[r],e[r]);break}default:t.options[r]=e[r]}return t}i(Ko,"configure");function Kl(t,e){e&&t.push(...e)}i(Kl,"list");function gh(t,e){e&&Object.assign(t,e)}i(gh,"map");function ql(t,e,n,r){let o=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let a=n.indentLines(n.containerFlow(t,s.current()),bh);return o(),a}i(ql,"blockquote");function bh(t,e,n){return">"+(n?"":" ")+t}i(bh,"map");function Sr(t,e){return Gl(t,e.inConstruct,!0)&&!Gl(t,e.notInConstruct,!1)}i(Sr,"patternInScope");function Gl(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}i(Gl,"listInScope");function qo(t,e,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Sr(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}i(qo,"hardBreak");function Yl(t,e){let n=String(t),r=n.indexOf(e),o=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++s>a&&(a=s):s=1,o=r+e.length,r=n.indexOf(e,o);return a}i(Yl,"longestStreak");function On(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}i(On,"formatCodeAsIndented");function Jl(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}i(Jl,"checkFence");function Ql(t,e,n,r){let o=Jl(n),s=t.value||"",a=o==="`"?"GraveAccent":"Tilde";if(On(t,n)){let d=n.enter("codeIndented"),p=n.indentLines(s,wh);return d(),p}let l=n.createTracker(r),u=o.repeat(Math.max(Yl(s,o)+1,3)),c=n.enter("codeFenced"),f=l.move(u);if(t.lang){let d=n.enter(`codeFencedLang${a}`);f+=l.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...l.current()})),d()}if(t.lang&&t.meta){let d=n.enter(`codeFencedMeta${a}`);f+=l.move(" "),f+=l.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...l.current()})),d()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(u),c(),f}i(Ql,"code");function wh(t,e,n){return(n?"":"    ")+t}i(wh,"map");function Jt(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}i(Jt,"checkQuote");function Xl(t,e,n,r){let o=Jt(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("definition"),l=n.enter("label"),u=n.createTracker(r),c=u.move("[");return c+=u.move(n.safe(n.associationId(t),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=u.move(" "+o),c+=u.move(n.safe(t.title,{before:c,after:o,...u.current()})),c+=u.move(o),l()),a(),c}i(Xl,"definition");function Zl(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}i(Zl,"checkEmphasis");function Oe(t){return"&#x"+t.toString(16).toUpperCase()+";"}i(Oe,"encodeCharacterReference");function Qt(t,e,n){let r=qt(t),o=qt(e);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}i(Qt,"encodeInfo");Go.peek=yh;function Go(t,e,n,r){let o=Zl(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(o),u=a.move(n.containerPhrasing(t,{after:o,before:l,...a.current()})),c=u.charCodeAt(0),f=Qt(r.before.charCodeAt(r.before.length-1),c,o);f.inside&&(u=Oe(c)+u.slice(1));let d=u.charCodeAt(u.length-1),p=Qt(r.after.charCodeAt(0),d,o);p.inside&&(u=u.slice(0,-1)+Oe(d));let h=a.move(o);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+u+h}i(Go,"emphasis");function yh(t,e,n){return n.options.emphasis||"*"}i(yh,"emphasisPeek");var Xt=i((function(t){if(t==null)return Ah;if(typeof t=="function")return Tr(t);if(typeof t=="object")return Array.isArray(t)?xh(t):kh(t);if(typeof t=="string")return Ch(t);throw new Error("Expected function, string, or object as test")}),"convert");function xh(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Xt(t[n]);return Tr(r);function r(...o){let s=-1;for(;++s<e.length;)if(e[s].apply(this,o))return!0;return!1}}i(xh,"anyFactory");function kh(t){let e=t;return Tr(n);function n(r){let o=r,s;for(s in t)if(o[s]!==e[s])return!1;return!0}}i(kh,"propertiesFactory");function Ch(t){return Tr(e);function e(n){return n&&n.type===t}}i(Ch,"typeFactory");function Tr(t){return e;function e(n,r,o){return!!(vh(n)&&t.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}i(Tr,"castFactory");function Ah(){return!0}i(Ah,"ok");function vh(t){return t!==null&&typeof t=="object"&&"type"in t}i(vh,"looksLikeANode");function eu(t){return"\x1B[33m"+t+"\x1B[39m"}i(eu,"color");var tu=[],Pr=!0,Ft=!1,Fr="skip";function Yo(t,e,n,r){let o;typeof e=="function"&&typeof n!="function"?(r=n,n=e):o=e;let s=Xt(o),a=r?-1:1;l(t,void 0,[])();function l(u,c,f){let d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){let h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+eu(u.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=tu,b,C,y;if((!e||s(u,c,f[f.length-1]||void 0))&&(h=Eh(n(u,f)),h[0]===Ft))return h;if("children"in u&&u.children){let w=u;if(w.children&&h[0]!==Fr)for(C=(r?w.children.length:-1)+a,y=f.concat(w);C>-1&&C<w.children.length;){let x=w.children[C];if(b=l(x,C,y)(),b[0]===Ft)return b;C=typeof b[1]=="number"?b[1]:C+a}}return h}}i(l,"factory")}i(Yo,"visitParents");function Eh(t){return Array.isArray(t)?t:typeof t=="number"?[Pr,t]:t==null?tu:[t]}i(Eh,"toResult");function Rn(t,e,n,r){let o,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,o=n):(s=e,a=n,o=r),Yo(t,s,l,o);function l(u,c){let f=c[c.length-1],d=f?f.children.indexOf(u):void 0;return a(u,d,f)}i(l,"overload")}i(Rn,"visit");function Lr(t,e){let n=!1;return Rn(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ft}),!!((!t.depth||t.depth<3)&&Et(t)&&(e.options.setext||n))}i(Lr,"formatHeadingAsSetext");function nu(t,e,n,r){let o=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Lr(t,n)){let f=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),f(),p+`
`+(o===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}let a="#".repeat(o),l=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Oe(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),u(),l(),c}i(nu,"heading");Jo.peek=Sh;function Jo(t){return t.value||""}i(Jo,"html");function Sh(){return"<"}i(Sh,"htmlPeek");Qo.peek=Th;function Qo(t,e,n,r){let o=Jt(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("image"),l=n.enter("label"),u=n.createTracker(r),c=u.move("![");return c+=u.move(n.safe(t.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":")",...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=u.move(" "+o),c+=u.move(n.safe(t.title,{before:c,after:o,...u.current()})),c+=u.move(o),l()),c+=u.move(")"),a(),c}i(Qo,"image");function Th(){return"!"}i(Th,"imagePeek");Xo.peek=Ph;function Xo(t,e,n,r){let o=t.referenceType,s=n.enter("imageReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("!["),c=n.safe(t.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),o==="full"||!c||c!==d?u+=l.move(d+"]"):o==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}i(Xo,"imageReference");function Ph(){return"!"}i(Ph,"imageReferencePeek");Zo.peek=Fh;function Zo(t,e,n){let r=t.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let a=n.unsafe[s],l=n.compilePattern(a),u;if(a.atBreak)for(;u=l.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return o+r+o}i(Zo,"inlineCode");function Fh(){return"`"}i(Fh,"inlineCodePeek");function es(t,e){let n=Et(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}i(es,"formatLinkAsAutolink");ts.peek=Lh;function ts(t,e,n,r){let o=Jt(n),s=o==='"'?"Quote":"Apostrophe",a=n.createTracker(r),l,u;if(es(t,n)){let f=n.stack;n.stack=[],l=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(t,{before:d,after:">",...a.current()})),d+=a.move(">"),l(),n.stack=f,d}l=n.enter("link"),u=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(t,{before:c,after:"](",...a.current()})),c+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=n.enter("destinationRaw"),c+=a.move(n.safe(t.url,{before:c,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${s}`),c+=a.move(" "+o),c+=a.move(n.safe(t.title,{before:c,after:o,...a.current()})),c+=a.move(o),u()),c+=a.move(")"),l(),c}i(ts,"link");function Lh(t,e,n){return es(t,n)?"<":"["}i(Lh,"linkPeek");ns.peek=Ih;function ns(t,e,n,r){let o=t.referenceType,s=n.enter("linkReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("["),c=n.containerPhrasing(t,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),o==="full"||!c||c!==d?u+=l.move(d+"]"):o==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}i(ns,"linkReference");function Ih(){return"["}i(Ih,"linkReferencePeek");function Zt(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}i(Zt,"checkBullet");function ru(t){let e=Zt(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}i(ru,"checkBulletOther");function iu(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}i(iu,"checkBulletOrdered");function Ir(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}i(Ir,"checkRule");function ou(t,e,n,r){let o=n.enter("list"),s=n.bulletCurrent,a=t.ordered?iu(n):Zt(n),l=t.ordered?a==="."?")":".":ru(n),u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){let f=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),Ir(n)===a&&f){let d=-1;for(;++d<t.children.length;){let p=t.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),n.bulletCurrent=a;let c=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,o(),c}i(ou,"list");function su(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}i(su,"checkListItemIndent");function au(t,e,n,r){let o=su(n),s=n.bulletCurrent||Zt(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);let l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);let u=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,l.current()),f);return u(),c;function f(d,p,h){return p?(h?"":" ".repeat(a))+d:(h?s:s+" ".repeat(a-s.length))+d}i(f,"map")}i(au,"listItem");function lu(t,e,n,r){let o=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),o(),a}i(lu,"paragraph");var rs=Xt(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function uu(t,e,n,r){return(t.children.some(function(a){return rs(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}i(uu,"root");function cu(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}i(cu,"checkStrong");is.peek=Oh;function is(t,e,n,r){let o=cu(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(o+o),u=a.move(n.containerPhrasing(t,{after:o,before:l,...a.current()})),c=u.charCodeAt(0),f=Qt(r.before.charCodeAt(r.before.length-1),c,o);f.inside&&(u=Oe(c)+u.slice(1));let d=u.charCodeAt(u.length-1),p=Qt(r.after.charCodeAt(0),d,o);p.inside&&(u=u.slice(0,-1)+Oe(d));let h=a.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+u+h}i(is,"strong");function Oh(t,e,n){return n.options.strong||"*"}i(Oh,"strongPeek");function fu(t,e,n,r){return n.safe(t.value,r)}i(fu,"text");function du(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}i(du,"checkRuleRepetition");function pu(t,e,n){let r=(Ir(n)+(n.options.ruleSpaces?" ":"")).repeat(du(n));return n.options.ruleSpaces?r.slice(0,-1):r}i(pu,"thematicBreak");var hu={blockquote:ql,break:qo,code:Ql,definition:Xl,emphasis:Go,hardBreak:qo,heading:nu,html:Jo,image:Qo,imageReference:Xo,inlineCode:Zo,link:ts,linkReference:ns,list:ou,listItem:au,paragraph:lu,root:uu,strong:is,text:fu,thematicBreak:pu};var mu=[Rh];function Rh(t,e,n,r){if(e.type==="code"&&On(e,r)&&(t.type==="list"||t.type===e.type&&On(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Lr(e,r))?void 0:n.spread?1:0}i(Rh,"joinDefaults");var Lt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],gu=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Lt},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Lt},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Lt},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Lt},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Lt},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Lt},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Lt},{atBreak:!0,character:"~"}];function bu(t){return t.label||!t.identifier?t.label||"":Er(t.identifier)}i(bu,"association");function wu(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}i(wu,"compilePattern");function yu(t,e,n){let r=e.indexStack,o=t.children||[],s=[],a=-1,l=n.before,u;r.push(-1);let c=e.createTracker(n);for(;++a<o.length;){let f=o[a],d;if(r[r.length-1]=a,a+1<o.length){let b=e.handle.handlers[o[a+1].type];b&&b.peek&&(b=b.peek),d=b?b(o[a+1],t,e,{before:"",after:"",...c.current()}).charAt(0):""}else d=n.after;s.length>0&&(l==="\r"||l===`
`)&&f.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),l=" ",c=e.createTracker(n),c.move(s.join("")));let p=e.handle(f,t,e,{...c.current(),after:d,before:l});u&&u===p.slice(0,1)&&(p=Oe(u.charCodeAt(0))+p.slice(1));let h=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,u=void 0,h&&(s.length>0&&h.before&&l===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Oe(l.charCodeAt(0))),h.after&&(u=d)),c.move(p),s.push(p),l=p.slice(-1)}return r.pop(),s.join("")}i(yu,"containerPhrasing");function xu(t,e,n){let r=e.indexStack,o=t.children||[],s=e.createTracker(n),a=[],l=-1;for(r.push(-1);++l<o.length;){let u=o[l];r[r.length-1]=l,a.push(s.move(e.handle(u,t,e,{before:`
`,after:`
`,...s.current()}))),u.type!=="list"&&(e.bulletLastUsed=void 0),l<o.length-1&&a.push(s.move(Mh(u,o[l+1],t,e)))}return r.pop(),a.join("")}i(xu,"containerFlow");function Mh(t,e,n,r){let o=r.join.length;for(;o--;){let s=r.join[o](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}i(Mh,"between");var Dh=/\r?\n|\r/g;function ku(t,e){let n=[],r=0,o=0,s;for(;s=Dh.exec(t);)a(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,o++;return a(t.slice(r)),n.join("");function a(l){n.push(e(l,o,!l))}i(a,"one")}i(ku,"indentLines");function Au(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),o=[],s=[],a={},l=-1;for(;++l<t.unsafe.length;){let f=t.unsafe[l];if(!Sr(t.stack,f))continue;let d=t.compilePattern(f),p;for(;p=d.exec(r);){let h="before"in f||!!f.atBreak,b="after"in f,C=p.index+(h?p[1].length:0);o.includes(C)?(a[C].before&&!h&&(a[C].before=!1),a[C].after&&!b&&(a[C].after=!1)):(o.push(C),a[C]={before:h,after:b})}}o.sort(Nh);let u=n.before?n.before.length:0,c=r.length-(n.after?n.after.length:0);for(l=-1;++l<o.length;){let f=o[l];f<u||f>=c||f+1<c&&o[l+1]===f+1&&a[f].after&&!a[f+1].before&&!a[f+1].after||o[l-1]===f-1&&a[f].before&&!a[f-1].before&&!a[f-1].after||(u!==f&&s.push(Cu(r.slice(u,f),"\\")),u=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?s.push("\\"):(s.push(Oe(r.charCodeAt(f))),u++))}return s.push(Cu(r.slice(u,c),n.after)),s.join("")}i(Au,"safe");function Nh(t,e){return t-e}i(Nh,"numerical");function Cu(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],s=t+e,a=-1,l=0,u;for(;u=n.exec(s);)r.push(u.index);for(;++a<r.length;)l!==r[a]&&o.push(t.slice(l,r[a])),o.push("\\"),l=r[a];return o.push(t.slice(l)),o.join("")}i(Cu,"escapeBackslashes");function vu(t){let e=t||{},n=e.now||{},r=e.lineShift||0,o=n.line||1,s=n.column||1;return{move:u,current:a,shift:l};function a(){return{now:{line:o,column:s},lineShift:r}}function l(c){r+=c}function u(c){let f=c||"",d=f.split(/\r?\n|\r/g),p=d[d.length-1];return o+=d.length-1,s=d.length===1?s+p.length:1+p.length+r,f}}i(vu,"track");function os(t,e){let n=e||{},r={associationId:bu,containerPhrasing:zh,containerFlow:$h,createTracker:vu,compilePattern:wu,enter:s,handlers:{...hu},handle:void 0,indentLines:ku,indexStack:[],join:[...mu],options:{},safe:Uh,stack:[],unsafe:[...gu]};Ko(r,n),r.options.tightDefinitions&&r.join.push(Vh),r.handle=Hl("type",{invalid:_h,unknown:Bh,handlers:r.handlers});let o=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function s(a){return r.stack.push(a),l;function l(){r.stack.pop()}i(l,"exit")}i(s,"enter")}i(os,"toMarkdown");function _h(t){throw new Error("Cannot handle value `"+t+"`, expected node")}i(_h,"invalid");function Bh(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}i(Bh,"unknown");function Vh(t,e){if(t.type==="definition"&&t.type===e.type)return 0}i(Vh,"joinDefinition");function zh(t,e){return yu(t,this,e)}i(zh,"containerPhrasingBound");function $h(t,e){return xu(t,this,e)}i($h,"containerFlowBound");function Uh(t,e){return Au(this,t,e)}i(Uh,"safeBound");function Or(t){let e=this;e.compiler=n;function n(r){return os(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}i(n,"compiler")}i(Or,"remarkStringify");function ss(t){if(t)throw t}i(ss,"bail");var Nr=Vt(Ru(),1);function Mn(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}i(Mn,"isPlainObject");function as(){let t=[],e={run:n,use:r};return e;function n(...o){let s=-1,a=o.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...o);function l(u,...c){let f=t[++s],d=-1;if(u){a(u);return}for(;++d<o.length;)(c[d]===null||c[d]===void 0)&&(c[d]=o[d]);o=c,f?Mu(f,l)(...c):a(null,...c)}i(l,"next")}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}i(as,"trough");function Mu(t,e){let n;return r;function r(...a){let l=t.length>a.length,u;l&&a.push(o);try{u=t.apply(this,a)}catch(c){let f=c;if(l&&n)throw f;return o(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,o):u instanceof Error?o(u):s(u))}function o(a,...l){n||(n=!0,e(a,...l))}function s(a){o(null,a)}}i(Mu,"wrap");var ee=class extends Error{static{i(this,"VFileMessage")}constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?o=e:!s.cause&&e&&(a=!0,o=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){let u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}let l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=dt(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};ee.prototype.file="";ee.prototype.name="";ee.prototype.reason="";ee.prototype.message="";ee.prototype.stack="";ee.prototype.column=void 0;ee.prototype.line=void 0;ee.prototype.ancestors=void 0;ee.prototype.cause=void 0;ee.prototype.fatal=void 0;ee.prototype.place=void 0;ee.prototype.ruleId=void 0;ee.prototype.source=void 0;var Be=Vt(require("node:path"),1);var ls=Vt(require("node:process"),1);var us=require("node:url");function Mr(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}i(Mr,"isUrl");var cs=["history","path","basename","stem","extname","dirname"],Dn=class{static{i(this,"VFile")}constructor(e){let n;e?Mr(e)?n={path:e}:typeof e=="string"||Wh(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":ls.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cs.length;){let s=cs[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)cs.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Be.default.basename(this.path):void 0}set basename(e){ds(e,"basename"),fs(e,"basename"),this.path=Be.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Be.default.dirname(this.path):void 0}set dirname(e){Du(this.basename,"dirname"),this.path=Be.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Be.default.extname(this.path):void 0}set extname(e){if(fs(e,"extname"),Du(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Be.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Mr(e)&&(e=(0,us.fileURLToPath)(e)),ds(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Be.default.basename(this.path,this.extname):void 0}set stem(e){ds(e,"stem"),fs(e,"stem"),this.path=Be.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let o=this.message(e,n,r);throw o.fatal=!0,o}info(e,n,r){let o=this.message(e,n,r);return o.fatal=void 0,o}message(e,n,r){let o=new ee(e,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function fs(t,e){if(t&&t.includes(Be.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Be.default.sep+"`")}i(fs,"assertPart");function ds(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}i(ds,"assertNonEmpty");function Du(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}i(Du,"assertPath");function Wh(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}i(Wh,"isUint8Array");var Nu=i((function(t){let r=this.constructor.prototype,o=r[t],s=i(function(){return o.apply(s,arguments)},"apply");return Object.setPrototypeOf(s,r),s}),"CallableInstance");var jh={}.hasOwnProperty,gs=class t extends Nu{static{i(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=as()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,Nr.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ms("data",this.frozen),this.namespace[e]=n,this):jh.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ms("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let o=n.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Dr(e),r=this.parser||this.Parser;return ps("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),ps("process",this.parser||this.Parser),hs("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,a){let l=Dr(e),u=r.parse(l);r.run(u,l,function(f,d,p){if(f||!d||!p)return c(f);let h=d,b=r.stringify(h,p);Kh(b)?p.value=b:p.result=b,c(f,p)});function c(f,d){f||!d?a(f):s?s(d):n(void 0,d)}i(c,"realDone")}i(o,"executor")}processSync(e){let n=!1,r;return this.freeze(),ps("processSync",this.parser||this.Parser),hs("processSync",this.compiler||this.Compiler),this.process(e,o),Bu("processSync","process",n),r;function o(s,a){n=!0,ss(s),r=a}i(o,"realDone")}run(e,n,r){_u(e),this.freeze();let o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){let u=Dr(n);o.run(e,u,c);function c(f,d,p){let h=d||e;f?l(f):a?a(h):r(void 0,h,p)}i(c,"realDone")}i(s,"executor")}runSync(e,n){let r=!1,o;return this.run(e,n,s),Bu("runSync","run",r),o;function s(a,l){ss(a),o=l,r=!0}i(s,"realDone")}stringify(e,n){this.freeze();let r=Dr(n),o=this.compiler||this.Compiler;return hs("stringify",o),_u(e),o(e,r)}use(e,...n){let r=this.attachers,o=this.namespace;if(ms("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){let[f,...d]=c;u(f,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(o.settings=(0,Nr.default)(!0,o.settings,c.settings))}function l(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){let d=c[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...f]);else if(f.length>0){let[h,...b]=f,C=r[p][1];Mn(C)&&Mn(h)&&(h=(0,Nr.default)(!0,C,h)),r[p]=[c,h,...b]}}}},bs=new gs().freeze();function ps(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}i(ps,"assertParser");function hs(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}i(hs,"assertCompiler");function ms(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}i(ms,"assertUnfrozen");function _u(t){if(!Mn(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}i(_u,"assertNode");function Bu(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}i(Bu,"assertDone");function Dr(t){return Hh(t)?t:new Dn(t)}i(Dr,"vfile");function Hh(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}i(Hh,"looksLikeAVFile");function Kh(t){return typeof t=="string"||qh(t)}i(Kh,"looksLikeAValue");function qh(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}i(qh,"isUint8Array");var Vu=bs().use(Yt).use(Or).freeze();var ys={d:i((t,e)=>{for(var n in e)ys.o(e,n)&&!ys.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:i((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},xs={};ys.d(xs,{Z:i(()=>Qh,"Z"),$:i(()=>Wu,"$")});var en={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function zu(t){return t<en.nul||t===en.space}i(zu,"n");function ws(t){return t<en.horizontalTab}i(ws,"i");var Gh={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,o){var s;if(!r)return o;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}i(e,"t"),t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(l,u,c){for(var f,d,p,h,b,C,y,w,x=(c.before||"")+(u||"")+(c.after||""),v=[],S=[],L={},k=-1;++k<l.unsafe.length;)if(h=l.unsafe[k],o(l.stack,h))for(b=r(h);C=b.exec(x);)f="before"in h||h.atBreak,d="after"in h,p=C.index+(f?C[1].length:0),v.indexOf(p)===-1?(v.push(p),L[p]={before:f,after:d}):(L[p].before&&!f&&(L[p].before=!1),L[p].after&&!d&&(L[p].after=!1));for(v.sort(s),y=c.before?c.before.length:0,w=x.length-(c.after?c.after.length:0),k=-1;++k<v.length;)(p=v[k])<y||p>=w||p+1<w&&v[k+1]===p+1&&L[p].after&&!L[p+1].before&&!L[p+1].after||(y!==p&&S.push(a(x.slice(y,p),"\\")),y=p,!/[!-/:-@[-`{-~]/.test(x.charAt(p))||c.encode&&c.encode.indexOf(x.charAt(p))!==-1?(S.push("&#x"+x.charCodeAt(p).toString(16).toUpperCase()+";"),y++):S.push("\\"));return S.push(a(x.slice(y,w),c.after)),S.join("")};var r=n(553),o=n(112);function s(l,u){return l-u}i(s,"a");function a(l,u){for(var c,f=/\\(?=[!-/:-@[-`{-~])/g,d=[],p=[],h=-1,b=0,C=l+u;c=f.exec(C);)d.push(c.index);for(;++h<d.length;)b!==d[h]&&p.push(l.slice(b,d[h])),p.push("\\"),b=d[h];return p.push(l.slice(b)),p.join("")}i(a,"o")}},$u={};function Ze(t){var e=$u[t];if(e!==void 0)return e.exports;var n=$u[t]={exports:{}};return Gh[t](n,n.exports,Ze),n.exports}i(Ze,"s");Ze.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Ze.d(e,{a:e}),e},Ze.d=(t,e)=>{for(var n in e)Ze.o(e,n)&&!Ze.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Ze.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ks={};(()=>{function t(o={}){let s=o.permalinks||[],a=o.pageResolver||(p=>[p.replace(/ /g,"_").toLowerCase()]),l=o.newClassName||"new",u=o.wikiLinkClassName||"internal",c=o.hrefTemplate||(p=>`#/page/${p}`),f;function d(p){return p[p.length-1]}return i(d,"s"),{enter:{wikiLink:i(function(p){f={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(f,p)},"wikiLink")},exit:{wikiLinkTarget:i(function(p){let h=this.sliceSerialize(p);d(this.stack).value=h},"wikiLinkTarget"),wikiLinkAlias:i(function(p){let h=this.sliceSerialize(p);d(this.stack).data.alias=h},"wikiLinkAlias"),wikiLink:i(function(p){this.exit(p);let h=f,b=a(h.value),C=b.find((S=>s.indexOf(S)!==-1)),y=C!==void 0,w;w=y?C:b[0]||"";let x=h.value;h.data.alias&&(x=h.data.alias);let v=u;y||(v+=" "+l),h.data.alias=x,h.data.permalink=w,h.data.exists=y,h.data.hName="a",h.data.hProperties={className:v,href:c(w)},h.data.hChildren=[{type:"text",value:x}]},"wikiLink")}}}i(t,"e"),Ze.d(ks,{V:i(()=>t,"V"),x:i(()=>r,"x")});var e=Ze(113),n=Ze.n(e);function r(o={}){let s=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:i(function(a,l,u){let c=u.enter("wikiLink"),f=n()(u,a.value,{before:"[",after:"]"}),d=n()(u,a.data.alias,{before:"[",after:"]"}),p;return p=d!==f?`[[${f}${s}${d}]]`:`[[${f}]]`,c(),p},"wikiLink")}}}i(r,"n")})();var Yh=ks.V,Jh=ks.x,Uu=!1;function Wu(t={}){let e=this.data();function n(r,o){e[r]?e[r].push(o):e[r]=[o]}i(n,"a"),!Uu&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Uu=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:i(function(s,a,l){var u,c,f=0,d=0,p=0;return function(x){return x!=="[[".charCodeAt(d)?l(x):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),h(x))};function h(x){return d===2?(s.exit("wikiLinkMarker"),(function(v){return ws(v)||v===en.eof?l(v):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),b(v))})(x)):x!=="[[".charCodeAt(d)?l(x):(s.consume(x),d++,h)}function b(x){return x===r.charCodeAt(f)?u?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),C(x)):l(x):x===o.charCodeAt(p)?u?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),w(x)):l(x):ws(x)||x===en.eof?l(x):(zu(x)||(u=!0),s.consume(x),b)}function C(x){return f===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),y(x)):x!==r.charCodeAt(f)?l(x):(s.consume(x),f++,C)}function y(x){return x===o.charCodeAt(p)?c?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),w(x)):l(x):ws(x)||x===en.eof?l(x):(zu(x)||(c=!0),s.consume(x),y)}function w(x){return p===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),a(x)):x!==o.charCodeAt(p)?l(x):(s.consume(x),p++,w)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",Yh(t)),n("toMarkdownExtensions",Jh(t))}i(Wu,"k");var Qh=Wu,Mv=xs.Z,ju=xs.$;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Hu=".",Xh=[{constructor:ArrayBuffer,equalityComparer:em},{constructor:Date,equalityComparer:tm},{constructor:RegExp,equalityComparer:rm},{constructor:Map,equalityComparer:nm},{constructor:Set,equalityComparer:im}];function Ve(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let u=om(t,e);if(u!==void 0)return u}let o=tn(t),s=tn(e);if(o.length!==s.length)return!1;let a=t,l=e;for(let u of o)if(!s.includes(u)||!Ve(a[u],l[u]))return!1;return!0}i(Ve,"deepEqual");function ht(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}i(ht,"extractDefaultExportInterop");function tn(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[o,s]of Object.entries(r)){if(o==="__proto__"||typeof s.value=="function")continue;let a=typeof s.get=="function",l=typeof s.set=="function";if(a||l){a&&l&&e.push(o);continue}s.enumerable&&s.writable&&e.push(o)}n=Object.getPrototypeOf(n)}return e.sort()}i(tn,"getAllKeys");function nn(t,e){let n=t,r=e.split(Hu);for(let o of r){if(n===void 0)return;n=n[o]}return n}i(nn,"getNestedPropertyValue");function Ku(t,e){for(let[n,r]of Object.entries(t))r===void 0&&!e?.includes(n)&&delete t[n];return t}i(Ku,"removeUndefinedProperties");function qu(t,e,n){let r=new Error(`Property path ${e} not found`),o=t,s=e.split(Hu);for(let l of s.slice(0,-1)){if(o===void 0)throw r;o=o[l]}let a=s.at(-1);if(o===void 0||a===void 0)throw r;o[a]=n}i(qu,"setNestedPropertyValue");function _r(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Cs("CircularReference"),maxDepthLimitReached:Cs("MaxDepthLimitReached"),toJSONFailed:Cs("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let o=[],a=Br(t,"",0,!0,r,o,new WeakSet),l=JSON.stringify(a,null,r.space)??"";return l=ce(l,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(u,c,f)=>Zh({functionTexts:o,index:f?parseInt(f,10):0,key:c,substitutions:r.tokenSubstitutions})),l}i(_r,"toJson");function Zh(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??xn(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}i(Zh,"applySubstitutions");function em(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return Ve(n,r)}i(em,"deepEqualArrayBuffer");function tm(t,e){return t.getTime()===e.getTime()}i(tm,"deepEqualDate");function nm(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!Ve(r,e.get(n)))return!1;return!0}i(nm,"deepEqualMap");function rm(t,e){return t.source===e.source&&t.flags===e.flags}i(rm,"deepEqualRegExp");function im(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let o of e)if(Ve(n,o)){r=!0;break}if(!r)return!1}return!0}i(im,"deepEqualSet");function om(t,e){for(let{constructor:n,equalityComparer:r}of Xh)if(t instanceof n&&e instanceof n)return r(t,e)}i(om,"deepEqualTyped");function sm(t,e,n,r,o,s){return e>r.maxDepth?rn("MaxDepthLimitReachedArray",t.length):t.map((a,l)=>Br(a,String(l),e+1,n,r,o,s))}i(sm,"handleArray");function am(t,e,n){if(n.shouldHandleCircularReferences)return rn("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}i(am,"handleCircularReference");function lm(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,o=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(o),rn("Function",r)}i(lm,"handleFunction");function um(t,e,n,r,o,s,a){if(a.has(t))return am(t,e,o);if(a.add(t),r){let l=fm(t,e,n,o,s,a);if(l!==void 0)return l}return Array.isArray(t)?sm(t,n,r,o,s,a):n>o.maxDepth?rn("MaxDepthLimitReached"):t instanceof Error&&o.shouldHandleErrors?rr(t):cm(t,n,r,o,s,a)}i(um,"handleObject");function cm(t,e,n,r,o,s){let a=Object.entries(t);return r.shouldSortKeys&&a.sort(([l],[u])=>l.localeCompare(u)),Object.fromEntries(a.map(([l,u])=>[l,Br(u,l,e+1,n,r,o,s)]))}i(cm,"handlePlainObject");function Cs(t){return`{ "[[${t}]]": null }`}i(Cs,"makeObjectTokenSubstitution");function rn(t,e){return`[[${t}${e?String(e):""}]]`}i(rn,"makePlaceholder");function Br(t,e,n,r,o,s,a){return t===void 0?n===0||o.shouldHandleUndefined?rn("Undefined"):void 0:typeof t=="function"?lm(t,s,o):typeof t!="object"||t===null?t:um(t,e,n,r,o,s,a)}i(Br,"toPlainObject");function fm(t,e,n,r,o,s){let a=t.toJSON;if(typeof a=="function")try{let l=a.call(t,e);return Br(l,e,n,!1,r,o,s)}catch(l){if(r.shouldCatchToJSONErrors)return rn("ToJSONFailed");throw l}}i(fm,"tryHandleToJSON");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var dm=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function As(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return dm.test(t)}i(As,"isUrl");var It=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Vr(t){let e=(0,It.getFrontMatterInfo)(t);return(0,It.parseYaml)(e.frontmatter)??{}}i(Vr,"parseFrontmatter");function Gu(t,e){let n=(0,It.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,It.stringifyYaml)(e);return n.exists?al(t,r,n.from,n.to):`---
${r}---
${t}`}i(Gu,"setFrontmatter");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ee(t){if(!Le(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}i(Ee,"isFrontmatterLinkCacheWithOffsets");function zr(t){return Ee(t)?t:{...t,endOffset:t.original.length,startOffset:0}}i(zr,"toFrontmatterLinkCacheWithOffsets");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Yu(t){return vs(t)&&t.type==="file"}i(Yu,"isCanvasFileNodeReference");function vs(t){return Le(t)&&!!t.isCanvas}i(vs,"isCanvasReference");function $r(t,e){return Ee(t)?{newContent:e,oldContent:t.original.slice(t.startOffset,t.endOffset),reference:t}:{newContent:e,oldContent:t.original,reference:t}}i($r,"referenceToFileChange");function Ju(t){return t.sort((e,n)=>{if(Le(e)&&Le(n)){let r=Ee(e)?e.startOffset:0,o=Ee(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(Ee(n))-Number(Ee(e))||r-o}return ot(e)&&ot(n)?e.position.start.offset-n.position.start.offset:Le(e)?1:-1})}i(Ju,"sortReferences");var Ot=require("obsidian");var Nn=require("@codemirror/state"),Es=require("@codemirror/view");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qu=new WeakMap;function Ss(t){let e=Zu(t);t.cm.dispatch({effects:e.reconfigure([Nn.EditorState.readOnly.of(!0),Es.EditorView.editable.of(!1)])})}i(Ss,"lockEditor");function Xu(t){let e=Zu(t);t.cm.dispatch({effects:e.reconfigure([Nn.EditorState.readOnly.of(!1),Es.EditorView.editable.of(!0)])})}i(Xu,"unlockEditor");function Zu(t){let e=Qu.get(t);return e||(e=new Nn.Compartment,Qu.set(t,e)),e}i(Zu,"ensureCompartment");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function pm(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}i(pm,"createFolderSafe");function hm(t,e){let n=We(e);return t.vault.getAvailablePath(Ae(se(e),Ce(e,n)),n.slice(1))}i(hm,"getAvailablePath");function Ts(t,e,n){let r=J(t,e);if(t.vault.adapter.insensitive){let o=se(n),s=Ce(n),a;for(;a=He(t,o,!0),!a;)s=Ae(Ce(o),s),o=se(o);n=Ae(a.getParentPrefix(),s)}return r.toLowerCase()===n.toLowerCase()?n:hm(t,n)}i(Ts,"getSafeRenamePath");async function Ur(t,e){let n=await Ps(t,J(t,e));return n.files.length===0&&n.folders.length===0}i(Ur,"isEmptyFolder");async function Ps(t,e){let n=J(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(o){if(await t.vault.exists(n))throw o;return r}}i(Ps,"listSafe");async function ec(t,e,n,r={}){let s={...{noticeDelayInMilliseconds:200,shouldFailOnMissingFile:!0,shouldLockEditorWhileProcessing:!0,shouldShowNoticeWhileProcessing:!0},...r},a=new AbortController;s.abortSignal=it(s.abortSignal,a.signal);let l=!0,u=null,c=J(t,e);s.shouldShowNoticeWhileProcessing&&window.setTimeout(()=>{l&&(u=new Ot.Notice(createFragment(d=>{d.appendText(`Processing file ${c}...`),d.createEl("br"),d.createEl("button",{text:"Cancel"}).addEventListener("click",()=>{a.abort()})}),0))},s.noticeDelayInMilliseconds);let f=null;if(s.shouldLockEditorWhileProcessing){for(let d of t.workspace.getLeavesOfType(cr.Markdown))d.view instanceof Ot.MarkdownView&&d.view.file?.path===c&&Ss(d.view.editor);f=t.workspace.on("active-leaf-change",d=>{d?.view instanceof Ot.MarkdownView&&d.view.file?.path===c&&Ss(d.view.editor)})}try{await ur(async d=>{d.throwIfAborted();let p=await Fs(t,e);if(d.throwIfAborted(),p===null)return y();let h=await jt(n,d,p);if(d.throwIfAborted(),h===null)return!1;let b=!0;if(!await nc(t,e,async w=>{d.throwIfAborted(),await t.vault.process(w,x=>(d.throwIfAborted(),x!==p?(K("Vault:process")("Content has changed since it was read. Retrying...",{actualContent:x,expectedContent:p,path:w.path}),b=!1,x):h)),d.throwIfAborted()}))return y();return b;function y(){if(s.shouldFailOnMissingFile)throw new Error(`File '${c}' not found`);return!0}},s)}finally{l=!1,u?.hide(),f?.e.offref(f);for(let d of t.workspace.getLeavesOfType(cr.Markdown))d.view instanceof Ot.MarkdownView&&d.view.file?.path===c&&Xu(d.view.editor)}}i(ec,"process");async function Fs(t,e){let n=null;return await nc(t,e,async r=>{await Wr(t,r),n=await t.vault.read(r)}),n}i(Fs,"readSafe");async function tc(t,e,n){let r=Q(t,e,!1,!0),o=Ts(t,e,n);if(r.path.toLowerCase()===o.toLowerCase())return r.path!==n&&await t.vault.rename(r,o),o;let s=Je(o);await pm(t,s);try{await t.vault.rename(r,o)}catch(a){if(!await t.vault.exists(o)||await t.vault.exists(r.path))throw a}return o}i(tc,"renameSafe");async function Wr(t,e){if(!fe(t,e))return;let n=J(t,e);for(let r of t.workspace.getLeavesOfType(cr.Markdown))r.view instanceof Ot.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}i(Wr,"saveNote");async function nc(t,e,n){let r=J(t,e),o=ve(t,r);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(s){if(o=ve(t,r),!o||o.deleted)return!1;throw s}}i(nc,"invokeFileActionSafe");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Kr(t,e,n,r,o=!0){t.throwIfAborted();let s=await jt(r,t,e);if(t.throwIfAborted(),s===null)return null;let{frontmatter:a,hasFrontmatterError:l}=Cm(e,n);if(!Em(s,e,a,n))return o?null:e;s=vm(s);let{frontmatterChanged:u,newContent:c}=ym(s,e,l,n);return await xm(t,a,u,n),t.throwIfAborted(),km(c,a,u)}i(Kr,"applyContentChanges");async function qr(t,e,n,r={},o=!0){await ec(t,e,async(s,a)=>vt(t,e)?await wm(s,a,J(t,e),n,o):await Kr(s,a,J(t,e),n,o),r)}i(qr,"applyFileChanges");function _n(t){return vs(t.reference)}i(_n,"isCanvasChange");function mm(t){return _n(t)&&t.reference.type==="file"}i(mm,"isCanvasFileNodeChange");function gm(t){return _n(t)&&t.reference.type==="text"}i(gm,"isCanvasTextNodeChange");function Rt(t){return ot(t.reference)}i(Rt,"isContentChange");function jr(t){return Le(t.reference)}i(jr,"isFrontmatterChange");function Hr(t){return Ee(t.reference)}i(Hr,"isFrontmatterChangeWithOffsets");function bm(t){return Hr(t)?t:{...t,reference:zr(t.reference)}}i(bm,"toFrontmatterChangeWithOffsets");async function wm(t,e,n,r,o=!0){let s=await jt(r,t,e);if(t.throwIfAborted(),s===null)return null;let a=Am(e),l=new Map;for(let u of s){if(!_n(u)){let f="Only canvas changes are supported for canvas files";throw console.error(f,{change:u,path:n}),new Error(f)}let c=a.nodes[u.reference.nodeIndex];if(!c){let f="Node not found";throw console.error(f,{nodeIndex:u.reference.nodeIndex,path:n}),new Error(f)}if(mm(u)){if(c.file!==u.oldContent)return K("FileChange:applyCanvasChanges")("Content mismatch",{actualContent:c.file,expectedContent:u.oldContent,nodeIndex:u.reference.nodeIndex,path:n,type:"file"}),null;c.file=u.newContent}else if(gm(u)){let f=l.get(u.reference.nodeIndex);f||(f=[],l.set(u.reference.nodeIndex,f)),f.push(u)}}for(let[u,c]of l.entries()){let f=a.nodes[u];if(!f){let p="Node not found";throw console.error(p,{nodeIndex:u,path:n}),new Error(p)}if(typeof f.text!="string"){let p="Node text is not a string";throw console.error(p,{nodeIndex:u,path:n}),new Error(p)}let d=c.map(p=>$r(p.reference.originalReference,p.newContent));f.text=await Kr(t,f.text,`${n}.node${String(u)}.VIRTUAL_FILE.md`,d,o)}return JSON.stringify(a,null,"	")}i(wm,"applyCanvasChanges");function ym(t,e,n,r){let o="",s=0,a={newContent:"",oldContent:"",reference:{link:"",original:"",position:{end:{col:0,line:0,offset:0},start:{col:0,line:0,offset:0}}}},l=new Map;for(let u of t)if(Rt(u))if(s<=u.reference.position.start.offset)o+=e.slice(s,u.reference.position.start.offset),o+=u.newContent,s=u.reference.position.end.offset,a=u;else{let c=u.reference.position.start.offset-a.reference.position.start.offset,f=u.reference.position.end.offset-a.reference.position.start.offset;if(a.newContent.slice(c,f)!==u.oldContent){let p="Overlapping changes";throw console.error(p,{change:u,lastContentChange:a}),new Error(p)}o=o.slice(0,o.length-a.newContent.length)+a.newContent.slice(0,c)+u.newContent+a.newContent.slice(f)}else if(jr(u))if(n)console.error(`Cannot apply frontmatter change in ${r}, because frontmatter parsing failed`,{change:u});else{let c=l.get(u.reference.key);c||(c=[],l.set(u.reference.key,c)),c.push(bm(u))}return o+=e.slice(s),{frontmatterChanged:l,newContent:o}}i(ym,"applyContentChangesToText");async function xm(t,e,n,r){for(let[o,s]of n.entries()){let a=nn(e,o);if(typeof a!="string")return;let l=s.map(c=>({newContent:c.newContent,oldContent:c.oldContent,reference:{link:"",original:"",position:{end:{col:c.reference.endOffset,line:0,offset:c.reference.endOffset},start:{col:c.reference.startOffset,line:0,offset:c.reference.startOffset}}}})),u=await Kr(t,a,`${r}.frontmatter.${o}.VIRTUAL_FILE.md`,l);if(u===null)return;qu(e,o,u)}}i(xm,"applyFrontmatterChangesWithOffsets");function km(t,e,n){return n.size>0?Gu(t,e):t}i(km,"buildFinalContent");function Cm(t,e){let n={},r=!1;try{n=Vr(t)}catch(o){Ct(new Error(`Frontmatter parsing failed in ${e}`,{cause:o})),r=!0}return{frontmatter:n,hasFrontmatterError:r}}i(Cm,"parseFrontmatterSafely");function Am(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}i(Am,"parseJsonSafe");function vm(t){return t.sort((e,n)=>Rt(e)&&Rt(n)?e.reference.position.start.offset-n.reference.position.start.offset:Hr(e)&&Hr(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:jr(e)&&jr(n)?e.reference.key.localeCompare(n.reference.key):Rt(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!Ve(e,t[n-1]))}i(vm,"sortAndFilterChanges");function Em(t,e,n,r){let o=K("FileChange:validateChanges");for(let s of t)if(Rt(s)){let a=s.reference.position.start.offset,l=s.reference.position.end.offset,u=e.slice(a,l);if(u!==s.oldContent)return o("Content mismatch",{actualContent:u,endOffset:l,expectedContent:s.oldContent,path:r,startOffset:a}),!1}else if(Hr(s)){let a=nn(n,s.reference.key);if(typeof a!="string")return o("Property value is not a string",{frontmatterKey:s.reference.key,path:r,propertyValue:a}),!1;let l=a.slice(s.reference.startOffset,s.reference.endOffset);if(l!==s.oldContent)return o("Content mismatch",{actualContent:l,expectedContent:s.oldContent,frontmatterKey:s.reference.key,path:r,startOffset:s.reference.startOffset}),!1}else if(jr(s)){let a=nn(n,s.reference.key);if(a!==s.oldContent)return o("Content mismatch",{actualContent:a,expectedContent:s.oldContent,frontmatterKey:s.reference.key,path:r}),!1}return!0}i(Em,"validateChanges");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function rc(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}i(rc,"ensureMetadataCacheReady");function at(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Ju(e),e=e.filter((n,r)=>{if(r===0)return!0;let o=e[r-1];if(!o)return!0;if(ot(n)&&ot(o))return n.position.start.offset!==o.position.start.offset;if(Le(n)&&Le(o)){let s=Ee(n)?n.startOffset:0,a=Ee(o)?o.startOffset:0;return n.key!==o.key||Ee(n)!==Ee(o)||s!==a}return!0}),e}i(at,"getAllLinks");function Ls(t,e){let n=Q(t,e,!0);return Bn(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}i(Ls,"getBacklinksForFileOrPath");async function Mt(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let o=new Qa;return await ur(async s=>{s.throwIfAborted();let a=Q(t,e);await rc(t),s.throwIfAborted(),o=Ls(t,a);for(let l of o.keys()){s.throwIfAborted();let u=ve(t,l);if(!u)return!1;await Wr(t,u),s.throwIfAborted();let c=await Fs(t,u);if(s.throwIfAborted(),!c)return!1;let f=Vr(c),d=o.get(l);if(!d)return!1;for(let p of d){let h;if(ot(p))h=c.slice(p.position.start.offset,p.position.end.offset);else if(Le(p)){let b=nn(f,p.key);if(typeof b!="string")return!1;let C=zr(p);h=b.slice(C.startOffset,C.endOffset)}else return!0;if(h!==p.original)return!1}}return!0},n),o}i(Mt,"getBacklinksForFileSafe");async function Gr(t,e){let n=ve(t,e);try{if(!n)return null;if(n.deleted)return t.metadataCache.getFileCache(n);await Wr(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await rc(t)),t.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}i(Gr,"getCacheSafe");function ic(t,e,n){let r=Q(t,e,!0);if(!r.deleted)throw new Error("File is existing");t.metadataCache.fileCache[r.path]={hash:r.path,mtime:0,size:0},t.metadataCache.metadataCache[r.path]=n}i(ic,"registerFileCacheForNonExistingFile");function oc(t,e){let n=uc(t);for(let r of e)for(;r.deleted;){let o=n.get(r.path)??0;o++,n.set(r.path,o),t.vault.fileMap[r.path]=r,_e(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r),r=At(t,Je(r.path),!0)}}i(oc,"registerFiles");function Bn(t,e,n){try{return oc(t,e),n()}finally{lc(t,e)}}i(Bn,"tempRegisterFilesAndRun");async function sc(t,e,n){try{return oc(t,e),await n()}finally{lc(t,e)}}i(sc,"tempRegisterFilesAndRunAsync");function ac(t,e){let n=Q(t,e,!0);if(!n.deleted)throw new Error("File is existing");delete t.metadataCache.fileCache[n.path],delete t.metadataCache.metadataCache[n.path]}i(ac,"unregisterFileCacheForNonExistingFile");function lc(t,e){let n=uc(t);for(let r of e)for(;r.deleted;){let o=n.get(r.path)??1;o--,n.set(r.path,o),o===0&&(n.delete(r.path),delete t.vault.fileMap[r.path],_e(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)),r=At(t,Je(r.path),!0)}}i(lc,"unregisterFiles");function uc(t){return we(t,"registeredFilesCounts",new Map).value}i(uc,"getRegisteredFilesCounts");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function cc(t){return t.vault.getConfig("newLinkFormat")}i(cc,"getNewLinkFormat");function Is(t){return!t.vault.getConfig("useMarkdownLinks")}i(Is,"shouldUseWikilinks");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Sm="\\|",Tm=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Pm=/[\\[\]<>_*~=`$]/g,pc=/(?<!\\)\|/g,hc="|";var Yr=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(Yr||{});function Rs(t){let e=Vn(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Ns({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}i(Rs,"convertLink");async function Ms(t,e,n,r={}){await qr(t,e,async(o,s)=>{let a=await Gr(t,e);o.throwIfAborted();let l=Q(t,e),u=await t.vault.cachedRead(l);return o.throwIfAborted(),s!==u?null:await Wm(a,vt(t,e),n,o)},r)}i(Ms,"editLinks");function Ds(t){return ce(t,Tm,({substring:e})=>encodeURIComponent(e))}i(Ds,"encodeUrl");function Fm(t){return ce(t,Pm,"\\$&")}i(Fm,"escapeAlias");function Vn(t,e,n,r=!1){let{linkPath:o}=Jr(e.link),s=J(t,n),a=t.metadataCache.getFirstLinkpathDest(o,s);if(a)return a;if(!r)return null;if(o.startsWith("/"))return Q(t,o,!0);let l=Ae(se(s),`./${o}`);return l.startsWith("../")?null:Q(t,l,!0)}i(Vn,"extractLinkFile");function zn(t){let{app:e}=t,n={isEmptyEmbedAliasAllowed:!0},r=bc(e).map(s=>s());t=Object.assign({},n,...r,t);let o=Q(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Bn(e,[o],()=>zm(t))}i(zn,"generateMarkdownLink");function Os(t){let e=t.isEmbed?"!":"";if(t.isWikilink){let l=t.alias?`|${t.alias}`:"";return`${e}[[${t.url}${l}]]`}let n=t.alias??"",o=t.shouldEscapeAlias??!1?Fm(n):n,s=t.shouldUseAngleBrackets?`<${t.url}>`:Ds(t.url),a=t.title?` ${JSON.stringify(t.title)}`:"";return`${e}[${o}](${s}${a})`}i(Os,"generateRawMarkdownLink");function sn(t){let e=Lm(t);return e[0]?.raw===t?e[0]:null}i(sn,"parseLink");function Lm(t){let e=new Set,n="![",r="@[",o="@",a=ce(t,/\[(?<LinkAlias>!\[.*?\]\(.+?\))\]\((?<Link>.+?)\)/g,(h,b,C)=>`[${o.repeat(b.length)}](${C})`),l=ce(a,n,h=>(e.add(h.offset),r)),c=Vu().use(Yt).use(ju,{aliasDivider:hc}).parse(l),f=[],d=[];Rn(c,h=>{let b;switch(h.type){case"link":b=qm(h,t);break;case"wikiLink":b=Gm(h,t);break;default:return}e.has(b.startOffset-1)&&(b.isEmbed=!0,b.startOffset--,b.raw=`!${b.raw}`),f.push(b)}),f.sort((h,b)=>h.startOffset-b.startOffset);let p=0;for(let h of f)fc(t,p,h.startOffset-1,d),p=h.endOffset+1;return fc(t,p,t.length-1,d),f.push(...d),f.sort((h,b)=>h.startOffset-b.startOffset),f}i(Lm,"parseLinks");function mc(t,e){let n=bc(t.app);n.push(e),t.register(()=>{n.remove(e)})}i(mc,"registerGenerateMarkdownLinkDefaultOptionsFn");function Im(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:o,oldSourcePathOrFile:s,oldTargetPath:a,targetPathOrFile:l}=t;if(r===!1)return!1;if(!n)return!0;let u=Q(e,l,!0),c=J(e,o),f=J(e,s??o),d=se(c),p=se(f),h=new Set;for(let C of[u.path,a]){if(!C)continue;let y=J(e,C);h.add(y),h.add(Ce(y)),h.add(Ht(d,y)),h.add(Ht(p,y))}for(let C of[f,c])h.add(e.metadataCache.fileToLinktext(u,C,!1));let b=ce((0,on.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let C of h){if(C.toLowerCase()===b)return!0;let y=se(C),w=Ce(C,We(C));if(Ae(y,w).toLowerCase()===b)return!0}return!1}i(Im,"shouldResetAlias");function Jr(t){let e=(0,on.parseLinktext)(vn(t));return{linkPath:e.path,subpath:e.subpath}}i(Jr,"splitSubpath");function Om(t){return sn(t)?.hasAngleBrackets??!1}i(Om,"testAngleBrackets");function gc(t){return sn(t)?.isEmbed??!1}i(gc,"testEmbed");function Rm(t){return sn(t)?.url.startsWith("./")??!1}i(Rm,"testLeadingDot");function Mm(t){return sn(t)?.url.startsWith("/")??!1}i(Mm,"testLeadingSlash");function Dm(t){return sn(t)?.isWikilink??!1}i(Dm,"testWikilink");function Nm(t){return ce(t,/(?<Backslashes>\\+)(?<SpecialCharacter>[!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~])/g,(e,n,r)=>{let s=n.length,a=Math.floor(s/2);return"\\".repeat(a)+r})}i(Nm,"unescapeAlias");function Ns(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:o,newTargetPathOrFile:s,oldSourcePathOrFile:a,oldTargetPathOrFile:l,shouldUpdateFileNameAlias:u}=t;if(!s)return n.original;let c=Q(e,s,!0),f=J(e,a??o),d=J(e,l??s),p=yc(e,n.original,r),{subpath:h}=Jr(n.link),b=!u;if(vt(e,o)&&Yu(n))return c.path+h;let C=sn(n.original),y;return p&&C?.alias&&(y=C.alias,b=!0),y??=Im({app:e,displayText:n.displayText,isWikilink:p,newSourcePathOrFile:o,oldSourcePathOrFile:a,oldTargetPath:d,targetPathOrFile:c})?void 0:C?.alias,b||(y===Ce(d,We(d))?y=c.basename:y===Ce(d)&&(y=c.name)),zn({alias:y,app:e,isSingleSubpathAllowed:f===d&&!!C?.alias,linkStyle:r,originalLink:n.original,sourcePathOrFile:o,subpath:h,targetPathOrFile:c})}i(Ns,"updateLink");async function Qr(t){let{app:e,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:o,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFileNameAlias:a}=t;vt(e,r)&&!e.internalPlugins.getEnabledPluginById(Ne.Canvas)||await Ms(e,r,l=>{let u=gc(l.original);if(!(s!==void 0&&s!==u))return Rs({app:e,link:l,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:o,shouldUpdateFileNameAlias:a})},t)}i(Qr,"updateLinksInFile");function _m(t,e,n){if(e||n)return t;try{return decodeURIComponent(t)}catch(r){return console.error(`Failed to decode URL ${t}`,r),t}}i(_m,"decodeUrlSafely");function Bm(t,e,n){return e<n?t.slice(e,n):void 0}i(Bm,"extractAlias");function fc(t,e,n,r){if(e>n)return;let o=t.slice(e,n+1);ce(o,/(?<Url>\S+)/g,(s,a)=>{As(a)&&r.push({encodedUrl:Ds(a),endOffset:e+s.offset+a.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:a,startOffset:e+s.offset,url:a})})}i(fc,"extractTextLinks");function Vm(t,e,n,r,o){n==="/"&&(n="");let s;if(e.path===n&&r&&o.isSingleSubpathAllowed)s="";else switch(o.linkPathStyle){case"AbsolutePathInVault":s=e.path,o.shouldUseLeadingSlashForAbsolutePaths&&!s.startsWith("/")&&(s=`/${s}`);break;case"RelativePathToTheNote":s=Ht(se(n),e.path),o.shouldUseLeadingDotForRelativePaths&&!s.startsWith(".")&&(s=`./${s}`);break;case"ShortestPathWhenPossible":{let a=fe(t,e)?e.basename:e.name,l=t.metadataCache.getLinkpathDest(a,n);s=l.length===1&&l[0]===e?e.name:e.path;break}default:throw new Error(`Invalid link path style: ${o.linkPathStyle}.`)}return s=o.isWikilink?vo(s,`.${ut}`):s,s+=r,s}i(Vm,"generateLinkText");function zm(t){let{app:e}=t,n=Q(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=J(e,t.sourcePathOrFile),o=t.subpath??"",s=Hm(t,n),a=Vm(e,n,r,o,s);return s.isWikilink?Um(a,t.alias,s.isEmbed):$m(a,n,t,s)}i(zm,"generateMarkdownLinkImpl");function $m(t,e,n,r){let{app:o}=n,s=n.alias??"";return!s&&(fe(o,e)||!n.isEmptyEmbedAliasAllowed)&&(s=!n.shouldIncludeAttachmentExtensionToEmbedAlias||fe(o,e)?e.basename:e.name),Os({alias:s,isEmbed:r.isEmbed,isWikilink:!1,shouldEscapeAlias:n.shouldEscapeAlias??!1,shouldUseAngleBrackets:r.shouldUseAngleBrackets,url:t})}i($m,"generateMarkdownStyleLink");function Um(t,e,n){return e?.toLowerCase()===t.toLowerCase()?Os({isEmbed:n,isWikilink:!0,url:e}):Os({alias:e,isEmbed:n,isWikilink:!0,url:t})}i(Um,"generateWikiLink");async function Wm(t,e,n,r){if(r??=ge(),r.throwIfAborted(),!t)return[];let o=[],s=(t.sections??[]).filter(a=>a.type==="table").map(a=>({end:a.position.end.offset,start:a.position.start.offset}));for(let a of at(t)){r.throwIfAborted();let l=await n(a,r);if(r.throwIfAborted(),l===void 0)continue;let u=$r(a,l);if(e)if(_n(u))o.push(u);else{let c="Unsupported file change";throw console.error(c,u),new Error(c)}else Ym(u,s)&&(u.newContent=u.newContent.replaceAll(pc,Sm)),o.push(u)}return o}i(Wm,"getFileChanges");function jm(t,e){switch(e??"ObsidianSettingsDefault"){case"AbsolutePathInVault":return"AbsolutePathInVault";case"RelativePathToTheSource":return"RelativePathToTheNote";case"ShortestPathWhenPossible":return"ShortestPathWhenPossible";case"ObsidianSettingsDefault":{let n=cc(t);switch(n){case"absolute":return"AbsolutePathInVault";case"relative":return"RelativePathToTheNote";case"shortest":return"ShortestPathWhenPossible";default:throw new Error(`Invalid link format: ${n}.`)}}default:throw new Error(`Invalid link path style: ${e}.`)}}i(jm,"getFinalLinkPathStyle");function bc(t){return we(t,"generateMarkdownLinkDefaultOptionsFns",[]).value}i(bc,"getGenerateMarkdownLinkDefaultOptionsFns");function Hm(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?gc(t.originalLink):void 0)??(!(0,on.requireApiVersion)("1.10.0")&&!fe(n,e)),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:yc(n,t.originalLink,t.linkStyle),linkPathStyle:jm(n,t.linkPathStyle),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Om(t.originalLink):void 0)??!1,shouldUseLeadingDotForRelativePaths:t.shouldUseLeadingDotForRelativePaths??(t.originalLink?Rm(t.originalLink):void 0)??!1,shouldUseLeadingSlashForAbsolutePaths:t.shouldUseLeadingSlashForAbsolutePaths??(t.originalLink?Mm(t.originalLink):void 0)??!1}}i(Hm,"getLinkConfig");function wc(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}i(wc,"getRawLink");function Km(t,e){return t.startsWith("<")||e.startsWith("<")}i(Km,"hasAngleBracketsInLink");function qm(t,e){let o=wc(t,e),s=t.children[0]?.position?.start.offset??1,a=t.children.at(-1)?.position?.end.offset??1,l=e.slice(a+2,(t.position?.end.offset??0)-1),u=Km(o,l),c=As(t.url),f=_m(t.url,c,u),d=Bm(e,s,a);return{alias:d,encodedUrl:c?Ds(f):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:u,isEmbed:!1,isExternal:c,isWikilink:!1,raw:o,startOffset:t.position?.start.offset??0,title:t.title??void 0,unescapedAlias:d===void 0?void 0:Nm(d),url:f}}i(qm,"parseLinkNode");function Gm(t,e){return{alias:e.includes(hc)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:wc(t,e),startOffset:t.position?.start.offset??0,url:t.value}}i(Gm,"parseWikilinkNode");function Ym(t,e){return!Rt(t)||!pc.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}i(Ym,"shouldEscapeWikilinkDivider");function yc(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return Is(t);case"PreserveExisting":return e===void 0?Is(t):Dm(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}i(yc,"shouldUseWikilinkStyle");var ui=require("obsidian");var xc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xr=class extends xc.Component{static{i(this,"AsyncEventsComponent")}registerAsyncEvent(e){Zr(this,e)}};function Zr(t,e){t.register(()=>{e.asyncEvents.offref(e)})}i(Zr,"registerAsyncEvent");var R=i(t=>typeof t=="string","isString"),$n=i(()=>{let t,e,n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n},"defer"),kc=i(t=>t==null?"":""+t,"makeString"),Jm=i((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),Qm=/###/g,Cc=i(t=>t&&t.indexOf("###")>-1?t.replace(Qm,"."):t,"cleanKey"),Ac=i(t=>!t||R(t),"canNotTraverseDeeper"),Un=i((t,e,n)=>{let r=R(e)?e.split("."):e,o=0;for(;o<r.length-1;){if(Ac(t))return{};let s=Cc(r[o]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++o}return Ac(t)?{}:{obj:t,k:Cc(r[o])}},"getLastOfPath"),vc=i((t,e,n)=>{let{obj:r,k:o}=Un(t,e,Object);if(r!==void 0||e.length===1){r[o]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),l=Un(t,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=Un(t,a,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},"setPath"),Xm=i((t,e,n,r)=>{let{obj:o,k:s}=Un(t,e,Object);o[s]=o[s]||[],o[s].push(n)},"pushPath"),ti=i((t,e)=>{let{obj:n,k:r}=Un(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),Zm=i((t,e,n)=>{let r=ti(t,n);return r!==void 0?r:ti(e,n)},"getPathWithDefaults"),Oc=i((t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?R(t[r])||t[r]instanceof String||R(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Oc(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),an=i(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),eg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},tg=i(t=>R(t)?t.replace(/[&<>"'\/]/g,e=>eg[e]):t,"escape"),Vs=class{static{i(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},ng=[" ",",","?","!",";"],rg=new Vs(20),ig=i((t,e,n)=>{e=e||"",n=n||"";let r=ng.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;let o=rg.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`),s=!o.test(t);if(!s){let a=t.indexOf(n);a>0&&!o.test(t.substring(0,a))&&(s=!0)}return s},"looksLikeObjectPath"),zs=i((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),o=t;for(let s=0;s<r.length;){if(!o||typeof o!="object")return;let a,l="";for(let u=s;u<r.length;++u)if(u!==s&&(l+=n),l+=r[u],a=o[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;s+=u-s+1;break}o=a}return o},"deepFind"),Wn=i(t=>t?.replace("_","-"),"getCleanedCode"),og={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},$s=class t{static{i(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||og,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,o){return o&&!this.debug?null:(R(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},et=new $s,ln=class{static{i(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,s])=>{for(let a=0;a<s;a++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,s])=>{for(let a=0;a<s;a++)o.apply(o,[e,...n])})}},ni=class extends ln{static{i(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,o={}){let s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):R(r)&&s?l.push(...r.split(s)):l.push(r)));let u=ti(this.data,l);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),u||!a||!R(r)?u:zs(this.data?.[e]?.[n],r,s)}addResource(e,n,r,o,s={silent:!1}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=[e,n];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),o=n,n=l[1]),this.addNamespaces(n),vc(this.data,l,o),s.silent||this.emit("added",e,n,r,o)}addResources(e,n,r,o={silent:!1}){for(let s in r)(R(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});o.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,o,s,a={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),o=r,r=n,n=l[1]),this.addNamespaces(n);let u=ti(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?Oc(u,r,s):u={...u,...r},vc(this.data,l,u),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}},Rc={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,o){return t.forEach(s=>{e=this.processors[s]?.process(e,n,r,o)??e}),e}},Mc=Symbol("i18next/PATH_KEY");function sg(){let t=[],e=Object.create(null),n;return e.get=(r,o)=>(n?.revoke?.(),o===Mc?t:(t.push(o),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}i(sg,"createProxy");function Us(t,e){let{[Mc]:n}=t(sg());return n.join(e?.keySeparator??".")}i(Us,"keysFromSelector");var Ec={},_s=i(t=>!R(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),ri=class t extends ln{static{i(this,"Translator")}constructor(e,n={}){super(),Jm(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=et.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};if(e==null)return!1;let o=this.resolve(e,r);if(o?.res===void 0)return!1;let s=_s(o.res);return!(r.returnObjects===!1&&s)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,s=n.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!ig(e,r,o);if(a&&!l){let u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:R(s)?[s]:s};let c=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(o)}return{key:e,namespaces:R(s)?[s]:s}}translate(e,n,r){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=Us(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);let s=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],o),c=u[u.length-1],f=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");let d=o.lng||this.language,p=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return p?s?{res:`${c}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:`${c}${f}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:l;let h=this.resolve(e,o),b=h?.res,C=h?.usedKey||l,y=h?.exactUsedKey||l,w=["[object Number]","[object Function]","[object RegExp]"],x=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,S=o.count!==void 0&&!R(o.count),L=t.hasDefaultValue(o),k=S?this.pluralResolver.getSuffix(d,o.count,o):"",B=o.ordinal&&S?this.pluralResolver.getSuffix(d,o.count,{ordinal:!1}):"",W=S&&!o.ordinal&&o.count===0,M=W&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${k}`]||o[`defaultValue${B}`]||o.defaultValue,z=b;v&&!b&&L&&(z=M);let ne=_s(z),U=Object.prototype.toString.apply(z);if(v&&z&&ne&&w.indexOf(U)<0&&!(R(x)&&Array.isArray(z))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,z,{...o,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(h.res=T,h.usedParams=this.getUsedParamsDetails(o),h):T}if(a){let T=Array.isArray(z),I=T?[]:{},O=T?y:C;for(let V in z)if(Object.prototype.hasOwnProperty.call(z,V)){let j=`${O}${a}${V}`;L&&!b?I[V]=this.translate(j,{...o,defaultValue:_s(M)?M[V]:void 0,joinArrays:!1,ns:u}):I[V]=this.translate(j,{...o,joinArrays:!1,ns:u}),I[V]===j&&(I[V]=z[V])}b=I}}else if(v&&R(x)&&Array.isArray(b))b=b.join(x),b&&(b=this.extendTranslation(b,e,o,r));else{let T=!1,I=!1;!this.isValidLookup(b)&&L&&(T=!0,b=M),this.isValidLookup(b)||(I=!0,b=l);let V=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:b,j=L&&M!==b&&this.options.updateMissing;if(I||T||j){if(this.logger.log(j?"updateKey":"missingKey",d,c,l,j?M:b),a){let G=this.resolve(l,{...o,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[],me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(let G=0;G<me.length;G++)re.push(me[G]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(o.lng||this.language):re.push(o.lng||this.language);let m=i((G,ie,g)=>{let le=L&&g!==b?g:V;this.options.missingKeyHandler?this.options.missingKeyHandler(G,c,ie,le,j,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(G,c,ie,le,j,o),this.emit("missingKey",G,c,ie,b)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&S?re.forEach(G=>{let ie=this.pluralResolver.getSuffixes(G,o);W&&o[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(g=>{m([G],l+g,o[`defaultValue${g}`]||M)})}):m(re,l,M))}b=this.extendTranslation(b,e,o,h,r),I&&b===l&&this.options.appendNamespaceToMissingKey&&(b=`${c}${f}${l}`),(I||T)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${f}${l}`:l,T?b:void 0,o))}return s?(h.res=b,h.usedParams=this.getUsedParamsDetails(o),h):b}extendTranslation(e,n,r,o,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let u=R(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(u){let d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&!R(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||o.usedLng,r),u){let d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>s?.[0]===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):this.translate(...d,n),r)),r.interpolation&&this.interpolator.reset()}let a=r.postProcess||this.options.postProcess,l=R(a)?[a]:a;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=Rc.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,o,s,a,l;return R(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;let c=this.extractFromKey(u,n),f=c.key;o=f;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let p=n.count!==void 0&&!R(n.count),h=p&&!n.ordinal&&n.count===0,b=n.context!==void 0&&(R(n.context)||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(y=>{this.isValidLookup(r)||(l=y,!Ec[`${C[0]}-${y}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(Ec[`${C[0]}-${y}`]=!0,this.logger.warn(`key "${o}" for languages "${C.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(w=>{if(this.isValidLookup(r))return;a=w;let x=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(x,f,w,y,n);else{let S;p&&(S=this.pluralResolver.getSuffix(w,n.count,n));let L=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&S.indexOf(k)===0&&x.push(f+S.replace(k,this.options.pluralSeparator)),x.push(f+S),h&&x.push(f+L)),b){let B=`${f}${this.options.contextSeparator||"_"}${n.context}`;x.push(B),p&&(n.ordinal&&S.indexOf(k)===0&&x.push(B+S.replace(k,this.options.pluralSeparator)),x.push(B+S),h&&x.push(B+L))}}let v;for(;v=x.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(w,y,v,n))}))})}),{res:r,usedKey:o,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,o):this.resourceStore.getResource(e,n,r,o)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!R(e.replace),o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(let s of n)delete o[s]}return o}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},ii=class{static{i(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=et.create("languageUtils")}getScriptPartFromCode(e){if(e=Wn(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Wn(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(R(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return n=o;let s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),R(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),o=[],s=i(a=>{a&&(this.isSupportedCode(a)?o.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))},"addCode");return R(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):R(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{o.indexOf(a)<0&&s(this.formatLanguageCode(a))}),o}},Sc={zero:0,one:1,two:2,few:3,many:4,other:5},Tc={select:i(t=>t===1?"one":"other","select"),resolvedOptions:i(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},Ws=class{static{i(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=et.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=Wn(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:o});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Tc;if(!e.match(/-|_/))return Tc;let u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(o=>`${n}${o}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((o,s)=>Sc[o]-Sc[s]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,n,r={}){let o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},Pc=i((t,e,n,r=".",o=!0)=>{let s=Zm(t,e,n);return!s&&o&&R(n)&&(s=zs(t,n,r),s===void 0&&(s=zs(e,n,r))),s},"deepFindWithDefaults"),Bs=i(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),js=class{static{i(this,"Interpolator")}constructor(e={}){this.logger=et.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:u,formatSeparator:c,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:h,nestingSuffix:b,nestingSuffixEscaped:C,nestingOptionsSeparator:y,maxReplaces:w,alwaysFormat:x}=e.interpolation;this.escape=n!==void 0?n:tg,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=s?an(s):a||"{{",this.suffix=l?an(l):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?an(p):h||an("$t("),this.nestingSuffix=b?an(b):C||an(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=w||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=i((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,o){let s,a,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=i(h=>{if(h.indexOf(this.formatSeparator)<0){let w=Pc(n,u,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...o,...n,interpolationkey:h}):w}let b=h.split(this.formatSeparator),C=b.shift().trim(),y=b.join(this.formatSeparator).trim();return this.format(Pc(n,u,C,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...o,...n,interpolationkey:C})},"handleFormat");this.resetRegExp();let f=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:i(h=>Bs(h),"safeValue")},{regex:this.regexp,safeValue:i(h=>this.escapeValue?Bs(this.escape(h)):Bs(h),"safeValue")}].forEach(h=>{for(l=0;s=h.regex.exec(e);){let b=s[1].trim();if(a=c(b),a===void 0)if(typeof f=="function"){let y=f(e,s,o);a=R(y)?y:""}else if(o&&Object.prototype.hasOwnProperty.call(o,b))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),a="";else!R(a)&&!this.useRawValueToEscape&&(a=kc(a));let C=h.safeValue(a);if(e=e.replace(s[0],C),d?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=s[0].length):h.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let o,s,a,l=i((u,c)=>{let f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;let d=u.split(new RegExp(`${f}[ ]*{`)),p=`{${d[1]}`;u=d[0],p=this.interpolate(p,a);let h=p.match(/'/g),b=p.match(/"/g);((h?.length??0)%2===0&&!b||b.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),c&&(a={...c,...a})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,C),`${u}${f}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u},"handleHasOptions");for(;o=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&!R(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(c!==-1&&(u=o[1].slice(c).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),o[1]=o[1].slice(0,c)),s=n(l.call(this,o[1].trim(),a),a),s&&o[0]===e&&!R(s))return s;R(s)||(s=kc(s)),s||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),s=""),u.length&&(s=u.reduce((f,d)=>this.format(f,d,r.lng,{...r,interpolationkey:o[1].trim()}),s.trim())),e=e.replace(o[0],s),this.regexp.lastIndex=0}return e}},ag=i(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(a=>{if(a){let[l,...u]=a.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=c),c==="false"&&(n[f]=!1),c==="true"&&(n[f]=!0),isNaN(c)||(n[f]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Fc=i(t=>{let e={};return(n,r,o)=>{let s=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(s={...s,[o.interpolationkey]:void 0});let a=r+JSON.stringify(s),l=e[a];return l||(l=t(Wn(r),o),e[a]=l),l(n)}},"createCachedFormatter"),lg=i(t=>(e,n,r)=>t(Wn(n),r)(e),"createNonCachedFormatter"),Hs=class{static{i(this,"Formatter")}constructor(e={}){this.logger=et.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?Fc:lg;this.formats={number:r((o,s)=>{let a=new Intl.NumberFormat(o,{...s});return l=>a.format(l)}),currency:r((o,s)=>{let a=new Intl.NumberFormat(o,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((o,s)=>{let a=new Intl.DateTimeFormat(o,{...s});return l=>a.format(l)}),relativetime:r((o,s)=>{let a=new Intl.RelativeTimeFormat(o,{...s});return l=>a.format(l,s.range||"day")}),list:r((o,s)=>{let a=new Intl.ListFormat(o,{...s});return l=>a.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Fc(n)}format(e,n,r,o={}){let s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){let l=s.findIndex(u=>u.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,u)=>{let{formatName:c,formatOptions:f}=ag(u);if(this.formats[c]){let d=l;try{let p=o?.formatParams?.[o.interpolationkey]||{},h=p.locale||p.lng||o.locale||o.lng||r;d=this.formats[c](l,h,{...f,...o,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${c}`);return l},e)}},ug=i((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Ks=class extends ln{static{i(this,"Connector")}constructor(e,n,r,o={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=et.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,o.backend,o)}queueLoad(e,n,r,o){let s={},a={},l={},u={};return e.forEach(c=>{let f=!0;n.forEach(d=>{let p=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,f=!1,a[p]===void 0&&(a[p]=!0),s[p]===void 0&&(s[p]=!0),u[d]===void 0&&(u[d]=!0)))}),f||(l[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){let o=e.split("|"),s=o[0],a=o[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let l={};this.queue.forEach(u=>{Xm(u.loaded,[s],a),ug(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{l[c]||(l[c]={});let f=u.loaded[c];f.length&&f.forEach(d=>{l[c][d]===void 0&&(l[c][d]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,o=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:o,wait:s,callback:a});return}this.readingCalls++;let l=i((c,f)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&f&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,o+1,s*2,a)},s);return}a(c,f)},"resolver"),u=this.backend[r].bind(this.backend);if(u.length===2){try{let c=u(e,n);c&&typeof c.then=="function"?c.then(f=>l(null,f)).catch(l):l(null,c)}catch(c){l(c)}return}return u(e,n,l)}prepareLoading(e,n,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();R(e)&&(e=this.languageUtils.toResolveHierarchy(e)),R(n)&&(n=[n]);let s=this.queueLoad(e,n,r,o);if(!s.toLoad.length)return s.pending.length||o(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),o=r[0],s=r[1];this.read(o,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${o} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${o}`,l),this.loaded(e,a,l)})}saveMissing(e,n,r,o,s,a={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let u={...a,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let f;c.length===5?f=c(e,n,r,o,u):f=c(e,n,r,o),f&&typeof f.then=="function"?f.then(d=>l(null,d)).catch(l):l(null,f)}catch(f){l(f)}else c(e,n,r,o,l,u)}!e||!e[0]||this.store.addResource(e[0],n,r,o)}}},Lc=i(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),R(t[1])&&(e.defaultValue=t[1]),R(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:i(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Ic=i(t=>(R(t.ns)&&(t.ns=[t.ns]),R(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),R(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),ei=i(()=>{},"noop"),cg=i(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),qs=class t extends ln{static{i(this,"I18n")}constructor(e={},n){if(super(),this.options=Ic(e),this.services={},this.logger=et,this.modules={external:[]},cg(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(R(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=Lc();this.options={...r,...this.options,...Ic(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let o=i(c=>c?typeof c=="function"?new c:c:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?et.init(o(this.modules.logger),this.options):et.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Hs;let f=new ii(this.options);this.store=new ni(this.options.resources,this.options);let d=this.services;d.logger=et,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Ws(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=o(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new js(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Ks(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(h,...b)=>{this.emit(h,...b)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ri(this.services,this.options),this.translator.on("*",(h,...b)=>{this.emit(h,...b)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ei),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...f)=>this.store[c](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...f)=>(this.store[c](...f),this)});let l=$n(),u=i(()=>{let c=i((f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)},"finish");if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)},"load");return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,n=ei){let r=n,o=R(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let s=[],a=i(l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})},"append");o?a(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(l=>a(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){let o=$n();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=ei),this.services.backendConnector.reload(e,n,s=>{o.resolve(),r(s)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Rc.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=$n();this.emit("languageChanging",e);let o=i(l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},"setLngProps"),s=i((l,u)=>{u?this.isLanguageChangingTo===e&&(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(l,(...c)=>this.t(...c))},"done"),a=i(l=>{!e&&!l&&this.services.languageDetector&&(l=[]);let u=R(l)?l:l&&l[0],c=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(R(l)?[l]:l);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,f=>{s(f,c)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){let o=i((s,a,...l)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([s,a].concat(l)):u={...a},u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||o.keyPrefix);let c=this.options.keySeparator||".",f;return u.keyPrefix&&Array.isArray(s)?f=s.map(d=>(typeof d=="function"&&(d=Us(d,{...this.options,...a})),`${u.keyPrefix}${c}${d}`)):(typeof s=="function"&&(s=Us(s,{...this.options,...a})),f=u.keyPrefix?`${u.keyPrefix}${c}${s}`:s),this.t(f,u)},"fixedT");return R(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let a=i((l,u)=>{let c=this.services.backendConnector.state[`${l}|${u}`];return c===-1||c===0||c===2},"loadNotPending");if(n.precheck){let l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!o||a(s,e)))}loadNamespaces(e,n){let r=$n();return this.options.ns?(R(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=$n();R(e)&&(e=[e]);let o=this.options.preload||[],s=e.filter(a=>o.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=o.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let o=new Intl.Locale(e);if(o&&o.getTextInfo){let s=o.getTextInfo();if(s&&s.direction)return s.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new ii(Lc());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){let r=new t(e,n);return r.createInstance=t.createInstance,r}cloneInstance(e={},n=ei){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let o={...this.options,...e,isClone:!0},s=new t(o);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){let l=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},u[c]=Object.keys(u[c]).reduce((f,d)=>(f[d]={...u[c][d]},f),u[c]),u),{});s.store=new ni(l,o),s.services.resourceStore=s.store}return s.translator=new ri(s.services,o),s.translator.on("*",(l,...u)=>{s.emit(l,...u)}),s.init(o,n),s.translator.options=o,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},pe=qs.createInstance(),iS=pe.createInstance,oS=pe.dir,Dc=pe.init,sS=pe.loadResources,aS=pe.reloadResources,lS=pe.use,uS=pe.changeLanguage,cS=pe.getFixedT,Nc=pe.t,fS=pe.exists,dS=pe.setDefaultNamespace,pS=pe.hasLoadedNamespace,hS=pe.loadNamespaces,mS=pe.loadLanguages;var Bc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oi={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gs="en",fg={en:oi},si=fg;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _c="translation",Ys=!1;async function Js(t,e=!0){Ys||(Ys=!0,await Dc({fallbackLng:Gs,initAsync:e,lng:(0,Bc.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([n,r])=>[n,{[_c]:r}])),returnEmptyString:!1,returnNull:!1}),pe.addResourceBundle(Gs,_c,oi,!0,!1))}i(Js,"initI18N");function dg(t,e){return Ys||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),ue(()=>Js(si,!1))),Nc(t,e)}i(dg,"tImpl");var Dt=dg;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function pg(t){let e=new Set;return t.workspace.iterateAllLeaves(n=>{e.add(n.getContainer())}),Array.from(e)}i(pg,"getAllContainers");function Vc(t){return pg(t).map(e=>e.win)}i(Vc,"getAllDomWindows");var Wc=Vt($c(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var F=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(F||{});i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Uc=`${ir}-styles`;function H(t,...e){t.addClass(F.LibraryName,or(),...e)}i(H,"addPluginCssClasses");function jc(t){let e=t;e.DEBUG=Ha()}i(jc,"initDebugController");function Hc(t,e){Wa(e),Ka(e);let n=we(t,"lastLibraryVersion","0.0.0");(0,Wc.compareVersions)(go,n.value)<=0||(n.value=go,document.head.querySelector(`#${Uc}`)?.remove(),document.head.createEl("style",{attr:{id:Uc},text:$a}))}i(Hc,"initPluginContext");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var li=class extends ui.Plugin{static{i(this,"PluginBase")}events=new qe;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){ar(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Ya(this.afterLoad.bind(this))}onunload(){super.onunload(),ue(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let n=window;e(n),this.app.workspace.onLayoutReady(()=>{for(let r of Vc(this.app))r!==n&&e(r);this.registerEvent(this.app.workspace.on("window-open",r=>{e(r.win)}))})}registerForLifecycleEvent(e,n){ue(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerDomWindowHandler(o=>{this.registerDomEvent(o.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerDomWindowHandler(o=>{this.registerDomEvent(o,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return si}handleAsyncError(e){this.showNotice(Dt(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Me()}async onloadImpl(){Hc(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{jc(n)}),await Js(this.createTranslationsMap()),this.register(za(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Zr(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Zr(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Ge(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Me()}async onSaveSettings(e,n,r){await Me()}async onunloadImpl(){await Me()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new ui.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(lt(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var fi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mt=(t=>(t.DeleteNote="DeleteNote",t.RenameNote="RenameNote",t.Unknown="Unknown",t))(mt||{}),qc="__DUMMY__";async function Qs(t){let{app:e,notePathOrFile:n,oldAttachmentPathOrFile:r,shouldSkipDuplicateCheck:o}=t,s=J(e,r),a=We(s),l=Ce(s,a),u=ve(e,s),c=e.vault.getAvailablePathForAttachments.extended;return c?c({attachmentFileBaseName:l,attachmentFileContent:u?await e.vault.readBinary(u):void 0,attachmentFileExtension:a.slice(1),attachmentFileStat:u?.stat,context:t.context,notePathOrFile:n,oldAttachmentPathOrFile:t.oldAttachmentPathOrFile,oldNotePathOrFile:t.oldNotePathOrFile,shouldSkipDuplicateCheck:o,shouldSkipMissingAttachmentFolderCreation:!0}):await hg({app:e,attachmentFileBaseName:l,attachmentFileExtension:a.slice(1),notePathOrFile:n,shouldSkipDuplicateCheck:o,shouldSkipMissingAttachmentFolderCreation:!0})}i(Qs,"getAttachmentFilePath");async function un(t,e,n="Unknown"){return Je(await Qs({app:t,context:n,notePathOrFile:e,oldAttachmentPathOrFile:qc,shouldSkipDuplicateCheck:!0}))}i(un,"getAttachmentFolderPath");async function hg(t){let{app:e,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:o,shouldSkipMissingAttachmentFolderCreation:s}=t,a=e.vault.getConfig("attachmentFolderPath"),l=a==="."||a==="./",u=a.startsWith("./")?ll(a,"./"):null,c=ve(e,r);l?a=c?c.parent?.path??"":"":u&&(a=(c?c.parent?.getParentPrefix()??"":"")+u),a=vn(Kc(a));let f=vn(Kc(t.attachmentFileBaseName)),d=He(e,a,!0);!d&&u&&(d=s?At(e,a,!0):await e.vault.createFolder(a));let p=d?.getParentPrefix()??"";return o?ul(p+f,n):e.vault.getAvailablePath(p+f,n)}i(hg,"getAvailablePathForAttachments");async function Xs(t,e,n="Unknown"){let r=await un(t,e,n),o=await un(t,Ae(se(e),`${qc}.${ut}`),n);return r!==o}i(Xs,"hasOwnAttachmentFolder");function Kc(t){return t=ce(t,/(?:[\\/])+/g,"/"),t=ce(t,/^\/+|\/+$/g,""),t||"/"}i(Kc,"normalizeSlashes");function Gc(t,e){let n=Object.keys(e).map(r=>mg(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}i(Gc,"around");function mg(t,e,n){let r=t[e],o=t.hasOwnProperty(e),s=o?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},a=n(s);return r&&Object.setPrototypeOf(a,r),Object.setPrototypeOf(l,a),t[e]=l,u;function l(...c){return a===s&&t[e]===l&&u(),a.apply(this,c)}i(l,"wrapper");function u(){t[e]===l&&(o?t[e]=s:delete t[e]),a!==s&&(a=s,Object.setPrototypeOf(l,r||Function))}i(u,"remove")}i(mg,"around1");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function gg(t,e){return Gc(t,e)}i(gg,"around");function ci(t,e,n){let r=gg(e,n),o=!1;function s(){if(!o)try{r()}finally{o=!0}}return i(s,"uninstallerWrapper"),t.register(s),r}i(ci,"registerPatch");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Yc(t,e,n,r){n.throwIfAborted();let o=K("Logger:invokeAsyncAndLog"),s=performance.now();r??=be(1),Ye(o,r,`${t}:start`,{fn:e,timestampStart:s});try{await e(n);let a=performance.now(),l=a-s;n.aborted&&(Ye(o,r,`${t}:aborted`,{abortReason:n.reason,duration:l,fn:e,timestampEnd:a,timestampStart:s}),n.throwIfAborted()),Ye(o,r,`${t}:end`,{duration:l,fn:e,timestampEnd:a,timestampStart:s})}catch(a){let l=performance.now();throw Ye(o,r,`${t}:error`,{duration:l-s,error:a,fn:e,timestampEnd:l,timestampStart:s}),a}}i(Yc,"invokeAsyncAndLog");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function jn(t,e,n,r,o){o??=be(1),ue(()=>bg(t,e,n,r,o),o)}i(jn,"addToQueue");async function bg(t,e,n,r,o){n??=ge(),n.throwIfAborted(),r??=6e4,o??=be(1);let a=Jc(t).value;a.items.push({abortSignal:n,fn:e,stackTrace:o,timeoutInMilliseconds:r}),a.promise=a.promise.then(()=>Qc(t)),await a.promise}i(bg,"addToQueueAndWait");function Jc(t){return we(t,"queue",{items:[],promise:Promise.resolve()})}i(Jc,"getQueue");async function Qc(t){let e=Jc(t).value,n=e.items[0];n&&(await xo(()=>Co(n.timeoutInMilliseconds,r=>Yc(Qc.name,n.fn,it(r,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}i(Qc,"processNextQueueItem");var Xc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Zs(t,e){let n=He(t,e);n&&await Ur(t,n)&&await Hn(t,n)}i(Zs,"deleteEmptyFolder");async function Zc(t,e){let n=He(t,e);for(;n;){if(!await Ur(t,n))return;let r=n.parent;await Zs(t,n),n=r}}i(Zc,"deleteEmptyFolderHierarchy");async function Hn(t,e,n,r,o){let s=En(t,e);if(!s)return!1;let a=_e(s)||(o??!0);if(_e(s)){let l=await Mt(t,s);n&&l.clear(n),l.count()!==0&&(r&&new Xc.Notice(Dt(u=>u.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:s.path})),a=!1)}else if(To(s)){let l=await Ps(t,s);for(let u of[...l.files,...l.folders])a&&=await Hn(t,u,n,r);a&&=await Ur(t,s)}if(a)try{await t.fileManager.trashFile(s)}catch(l){await t.vault.exists(s.path)&&(Ct(new Error(`Failed to delete ${s.path}`,{cause:l})),a=!1)}return a}i(Hn,"deleteSafe");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ea=class{static{i(this,"DeleteHandler")}constructor(e,n,r,o,s){this.app=e,this.file=n,this.abortSignal=r,this.settingsManager=o,this.deletedMetadataCacheMap=s}async handle(){if(this.abortSignal.throwIfAborted(),K("RenameDeleteHandler:handleDelete")(`Handle Delete ${this.file.path}`),!this.settingsManager.isNoteEx(this.file.path))return;let e=this.settingsManager.getSettings();if(!e.shouldHandleDeletions)return;if(e.isPathIgnored?.(this.file.path)){K("RenameDeleteHandler:handleDelete")(`Skipping delete handler of ${this.file.path} as the path is ignored.`);return}let n=this.deletedMetadataCacheMap.get(this.file.path);this.deletedMetadataCacheMap.delete(this.file.path);let r=new Set;if(n){let a=at(n);for(let l of a){let u=Vn(this.app,l,this.file.path);u&&(this.settingsManager.isNoteEx(u.path)||(r.add(u.parent?.path??""),await Hn(this.app,u,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep")))}}await tf(this.app,this.settingsManager.getSettings(),Array.from(r)),this.abortSignal.throwIfAborted();let o=await un(this.app,this.file.path,mt.DeleteNote),s=He(this.app,o);s&&await Xs(this.app,this.file.path,mt.DeleteNote)&&(this.abortSignal.throwIfAborted(),await Hn(this.app,s,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep"),this.abortSignal.throwIfAborted())}},ta=class{static{i(this,"HandledRenames")}map=new Map;add(e,n){this.map.set(this.keyToString(e,n),{newPath:n,oldPath:e})}delete(e,n){this.map.delete(this.keyToString(e,n))}has(e,n){return this.map.has(this.keyToString(e,n))}keys(){return this.map.values()}keyToString(e,n){return`${e} -> ${n}`}},na=class{static{i(this,"MetadataDeletedHandler")}constructor(e,n,r,o,s){this.app=e,this.file=n,this.prevCache=r,this.settingsManager=o,this.deletedMetadataCacheMap=s}handle(){let e=this.settingsManager.getSettings();if(e.shouldHandleDeletions){if(e.isPathIgnored?.(this.file.path)){K("RenameDeleteHandler:handleMetadataDeleted")(`Skipping metadata delete handler of ${this.file.path} as the path is ignored.`);return}fe(this.app,this.file)&&this.prevCache&&this.deletedMetadataCacheMap.set(this.file.path,this.prevCache)}}},ra=class{static{i(this,"Registry")}constructor(e,n,r){this.plugin=e,this.settingsBuilder=n,this.settingsManager=r,this.app=e.app,this.pluginId=e.manifest.id,this.abortSignal=e.abortSignal??ge()}abortSignal;app;deletedMetadataCacheMap=new Map;handledRenames=new ta;interruptedRenamesMap=new Map;pluginId;register(){let e=this.settingsManager.renameDeleteHandlersMap;e.set(this.pluginId,this.settingsBuilder),this.logRegisteredHandlers(),this.plugin.register(()=>{e.delete(this.pluginId),this.logRegisteredHandlers()}),this.plugin.registerEvent(this.app.vault.on("delete",this.handleDelete.bind(this))),this.plugin.registerEvent(this.app.vault.on("rename",this.handleRename.bind(this))),this.plugin.registerEvent(this.app.metadataCache.on("deleted",this.handleMetadataDeleted.bind(this))),ci(this.plugin,this.app.fileManager,{runAsyncLinkUpdate:i(n=>Object.assign(r=>this.runAsyncLinkUpdate(n,r),{renameDeleteHandlerPatched:!0}),"runAsyncLinkUpdate")})}handleDelete(e){this.shouldInvokeHandler()&&jn(this.app,n=>new ea(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle(),this.abortSignal)}handleMetadataDeleted(e,n){this.shouldInvokeHandler()&&new na(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle()}handleRename(e,n){if(!this.shouldInvokeHandler()||!_e(e))return;let r=e.path;if(K("RenameDeleteHandler:handleRename")(`Handle Rename ${n} -> ${r}`),this.handledRenames.has(n,r)){this.handledRenames.delete(n,r);return}let o=this.settingsManager.getSettings();if(!o.shouldHandleRenames)return;if(o.isPathIgnored?.(n)){K("RenameDeleteHandler:handleRename")(`Skipping rename handler of old path ${n} as the path is ignored.`);return}if(o.isPathIgnored?.(r)){K("RenameDeleteHandler:handleRename")(`Skipping rename handler of new path ${r} as the path is ignored.`);return}let s=this.app.metadataCache.getCache(n)??this.app.metadataCache.getCache(r),a=Ls(this.app,n).data;jn(this.app,l=>new ia({abortSignal:l,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:r,oldCache:s,oldPath:n,oldPathBacklinksMap:a,settingsManager:this.settingsManager}).handle(),this.abortSignal)}logRegisteredHandlers(){let e=this.settingsManager.renameDeleteHandlersMap;K("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}async runAsyncLinkUpdate(e,n){if(e.renameDeleteHandlerPatched){await e.call(this.app.fileManager,n);return}await e.call(this.app.fileManager,r=>this.wrapLinkUpdatesHandler(r,n))}shouldInvokeHandler(){let e=this.plugin.manifest.id,n=this.settingsManager.renameDeleteHandlersMap;return Array.from(n.keys())[0]===e}async wrapLinkUpdatesHandler(e,n){let r=!1,o=this.app.vault.on("rename",()=>{r=!0});try{await n(e)}finally{this.app.vault.offref(o)}let s=this.settingsManager.getSettings();!r||!s.shouldHandleRenames||yn(e,a=>s.isPathIgnored?.(a.sourceFile.path)?(K("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of source file ${a.sourceFile.path} as the path is ignored.`),!0):s.isPathIgnored?.(a.resolvedFile.path)?(K("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of resolved file ${a.resolvedFile.path} as the path is ignored.`),!0):!this.app.internalPlugins.getEnabledPluginById(Ne.Canvas)||this.app.plugins.getPlugin("backlink-cache")?!1:a.sourceFile.extension===pr||a.resolvedFile.extension===pr)}},ia=class t{static{i(this,"RenameHandler")}abortSignal;app;handledRenames;interruptedCombinedBacklinksMap;interruptedRenamesMap;newPath;oldCache;oldPath;oldPathBacklinksMap;oldPathLinks;settingsManager;constructor(e){this.app=e.app,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathBacklinksMap=e.oldPathBacklinksMap,this.oldCache=e.oldCache,this.abortSignal=e.abortSignal,this.settingsManager=e.settingsManager,this.interruptedRenamesMap=e.interruptedRenamesMap,this.oldPathLinks=this.oldCache?at(this.oldCache):[],this.handledRenames=e.handledRenames,this.interruptedCombinedBacklinksMap=e.interruptedCombinedBacklinksMap??new Map}async handle(){if(this.abortSignal.throwIfAborted(),await this.continueInterruptedRenames(),this.abortSignal.throwIfAborted(),await this.refreshLinks(),this.abortSignal.throwIfAborted(),await this.handleCaseCollision())return;this.abortSignal.throwIfAborted();let e=we(this.app,"renamedFilePaths",new Set).value,n=we(this.app,"renamedLinkPaths",new Set).value;try{let r=new oa({abortSignal:this.abortSignal,app:this.app,newPath:this.newPath,oldCache:this.oldCache,oldPath:this.oldPath,settingsManager:this.settingsManager});await r.fill(),this.abortSignal.throwIfAborted();let o=new Map;r.initOriginalLinksMap(o),r.initBacklinksMap(this.oldPathBacklinksMap,o,this.oldPath);for(let l of r.keys()){if(l===this.oldPath)continue;let u=(await Mt(this.app,l)).data;this.abortSignal.throwIfAborted(),r.initBacklinksMap(u,o,l)}let s=new Set;for(let[l,u]of r.entries()){if(l!==this.oldPath){let c=await this.renameHandled(l,u);this.abortSignal.throwIfAborted(),r.set(l,c)}this.settingsManager.isNoteEx(l)||s.add(se(l))}await tf(this.app,this.settingsManager.getSettings(),Array.from(s)),this.abortSignal.throwIfAborted();let a=this.settingsManager.getSettings();for(let[l,u]of Array.from(o.entries()).concat(Array.from(this.interruptedCombinedBacklinksMap.entries()))){let c=0;await Ms(this.app,l,f=>{c++;let d=u.get(_r(f));if(!d)return;let p=r.get(d);if(p)return e.add(l),n.add(`${l}//${String(c)}`),Ns({app:this.app,link:f,newSourcePathOrFile:l,newTargetPathOrFile:p,oldTargetPathOrFile:d,shouldUpdateFileNameAlias:a.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),this.abortSignal.throwIfAborted()}if(this.settingsManager.isNoteEx(this.newPath)&&(await Qr({app:this.app,newSourcePathOrFile:this.newPath,oldSourcePathOrFile:this.oldPath,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:a.shouldUpdateFileNameAliases}),this.abortSignal.throwIfAborted()),!ve(this.app,this.newPath)){let l=this.interruptedRenamesMap.get(this.newPath);l||(l=[],this.interruptedRenamesMap.set(this.newPath,l)),l.push({combinedBacklinksMap:o,oldPath:this.oldPath})}}finally{let r=Array.from(this.handledRenames.keys());jn(this.app,()=>{for(let o of r)this.handledRenames.delete(o.oldPath,o.newPath);n.size!==0&&(new fi.Notice(`Updated ${String(n.size)} links in ${String(e.size)} files.`),e.clear(),n.clear())},this.abortSignal)}}async continueInterruptedRenames(){let e=this.interruptedRenamesMap.get(this.oldPath);if(e){this.interruptedRenamesMap.delete(this.oldPath);for(let n of e)await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedCombinedBacklinksMap:n.combinedBacklinksMap,interruptedRenamesMap:this.interruptedRenamesMap,newPath:this.newPath,oldCache:this.oldCache,oldPath:n.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle()}}async handleCaseCollision(){if(!this.app.vault.adapter.insensitive||this.oldPath.toLowerCase()!==this.newPath.toLowerCase())return!1;let e=Ae(se(this.newPath),`__temp__${Ce(this.newPath)}`);return await this.renameHandled(this.newPath,e),await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:e,oldCache:this.oldCache,oldPath:this.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle(),await this.app.vault.rename(Q(this.app,e),this.newPath),!0}async refreshLinks(){let e=this.app.metadataCache.getCache(this.oldPath)??this.app.metadataCache.getCache(this.newPath),n=e?at(e):[],r=Q(this.app,this.oldPath,!0),o=new Map;await Bn(this.app,[r],async()=>{o=(await Mt(this.app,r)).data});for(let s of n)this.oldPathLinks.includes(s)||this.oldPathLinks.push(s);for(let[s,a]of o.entries()){let l=this.oldPathBacklinksMap.get(s);l||(l=[],this.oldPathBacklinksMap.set(s,l));for(let u of a)l.includes(u)||l.push(u)}}async renameHandled(e,n){return n=Ts(this.app,e,n),e===n||(this.handledRenames.add(e,n),n=await tc(this.app,e,n)),n}},oa=class{static{i(this,"RenameMap")}abortSignal;app;map=new Map;newPath;oldCache;oldPath;oldPathLinks;settingsManager;constructor(e){this.abortSignal=e.abortSignal,this.app=e.app,this.settingsManager=e.settingsManager,this.oldCache=e.oldCache,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathLinks=this.oldCache?at(this.oldCache):[]}entries(){return this.map.entries()}async fill(){if(this.abortSignal.throwIfAborted(),this.map.set(this.oldPath,this.newPath),!this.settingsManager.isNoteEx(this.oldPath))return;let e=this.settingsManager.getSettings(),n=Q(this.app,this.oldPath,!0),r="";await sc(this.app,[n],async()=>{let u=this.oldCache&&n.deleted;u&&ic(this.app,n,this.oldCache);try{r=await un(this.app,this.oldPath,mt.RenameNote)}finally{u&&ac(this.app,n)}});let o=e.shouldRenameAttachmentFolder?await un(this.app,this.newPath,mt.RenameNote):r,s=r==="/",a=He(this.app,r);if(!a||r===o&&!e.shouldRenameAttachmentFiles)return;let l=[];if(await Xs(this.app,this.oldPath,mt.RenameNote))fi.Vault.recurseChildren(a,u=>{this.abortSignal.throwIfAborted(),_e(u)&&l.push(u)});else for(let u of this.oldPathLinks){this.abortSignal.throwIfAborted();let c=Vn(this.app,u,this.oldPath);if(c&&(s||c.path.startsWith(r))){let f=await Mt(this.app,c);this.abortSignal.throwIfAborted();let d=new Set(f.keys());d.delete(this.oldPath),d.delete(this.newPath),d.size===0&&l.push(c)}}for(let u of l){if(this.abortSignal.throwIfAborted(),this.settingsManager.isNoteEx(u.path))continue;let c;if(e.shouldRenameAttachmentFiles)c=await Qs({app:this.app,context:mt.RenameNote,notePathOrFile:this.newPath,oldAttachmentPathOrFile:u,oldNotePathOrFile:this.oldPath,shouldSkipDuplicateCheck:!0}),this.abortSignal.throwIfAborted();else{let f=s?u.path:Ht(r,u.path),d=Ae(o,se(f));c=Ae(d,u.name)}if(u.path!==c){if(e.shouldDeleteConflictingAttachments){let f=ve(this.app,c);f&&(K("RenameDeleteHandler:fillRenameMap")(`Removing conflicting attachment ${f.path}.`),await this.app.fileManager.trashFile(f),this.abortSignal.throwIfAborted())}else{let f=se(c),d=We(c),p=Ce(c,d);c=this.app.vault.getAvailablePath(Ae(f,p),d.slice(1))}this.map.set(u.path,c)}}}get(e){return this.map.get(e)}initBacklinksMap(e,n,r){for(let[o,s]of e.entries()){let a=this.map.get(o)??o,l=n.get(a)??new Map;n.set(a,l);for(let u of s)l.set(_r(u),r)}}initOriginalLinksMap(e){for(let n of this.oldPathLinks){let r=Vn(this.app,n,this.oldPath);if(!r)continue;let o=new Map;o.set(this.newPath,[n]),this.initBacklinksMap(o,e,r.path)}}keys(){return this.map.keys()}set(e,n){this.map.set(e,n)}},sa=class{static{i(this,"SettingsManager")}constructor(e){this.app=e,this.renameDeleteHandlersMap=we(e,"renameDeleteHandlersMap",new Map).value}renameDeleteHandlersMap;getSettings(){let e=Array.from(this.renameDeleteHandlersMap.values()).reverse(),n={};n.isNote=r=>Po(this.app,r),n.isPathIgnored=()=>!1;for(let r of e){let o=r();n.shouldDeleteConflictingAttachments||=o.shouldDeleteConflictingAttachments??!1,o.emptyAttachmentFolderBehavior&&(n.emptyAttachmentFolderBehavior??=o.emptyAttachmentFolderBehavior),n.shouldHandleDeletions||=o.shouldHandleDeletions??!1,n.shouldHandleRenames||=o.shouldHandleRenames??!1,n.shouldRenameAttachmentFiles||=o.shouldRenameAttachmentFiles??!1,n.shouldRenameAttachmentFolder||=o.shouldRenameAttachmentFolder??!1,n.shouldUpdateFileNameAliases||=o.shouldUpdateFileNameAliases??!1;let s=n.isPathIgnored;n.isPathIgnored=l=>s(l)||(o.isPathIgnored?.(l)??!1);let a=n.isNote;n.isNote=l=>a(l)&&(o.isNote?.(l)??!0)}return n.emptyAttachmentFolderBehavior??="Keep",n}isNoteEx(e){return this.getSettings().isNote?.(e)??!1}};function ef(t,e){new ra(t,e,new sa(t.app)).register()}i(ef,"registerRenameDeleteHandlers");async function tf(t,e,n){if(e.emptyAttachmentFolderBehavior!=="Keep")for(let r of n)switch(e.emptyAttachmentFolderBehavior){case"Delete":await Zs(t,r);break;case"DeleteWithEmptyParents":await Zc(t,r);break;default:break}}i(tf,"cleanupParentFolders");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var di=class{static{i(this,"CommandBase")}icon;id;name;app;originalId;originalName;plugin;constructor(e){this.id=e.id,this.name=e.name,this.icon=e.icon,this.plugin=e.plugin,this.app=this.plugin.app,this.originalId=this.id,this.originalName=this.name}register(){this.plugin.addCommand(this)}},cn=class{static{i(this,"CommandInvocationBase")}constructor(e){this.plugin=e,this.app=e.app}app;lastCanExecuteResult;invoke(e){return this.lastCanExecuteResult=this.canExecute(),!e&&this.lastCanExecuteResult&&ue(()=>this.execute()),this.lastCanExecuteResult}canExecute(){return!0}async execute(){if(this.lastCanExecuteResult===void 0)throw new Error("canExecute() must be called before execute()");if(!this.lastCanExecuteResult)throw new Error("canExecute() must return true before execute()");await Promise.resolve()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var fn=class extends di{static{i(this,"NonEditorCommandBase")}checkCallback(e){return this.createCommandInvocation().invoke(e)}};var nf=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function rf(t){let n={...{abortSignal:ge(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Fe,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=be(1),o=n.items,s=0,a=null;n.shouldShowProgressBar&&(a=new nf.Notice("",0));let l=sleep(n.noticeMinTimeoutInMilliseconds),u=createEl("progress");if(H(u,"loop"),u.max=o.length,n.shouldShowProgressBar){let f=createFragment();f.createDiv({text:n.progressBarTitle}),f.appendChild(u),a?.setMessage(f)}let c=performance.now();for(let f of o){if(n.abortSignal.aborted){a?.hide();return}s++;let d=`# ${String(s)} / ${String(o.length)}`,p=n.buildNoticeMessage(f,d);n.shouldShowProgressBar||a?.setMessage(p),K("Loop")(p);try{performance.now()-c>n.uiUpdateThresholdInMilliseconds&&(await Ja(),c=performance.now()),await n.processItem(f)}catch(h){if(console.error("Error processing item",f),!n.shouldContinueOnError)throw a?.hide(),new Ue("loop failed",r,h);nr(new Ue(tr,r,h))}u.value++}await l,a?.hide()}i(rf,"loop");var aa=require("obsidian");var of=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pi=class extends of.Modal{static{i(this,"ModalBase")}constructor(e,n,r){super(e.app),this.resolve=n,H(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function sf(t){return await new Promise(e=>{t(e).open()})}i(sf,"showModal");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var la=class extends pi{static{i(this,"ConfirmModal")}isConfirmed=!1;options;constructor(e,n){super(e,n,F.ConfirmModal);let r={app:e.app,cancelButtonText:Dt(o=>o.obsidianDevUtils.buttons.cancel),cssClass:"",message:e.message,okButtonText:Dt(o=>o.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new aa.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass(F.OkButton);let n=new aa.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass(F.CancelButton)}};async function af(t){return await sf(e=>new la(t,e))}i(af,"confirm");async function lf(t,e,n){try{await yg(t,e,n)}catch(r){if(ko(r))return;throw r}}i(lf,"applyLinkChangeUpdates");async function Kn(t,e,n,r){n.throwIfAborted(),!(t.settings.isPathIgnored(e.path)&&(!r||!await af({app:t.app,message:`Note '${e.path}' is excluded from the conversion in plugin settings. Do you want to convert it anyway?`})))&&await Qr({abortSignal:n,app:t.app,linkStyle:t.settings.getLinkStyle(!0),newSourcePathOrFile:e})}i(Kn,"convertLinksInFile");async function hi(t,e,n){await rf({abortSignal:n,buildNoticeMessage:i((r,o)=>`Converting links in note ${o} - ${r.path}`,"buildNoticeMessage"),items:dl(t.app,e,!0),processItem:i(async r=>{await Kn(t,r,n)},"processItem"),progressBarTitle:e.path==="/"?"Better Markdown Links: Converting links in entire vault...":`Better Markdown Links: Converting links in folder "${e.path}" ...`,shouldContinueOnError:!0,shouldShowProgressBar:!0})}i(hi,"convertLinksInFolder");function wg(t,e,n){let r=/^!?\[(?<Alias>.*?)\]\((?<EscapedPath>[^<]+?) .+?>\)$/.exec(e),o=e.startsWith("!");if(!r)return e;let s=r.groups?.Alias??"",a=r.groups?.EscapedPath??"",{linkPath:l,subpath:u}=Jr(decodeURIComponent(a)),c=t.app.metadataCache.getFirstLinkpathDest(l,n.path);return c?zn({alias:s,app:t.app,isEmbed:o,linkStyle:t.settings.getLinkStyle(!1),sourcePathOrFile:n,subpath:u,targetPathOrFile:c}):`${o?"!":""}[${s}](${a})`}i(wg,"fixChange");async function yg(t,e,n){let r=t.processFileAbortControllers.get(e.path);r?.abort(new Ge(`File ${e.path} is already being processed`)),r=new AbortController,t.processFileAbortControllers.set(e.path,r),await qr(t.app,e,()=>n.map(o=>({newContent:wg(t,o.change,e),oldContent:o.reference.original,reference:o.reference})),{abortSignal:r.signal},!1)}i(yg,"applyLinkChangeUpdatesImpl");var ua=class extends cn{static{i(this,"ConvertLinksInEntireVaultCommandInvocation")}async execute(){await super.execute(),await hi(this.plugin,this.plugin.app.vault.getRoot(),this.plugin.abortSignal)}},mi=class extends fn{static{i(this,"ConvertLinksInEntireVaultCommand")}constructor(e){super({icon:"link",id:"convert-links-in-entire-vault",name:"Convert links in entire vault",plugin:e})}createCommandInvocation(){return new ua(this.plugin)}};var gi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var dn=class extends fn{static{i(this,"AbstractFileCommandBase")}fileMenuItemName;fileMenuSection;filesMenuItemName;filesMenuSection;checkCallback(e){return this.shouldAddToCommandPalette()?super.checkCallback(e):!1}register(){super.register(),this.plugin.registerEvent(this.app.workspace.on("file-menu",this.handleAbstractFileMenu.bind(this))),this.plugin.registerEvent(this.app.workspace.on("files-menu",this.handleAbstractFilesMenu.bind(this)))}shouldAddToAbstractFileMenu(e,n,r){return!1}shouldAddToCommandPalette(){return!0}handleAbstractFileMenu(e,n,r,o){this.shouldAddToAbstractFileMenu(n,r,o)&&this.createCommandInvocation().invoke(!0,n)&&e.addItem(s=>{s.setTitle(this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(this.fileMenuSection??"").onClick(()=>this.createCommandInvocation().invoke(!1,n))})}handleAbstractFilesMenu(e,n,r,o){for(let s of n)if(!this.shouldAddToAbstractFileMenu(s,r,o)||!this.createCommandInvocation().invoke(!0,s))return;e.addItem(s=>{s.setTitle(this.filesMenuItemName??this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(this.filesMenuSection??this.fileMenuSection??"").onClick(()=>{for(let a of n)this.createCommandInvocation().invoke(!1,a)})})}},pn=class extends cn{static{i(this,"AbstractFileCommandInvocationBase")}get abstractFile(){if(!this._abstractFile)throw new Error("Abstract file not set");return this._abstractFile}set abstractFile(e){this._abstractFile=e}_abstractFile;invoke(e,n){return n&&(this._abstractFile=n),super.invoke(e)}canExecute(){if(!super.canExecute())return!1;let e=this._abstractFile??this.app.workspace.getActiveFile();return e?(this._abstractFile=e,!0):!1}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bi=class extends dn{static{i(this,"FileCommandBase")}shouldAddToAbstractFileMenu(e,n,r){return e instanceof gi.TFile?this.shouldAddToFileMenu(e,n,r):!1}shouldAddToFileMenu(e,n,r){return!1}},wi=class extends pn{static{i(this,"FileCommandInvocationBase")}get file(){if(!(this.abstractFile instanceof gi.TFile))throw new Error("Abstract file is not a file");return this.abstractFile}set file(e){this.abstractFile=e}canExecute(){if(!super.canExecute())return!1;if(!(this.abstractFile instanceof gi.TFile)){let e=this.app.workspace.getActiveFile();if(!e)return!1;this.file=e}return!0}};var ca=class extends wi{static{i(this,"ConvertLinksInFileCommandInvocation")}canExecute(){return super.canExecute()?fe(this.app,this.file):!1}async execute(){await super.execute(),await Kn(this.plugin,this.file,this.plugin.abortSignal,!0)}},yi=class extends bi{static{i(this,"ConvertLinksInFileCommand")}fileMenuItemName="Convert links in file";filesMenuItemName="Convert links in files";constructor(e){super({icon:"link",id:"convert-links-in-current-file",name:"Convert links in current file",plugin:e})}createCommandInvocation(){return new ca(this.plugin)}shouldAddToFileMenu(e){return fe(this.app,e)}};var xi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ki=class extends dn{static{i(this,"FolderCommandBase")}shouldAddToAbstractFileMenu(e,n,r){return e instanceof xi.TFolder?this.shouldAddToFolderMenu(e,n,r):!1}shouldAddToFolderMenu(e,n,r){return!1}},Ci=class extends pn{static{i(this,"FolderCommandInvocationBase")}get folder(){if(!(this.abstractFile instanceof xi.TFolder))throw new Error("Abstract file is not a folder");return this.abstractFile}set folder(e){this.abstractFile=e}canExecute(){if(!super.canExecute())return!1;if(!(this.abstractFile instanceof xi.TFolder)){let e=this.app.workspace.getActiveFile()?.parent;if(!e)return!1;this.folder=e}return!0}};var fa=class extends Ci{static{i(this,"ConvertLinksInFolderCommandInvocation")}canExecute(){return!!super.canExecute()}async execute(){await super.execute(),await hi(this.plugin,this.folder,this.plugin.abortSignal)}},Ai=class extends ki{static{i(this,"ConvertLinksInFolderCommand")}fileMenuItemName="Convert links in folder";filesMenuItemName="Convert links in folders";constructor(e){super({icon:"link",id:"convert-links-in-current-folder",name:"Convert links in current folder",plugin:e})}createCommandInvocation(){return new fa(this.plugin)}shouldAddToFolderMenu(){return!0}};var GP=require("obsidian");function uf(t){ci(t,t.app.fileManager,{generateMarkdownLink(){return Object.assign(e,{extended:n});function e(r,o,s,a){return xg(t,r,o,s,a)}function n(r){return cf(t,r)}}}),mc(t,()=>({isEmptyEmbedAliasAllowed:t.settings.shouldAllowEmptyEmbedAlias,shouldIncludeAttachmentExtensionToEmbedAlias:t.settings.shouldIncludeAttachmentExtensionToEmbedAlias,shouldUseAngleBrackets:t.settings.shouldUseAngleBrackets,shouldUseLeadingDotForRelativePaths:t.settings.shouldUseLeadingDotForRelativePaths,shouldUseLeadingSlashForAbsolutePaths:t.settings.shouldUseLeadingSlashForAbsolutePaths}))}i(uf,"patchGenerateMarkdownLink");function cf(t,e){return zn({app:t.app,...e})}i(cf,"generateMarkdownLinkExtended");function xg(t,e,n,r,o){return cf(t,Ku({alias:o,sourcePathOrFile:n,subpath:r,targetPathOrFile:e}))}i(xg,"generateMarkdownLinkNative");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gt=class{static{i(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let a=this.transformValue(e,n);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((a,l)=>this.transformValueRecursively(a,String(l)));let o=e;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let s={};for(let a of tn(e)){let l=e[a],u=this.transformValueRecursively(l,a);s[a]=u}return s}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ze=class extends gt{static{i(this,"TypedTransformer")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vi=class extends ze{static{i(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var ff=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ei=class extends ze{static{i(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return ff.moment.duration(e)}transformValue(e){return e.toISOString()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Si=class extends gt{static{i(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??xn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ti=class extends ze{static{i(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pi=class extends ze{static{i(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var kg="_",Fi=class extends gt{static{i(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(kg)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qn=class{static{i(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Li=class extends ze{static{i(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof qn}restoreValue(e){return new qn(e)}transformValue(e){return Array.from(e.entries())}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cg=new Si([new Fi,new vi,new Ei,new Ti,new Pi,new Li]),Ii=class extends qe{static{i(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=tn(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,o=await this.rawRecordToSettings(r),s=await this.validate(o);for(let l of this.propertyNames)this.setPropertyImpl(l,o[l],s[l]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);Ve(a,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Fe),this.currentSettingsWrapper.validationMessages}async saveToFile(e){Ve(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,o]of this.validators.entries()){let s=await o(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return Cg}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Me()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(o);function o(s){let a=new Set(Object.keys(new e)),l=new Set(r.propertyNames),u=s;n(u);for(let c of Object.keys(u))l.has(c)||a.has(c)&&delete s[c]}i(o,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),o=JSON.parse(r);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let o=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=o,this.currentSettingsWrapper.safeSettings[r]=o?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,o]of Object.entries(e)){if(!this.isValidPropertyName(r)){K("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof o!=typeof this.defaultSettings[r]&&K("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:o}),n[r]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var df=/(?:)/,pf=/$./,Oi=class{static{i(this,"PluginSettings")}shouldAllowEmptyEmbedAlias=!0;shouldAutomaticallyConvertNewLinks=!0;shouldAutomaticallyUpdateLinksOnRenameOrMove=!0;shouldIncludeAttachmentExtensionToEmbedAlias=!1;shouldPreserveExistingLinkStyle=!1;shouldUseAngleBrackets=!0;shouldUseLeadingDotForRelativePaths=!0;shouldUseLeadingSlashForAbsolutePaths=!0;get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=hf(this._excludePaths,pf)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=hf(this._includePaths,df)}_excludePaths=[];_excludePathsRegExp=pf;_includePaths=[];_includePathsRegExp=df;getLinkStyle(e){return e&&this.shouldPreserveExistingLinkStyle?Yr.PreserveExisting:Yr.ObsidianSettingsDefault}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function hf(t,e){if(t.length===0)return e;let n=t.map(r=>r==="/"?e.source:r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):r.endsWith("/")?`^${dr(r)}`:`^${dr(r)}(/|$)`).map(r=>`(${r})`).join("|");return new RegExp(n)}i(hf,"makeRegExp");var da=class{static{i(this,"LegacySettings")}allowEmptyEmbedAlias=!0;automaticallyConvertNewLinks=!0;automaticallyUpdateLinksOnRenameOrMove=!0;includeAttachmentExtensionToEmbedAlias=!1;shouldUseLeadingDot=!0;useAngleBrackets=!0;useLeadingDot=!0},Ri=class extends Ii{static{i(this,"PluginSettingsManager")}createDefaultSettings(){return new Oi}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(da,e=>{e.allowEmptyEmbedAlias!==void 0&&(e.shouldAllowEmptyEmbedAlias=e.allowEmptyEmbedAlias),e.automaticallyConvertNewLinks!==void 0&&(e.shouldAutomaticallyConvertNewLinks=e.automaticallyConvertNewLinks),e.automaticallyUpdateLinksOnRenameOrMove!==void 0&&(e.shouldAutomaticallyUpdateLinksOnRenameOrMove=e.automaticallyUpdateLinksOnRenameOrMove),e.includeAttachmentExtensionToEmbedAlias!==void 0&&(e.shouldIncludeAttachmentExtensionToEmbedAlias=e.includeAttachmentExtensionToEmbedAlias),e.useAngleBrackets!==void 0&&(e.shouldUseAngleBrackets=e.useAngleBrackets),e.useLeadingDot!==void 0&&(e.shouldUseLeadingDotForRelativePaths=e.useLeadingDot),e.shouldUseLeadingDot!==void 0&&(e.shouldUseLeadingDotForRelativePaths=e.shouldUseLeadingDot)})}registerValidators(){this.registerValidator("includePaths",mf),this.registerValidator("excludePaths",mf)}};function mf(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!sl(n))return`Invalid regular expression ${e}`}}i(mf,"pathsValidator");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Se(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}i(Se,"appendCodeBlock");function gf(t){return`${String(t)}px`}i(gf,"toPx");var Nt=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Mi(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(F.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();H(r,F.SettingComponentWrapper);for(let o of n)r.appendChild(o);return e.appendChild(r),r}i(Mi,"ensureWrapped");var bf=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pa=class{static{i(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function wf(t){return Ag(t)?t:t instanceof bf.AbstractTextComponent?new pa(t):null}i(wf,"getTextBasedComponentValue");function Ag(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}i(Ag,"isTextBasedComponent");var he=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Di=class{static{i(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=Mi(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),H(this._validatorEl,F.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},bt=class{static{i(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function yf(t){return vg(t)?t:t instanceof he.ColorComponent?new bt(t.colorPickerEl):t instanceof he.DropdownComponent?new bt(t.selectEl):t instanceof he.ProgressBarComponent?new Di(t.progressBar):t instanceof he.SearchComponent?new bt(t.inputEl):t instanceof he.SliderComponent?new bt(t.sliderEl):t instanceof he.TextAreaComponent?new bt(t.inputEl):t instanceof he.TextComponent?new bt(t.inputEl):t instanceof he.ToggleComponent?new Di(t.toggleEl):null}i(yf,"getValidatorComponent");function vg(t){return!!t.validatorEl}i(vg,"isValidatorComponent");var Eg=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function xf(t){return t.validationMessage!==void 0}i(xf,"isValidationMessageHolder");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ha="PluginSettingsTab",Ni=class extends Nt.PluginSettingTab{static{i(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,H(this.containerEl,F.PluginSettingsTab),this.saveSettingsDebounced=(0,Nt.debounce)(lt(()=>this.plugin.settingsManager.saveToFile(ha)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Xr,this.asyncEvents=new qe}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:i(S=>S,"componentToPluginSettingsValueConverter"),onChanged:Fe,pluginSettingsToComponentValueConverter:i(S=>S,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=yf(e)?.validatorEl,l=wf(e),u=this.pluginSettings[n],c=this.plugin.settingsManager.defaultSettings[n],f=s.pluginSettingsToComponentValueConverter(c);l?.setPlaceholderValue(f);let d,p=null,h=null;if(a){let S=Mi(a);p=S.createDiv(),H(p,F.Tooltip,F.TooltipValidator),h=p.createSpan();let L=p.createDiv();H(L,F.TooltipArrow),p.hide(),S.appendChild(p)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(S,L)=>{n===S&&(d=L,x())}));let b=!1,C=!1;l&&s.shouldShowPlaceholderForDefaultValues&&Ve(u,c)?l.empty():e.setValue(s.pluginSettingsToComponentValueConverter(u));let y=!1,x=(0,Nt.debounce)(()=>{requestAnimationFrame(()=>{v()})},100);return e.onChange(async S=>{if(y){y=!1;return}b=!1;let L=this.pluginSettings[n],k,B=!0;if(C=!!l?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty,C)k=c;else{let W=s.componentToPluginSettingsValueConverter(S);xf(W)?(d=W.validationMessage,B=!1):k=W}B&&(d=await this.plugin.settingsManager.setProperty(n,k),l&&s.shouldShowPlaceholderForDefaultValues&&!l.isEmpty()&&Ve(k,c)&&(b=!0)),x(),B&&await s.onChanged(k,L),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{x()}),a?.addEventListener("blur",()=>{x()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{x()})}),d=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",x(),e;function v(){a?.isActiveElement()||(b?(b=!1,l?.isEmpty()||(y=!0,l?.empty())):C&&(C=!1,l?.isEmpty()&&(y=!0,e.setValue(f)))),a&&(d===""&&(a.setCustomValidity(""),a.checkValidity(),d=a.validationMessage),a.setCustomValidity(d),s.shouldShowValidationMessage?(h&&(h.textContent=d),p?.toggle(!!d)):d&&(0,Nt.setTooltip)(a,d))}i(v,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),ue(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(ha)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Me()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===ha){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Nf=require("obsidian");var kf=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _i=class extends kf.ValueComponent{static{i(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),H(e,F.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Vi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bi=class extends Vi.ValueComponent{static{i(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),H(e,F.CodeHighlighterComponent);let n=e.createDiv();H(n,F.SettingComponentWrapper),this.textAreaComponent=new Vi.TextAreaComponent(n),this.preEl=n.createEl("pre",{attr:{tabIndex:"-1"}}),this.codeEl=this.preEl.createEl("code",{attr:{tabIndex:"-1"}}),this.inputEl.addEventListener("input",lt(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let o of Array.from(r.classList))o.startsWith(n)&&r.classList.remove(o);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,ue(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),ue(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;if(e.preventDefault(),e.ctrlKey||e.metaKey){let f=Array.from(document.querySelectorAll(':is(a, button, input, select, textarea, [tabindex]):not([tabindex="-1"]):not(:disabled):not([type="hidden"])')),d=f.indexOf(this.inputEl),p=e.shiftKey?-1:1;f[(d+p+f.length)%f.length]?.focus();return}let n=this.getValue(),r=this.inputEl.selectionStart,o=this.inputEl.selectionEnd,s=n.slice(0,r),a=n.slice(o),l=" ".repeat(this.tabSize),u=s;e.shiftKey?s.endsWith(l)&&(u=s.slice(0,-this.tabSize)):u=s+l;let c=`${u}${a}`;this.setValue(c),this.inputEl.selectionStart=u.length,this.inputEl.selectionEnd=u.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await nl()).highlightElement(this.codeEl),this.preEl.toggleClass(F.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":gf(n)}),this.handleScroll()})}};var vf=require("obsidian");var zi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var te=class extends zi.ValueComponent{static{i(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new zi.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,H(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Te=class extends te{static{i(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cf=ht(vf.moment),Af="YYYY-MM-DD",$i=class extends Te{static{i(this,"DateComponent")}constructor(e){super(e,"date",F.DateComponent)}valueFromString(e){return Cf(e,Af).toDate()}valueToString(e){return Cf(e).format(Af)}};var Tf=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ef=ht(Tf.moment),Sf="YYYY-MM-DDTHH:mm",Ui=class extends Te{static{i(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",F.DateTimeComponent)}valueFromString(e){return Ef(e,Sf).toDate()}valueToString(e){return Ef(e).format(Sf)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wi=class extends te{static{i(this,"EmailComponent")}constructor(e){super(e,"email",F.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ji=class extends te{static{i(this,"FileComponent")}constructor(e){super(e,"file",F.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Lf=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pf=ht(Lf.moment),Ff="YYYY-MM",Hi=class extends Te{static{i(this,"MonthComponent")}constructor(e){super(e,"month",F.MonthComponent)}valueFromString(e){let n=Pf(e,Ff);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return Pf().year(e.year).month(e.month-1).format(Ff)}};var Ki=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var hn=class extends Ki.ValueComponent{static{i(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Ki.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,H(e,F.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qi=class extends te{static{i(this,"MultipleEmailComponent")}constructor(e){super(e,"email",F.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gi=class extends te{static{i(this,"MultipleFileComponent")}constructor(e){super(e,"file",F.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Ji=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yi=class extends Ji.ValueComponent{static{i(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Ji.TextAreaComponent(e),H(e,F.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qi=class extends Te{static{i(this,"NumberComponent")}constructor(e){super(e,"number",F.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xi=class extends te{static{i(this,"PasswordComponent")}constructor(e){super(e,"password",F.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zi=class extends te{static{i(this,"TelephoneComponent")}constructor(e){super(e,"tel",F.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var ma=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var eo=class extends Te{static{i(this,"TimeComponent")}constructor(e){super(e,"time",F.TimeComponent)}valueFromString(e){return ma.moment.duration(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",ma.moment.utc(e.asMilliseconds()).format(n)}};var If=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var to=class extends If.ValueComponent{static{i(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),H(e,F.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var ro=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var no=class extends ro.ValueComponent{static{i(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new ro.DropdownComponent(e),H(e,F.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Of=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var io=class extends Of.ValueComponent{static{i(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new hn(e),H(e,F.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oo=class extends te{static{i(this,"UrlComponent")}constructor(e){super(e,"url",F.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Df=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Rf=ht(Df.moment),Mf="YYYY-[W]WW",so=class extends Te{static{i(this,"WeekComponent")}constructor(e){super(e,"week",F.WeekComponent)}valueFromString(e){let n=Rf(e,Mf);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return Rf().year(e.year).isoWeek(e.weekNumber).format(Mf)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Re=class extends Nf.Setting{static{i(this,"SettingEx")}addCheckbox(e){return this.addComponent(_i,e)}addCodeHighlighter(e){return this.addComponent(Bi,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent($i,e)}addDateTime(e){return this.addComponent(Ui,e)}addEmail(e){return this.addComponent(Wi,e)}addFile(e){return this.addComponent(ji,e)}addMonth(e){return this.addComponent(Hi,e)}addMultipleDropdown(e){return this.addComponent(hn,e)}addMultipleEmail(e){return this.addComponent(qi,e)}addMultipleFile(e){return this.addComponent(Gi,e)}addMultipleText(e){return this.addComponent(Yi,e)}addNumber(e){return this.addComponent(Qi,e)}addPassword(e){return this.addComponent(Xi,e)}addTelephone(e){return this.addComponent(Zi,e)}addTime(e){return this.addComponent(eo,e)}addTriStateCheckbox(e){return this.addComponent(to,e)}addTypedDropdown(e){return this.addComponent(no,e)}addTypedMultipleDropdown(e){return this.addComponent(io,e)}addUrl(e){return this.addComponent(oo,e)}addWeek(e){return this.addComponent(so,e)}};var ao=class extends Ni{static{i(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new Re(this.containerEl).setName("Should use leading dot for relative paths").setDesc(createFragment(e=>{e.appendText("Whether to use a leading dot in relative links."),e.createEl("br"),e.appendText("If enabled: "),Se(e,"[[./relative/path/to/target]]"),e.createEl("br"),e.appendText("If disabled: "),Se(e,"[[relative/path/to/target]]")})).addToggle(e=>{this.bind(e,"shouldUseLeadingDotForRelativePaths")}),new Re(this.containerEl).setName("Should use leading slash for absolute paths").setDesc(createFragment(e=>{e.appendText("Whether to use a leading slash in absolute paths."),e.createEl("br"),e.appendText("If enabled: "),Se(e,"[[/absolute/path/to/target]]"),e.createEl("br"),e.appendText("If disabled: "),Se(e,"[[absolute/path/to/target]]")})).addToggle(e=>{this.bind(e,"shouldUseLeadingSlashForAbsolutePaths")}),new Re(this.containerEl).setName("Should use angle brackets").setDesc(createFragment(e=>{e.appendText("Whether to use angle brackets in links. Applicable only if "),e.createEl("br"),Se(e,"Use [[Wikilinks]]"),e.appendText(" Obsidian setting is disabled."),e.createEl("br"),e.appendText("If enabled: "),Se(e,"[alias](<path with spaces.md>)"),e.createEl("br"),e.appendText("If disabled: "),Se(e,"[alias](path%20with%20spaces.md)")})).addToggle(e=>{this.bind(e,"shouldUseAngleBrackets")}),new Re(this.containerEl).setName("Should automatically convert new links").setDesc("Whether to automatically convert new links entered manually to the selected format.").addToggle(e=>{this.bind(e,"shouldAutomaticallyConvertNewLinks")}),new Re(this.containerEl).setName("Should automatically update links on rename or move").setDesc(createFragment(e=>{e.appendText("Whether to automatically update links when a file is renamed or moved to another directory."),e.createEl("br"),e.appendText("Consider installing the "),e.createEl("a",{href:"obsidian://show-plugin?id=backlink-cache",text:"Backlink Cache"}),e.appendText(" plugin to improve performance.")})).addToggle(e=>{this.bind(e,"shouldAutomaticallyUpdateLinksOnRenameOrMove")}),new Re(this.containerEl).setName("Should allow empty embed alias").setDesc(createFragment(e=>{e.appendText("Whether to allow empty embed alias. If disabled, empty alias will be replaced with the attachment name."),e.createEl("br"),e.appendText("If enabled: "),Se(e,"![](path/to/image.png)"),e.createEl("br"),e.appendText("If disabled: "),Se(e,"![image](path/to/image.png)")})).addToggle(e=>{this.bind(e,"shouldAllowEmptyEmbedAlias")}),new Re(this.containerEl).setName("Should include attachment extension to embed alias").setDesc(createFragment(e=>{e.appendText("Whether to include the extension of the attachment in the embed alias."),e.createEl("br"),e.appendText("If enabled: "),Se(e,"![image.png](path/to/image.png)"),e.createEl("br"),e.appendText("If disabled: "),Se(e,"![image](path/to/image.png)")})).addToggle(e=>{this.bind(e,"shouldIncludeAttachmentExtensionToEmbedAlias")}),new Re(this.containerEl).setName("Should preserve existing link style").setDesc(createFragment(e=>{e.appendText("Whether to preserve the existing link style when converting links."),e.createEl("br"),e.appendText("If enabled, the existing link style will be preserved when converting links."),e.createEl("br"),e.appendText("If disabled, the existing links style will be changed to the default link style defined in Obsidian settings.")})).addToggle(e=>{this.bind(e,"shouldPreserveExistingLinkStyle")}),new Re(this.containerEl).setName("Include paths").setDesc(createFragment(e=>{e.appendText("Include notes from the following paths"),e.createEl("br"),e.appendText("Insert each path on a new line"),e.createEl("br"),e.appendText("You can use path string or "),Se(e,"/regular expression/"),e.createEl("br"),e.appendText("If the setting is empty, all notes are included")})).addMultipleText(e=>{this.bind(e,"includePaths")}),new Re(this.containerEl).setName("Exclude paths").setDesc(createFragment(e=>{e.appendText("Exclude notes from the following paths"),e.createEl("br"),e.appendText("Insert each path on a new line"),e.createEl("br"),e.appendText("You can use path string or "),Se(e,"/regular expression/"),e.createEl("br"),e.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(e=>{this.bind(e,"excludePaths")})}};var lo=class extends li{static{i(this,"Plugin")}processFileAbortControllers=new Map;createSettingsManager(){return new Ri(this)}createSettingsTab(){return new ao(this)}async onLayoutReady(){await super.onLayoutReady(),uf(this),new yi(this).register(),new Ai(this).register(),new mi(this).register(),this.registerEvent(this.app.vault.on("modify",lt(this.handleModify.bind(this)))),ef(this,()=>({isPathIgnored:i(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldHandleRenames:this.settings.shouldAutomaticallyUpdateLinksOnRenameOrMove,shouldUpdateFileNameAliases:!0})),this.app.fileManager.linkUpdaters[ut]={applyUpdates:i((e,n)=>lf(this,e,n),"applyUpdates"),iterateReferences:Fe,renameSubpath:Me},this.register(()=>{delete this.app.fileManager.linkUpdaters[ut]})}async handleModify(e){if(this.abortSignal.throwIfAborted(),!(e instanceof _f.TFile))return;let n=this.processFileAbortControllers.get(e.path);if(n?.abort(new Ge(`File ${e.path} is already being processed`)),this.processFileAbortControllers.delete(e.path),!this.settings.shouldAutomaticallyConvertNewLinks)return;let r=document.querySelector(".suggestion-container");if(!(r&&r.style.display!=="none")){n=new AbortController,this.processFileAbortControllers.set(e.path,n);try{let o=it(this.abortSignal,n.signal),s=await Gr(this.app,e);if(o.throwIfAborted(),!s)return;at(s).some(l=>l.original!==Rs({app:this.app,link:l,linkStyle:this.settings.getLinkStyle(!0),newSourcePathOrFile:e}))&&await Kn(this,e,o)}finally{this.processFileAbortControllers.delete(e.path)}}}};var Sg=lo;

/* nosourcemap */