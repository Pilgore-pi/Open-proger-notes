https://infostart.ru/1c/articles/167459/

С появлением платформы 8.1 фирма “1С” представила механизм, носящий интригующее название XML Data Transfer Objects или, если коротко - XDTO

Платформа позволяет оперировать фрагментами XML-документов, как обыкновенными объектами, к которым можно, например, обращаться “через точку”

Создаваемая схема описывает типы данных, которые мы можем использовать. Обязательно задается пространство имен, которому наши типы будут принадлежать. Сами типы подразделяются на простые и составные

Для XDTO важно, какая модель данных (структура типов) используется. Можно создавать объекты конфигурации, называемые **XDTO-Пакеты**.

В конфигураторе, каждая схема XML может быть представлена в виде ПакетаXDTO, а вся совокупность типов, имеющихся в конфигурации составляет Модель данных конфигурации

>Простые типы XML представляются в виде объектов языка 1С с типом “ЗначениеXDTO”. Составные типы XML представляются в виде объектов языка 1С с типом “ОбъектXDTO”

Подобно тому, как в конфигурации есть метаданные, предоставляющие информацию о типах, в XDTO тоже есть подобные объекты - ТипЗначенияXDTO и ТипОбъектаXDTO. Эти объекты позволяют узнать информацию о типе данных - размер, число знаков после запятой, неотрицательность и т.п.

>Для XDTO пакета в конфе нужно указать URI-ссылку на пространство имен, в котором содержится информация о моделе типов. После указания ссылки, в XDTO-пакете должно отобразиться дерево типов:

![[XDTO_пакет.jpg]]


## Тип СериализаторXDTO

Представляет сериализатор значений платформы "1С:Предприятие 8" в [[03 XML|03 XML]] и [[01 JSON|01 JSON]] на основе XDTO.
Имеет одно свойство [[XDTO#ФабрикаXDTO|Фабрика]] типа **`ФабрикаXDTO`**

| Метод                                               | Описание                                                                                                                            |
| --------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| `XMLЗначение(тип, xml)`                             | Преобразует строку [[03 XML\|XML]] в значение с указанным типом                                                                        |
| `XMLСтрока(значение)`                               | Преобразует значение в строку [[03 XML\|XML]]                                                                                          |
| `XMLТип(тип)`                                       | Получает тип данных [[03 XML\|XML]], соответствующий указанному типу                                                                   |
| `XMLТипЗнч(значение)`                               | Получает тип данных [[03 XML\|XML]], соовтетсвтующий типу указанного значения                                                          |
| `ВозможностьЧтенияXML()`                            | **`Булево`**. Возможно ли чтение из объекта ЧтениеXML.........                                                                      |
| `ЗаписатьXDTO(значение)`                            | **`ОбъектXDTO, ЗначениеXDTO`**. Преобразует значение в XDTO, если объект поддерживает такое преобразование                          |
| `ПрочитатьXDTO(объектXDTO)`                         | **`Произвольный`**. Производит чтение объекта XDTO в значение, используя соответствующее преобразование типа XDTO в тип платформы   |
| `ЗаписатьJSON(записьJSON, значение, назначТипаXML)` | Записывает значения в формате [[01 JSON\|JSON]]. `записьJSON`: объект, через который выполняется запись, `значение`: записываемое зн-е |
| `ПрочитатьJSON(чтениеJSON, тип...)`                 | **`Произвольный`**. Выполняет преобразование из JSON в значение с указанным типом.                                                  |
| `ЗаписатьXML(записьXML, значение...)`               | Выполняет запись в XML, используя специальный тип **`ЗаписьXML`**                                                                   |
| `ПрочитатьXML(чтениеXML, тип)`                      | **`Произвольный`**. Выполняет преобразование из XML                                                                                 |
| `ИзXMLТипа()`                                       | Возвращает тип, соответствующий типу данных XML                                                                                     |
| `ПолучитьXMLТип(чтениеXML)`                         | **`ТипДанныхXML`**. Получает тип XML                                                                                                |

### ФабрикаXDTO

У типа 1 свойство: **Пакеты** типа **`КоллекцияПакетовXDTO`**, элементом которой является **`ПакетXDTO`**

| Метод                                   | Описание                                           |
| --------------------------------------- | -------------------------------------------------- |
| `ЗаписатьJSON()`                        | (Аналогичен методу типа **`СериализаторXDTO`**)    |
| `ЗаписатьXML()`                         | (Аналогичен методу типа **`СериализаторXDTO`**)    |
| `Привести(тип, значение)`               | преобразует значение XDTO к типу XDTO              |
| `ПрочитатьJSON()`                       | (Аналогичен методу типа **`СериализаторXDTO`**)    |
| `ПрочитатьXML()`                        | (Аналогичен методу типа **`СериализаторXDTO`**)    |
| `Создать(типXDTO, [значение])`          | создает объект XDTO из значения произвольного типа |
| `Тип(UriПространствИмен, имяТипа)`      | Получение типа XDTO по имени типа                  |
| `ЭкспортМоделиXDTO(UriПространствИмен)` | **`ОбъектXDTO`**. Экспорт пакетов XDTO             |
| `ЭкспортСхемыXML(UriПространствИмен)`   | **`НаборСхемXML`**. Экспорт пакетов XDTO           |

#### Пакет XDTO \[Коллекция\]

| Свойство                           | Описание |
| ---------------------------------- | -------- |
| `URIПространстваИмен()`            |          |
| `Зависимости()`                    |          |
| `КвалифицированнаяФормаАтрибута()` |          |
| `КвалифицированнаяФормаЭлемента()` |          |
| `КорневыеСвойства()`               |          |

#1С #1С/Язык_программирования/Сериализация/XDTO #XML