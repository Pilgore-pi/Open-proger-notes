
> В С/C++ условные операторы `if-else` и `switch-case` являются **операторами**, а не выражениями. Однако, начиная в C++17, появился оператор `if constexpr` для вычисления условий на этапе компиляции. Тернарный условный оператор `?:` является **выражением**, возвращающим одно из двух значений.

Переменную типа `bool` можно инициализировать такими выражениями:

```cpp
bool IsTrue = (5 > 6) || (4 < 6);
```

## Конструкция `if-else`

```cpp
// Оператор со скобками
if (a > b) {
    std::cout << "a > b" << std::endl;
}
else {
    std::cout << "b >= a" << std::endl;
}

// Оператор без скобок (допустимо только для одной строки кода)
if (a > b) std::cout << "a > b" << std::endl;
else std::cout << "b >= a" << std::endl;

// Аналогичный вариант с переносом строк
if (a > b)
    std::cout << "a > b" << std::endl;
else
    std::cout << "b >= a" << std::endl;
```

Переменная, объявленная внутри блока `if-else`, существует только внутри области видимости этого блока. После выхода из области видимости переменная становится недоступной.

## Конструкция `switch-case`

```cpp
int choice;
std::cin >> choice;

switch (choice) {
    case 1: std::cout << a + b << std::endl; break;
    case 2: std::cout << a - b << std::endl; break;
    case 3: std::cout << a * b << std::endl; break;
    default: std::cout << 0 << std::endl; break;
}

// С return (внутри функции)
switch (choice) {
    case 1: return a + b;
    case 2: return a - b;
    case 3: return a * b;
    default: return 0;
}

// С переходом на метку
switch (choice) {
    case 1: return a + b;
    case 2: goto Label;      // переход к метке
    case 3: return a * b;
    case 4:                  // case 4 перенаправляется в блок default
        default: return 0;
}

Label:
    std::cout << "Переход на метку" << std::endl;
```

Блоки `case` и `default` могут содержать блок кода неограниченного размера. Окончание блока `case` или блока `default` — это один из управляющих **операторов перехода**:

- `break` — явно говорит, что текущий блок `case` или `default` завершен
- `return` — немедленно завершает выполнение текущей функции и текущего оператора `switch-case`
- `case` — текущий блок переходит в другой блок `case` (сквозное выполнение)
- `default` — текущий блок `case` переходит в блок `default`
- `goto` — совершает переход к указанному блоку кода, помеченному меткой
- `throw` — генерирует исключение, системное прерывание программы, которое может быть обработано или привести к аварийному завершению программы

### Инициализация в условии (C++17)

```cpp
// Переменная инициализируется и проверяется в одном выражении
if (int value = getValue(); value > 0) {
    std::cout << "Положительное значение: " << value << std::endl;
}
// value недоступна здесь

// Полезно при работе с парами значений
if (auto [it, inserted] = map.insert({key, value}); inserted) {
    std::cout << "Элемент успешно добавлен" << std::endl;
}


switch (int x = getValue(); x) {
    case 0: std::cout << "Ноль" << std::endl; break;
    case 1: std::cout << "Один" << std::endl; break;
}
```

### Условное выражение `if constexpr` (C++17)

```cpp
// Вычисляется на этапе компиляции
template<typename T>
void process(T value) {
    if constexpr (std::is_integral_v<T>) {
        std::cout << "Целое число: " << value << std::endl;
    }
    else if constexpr (std::is_floating_point_v<T>) {
        std::cout << "Число с плавающей точкой: " << value << std::endl;
    }
}
```

### Особенности `switch` в C++

```cpp
// Область видимости case требует скобок для нескольких переменных
switch (choice) {
    case 1: {
        int localVar = 10;
        std::cout << localVar << std::endl;
        break;
    }
    case 2: {
        int localVar = 20;  // другая переменная
        std::cout << localVar << std::endl;
        break;
    }
}
```

## Тернарная операция

> **Тернарная операция** (от слова "терра" - три (операнда)) — это **выражение**, которое возвращает одно из двух значений в зависимости от условия

```cpp
int x = 3, y = 2;

std::string operation;
std::cin >> operation;

int z = operation == "+" ? (x + y) : (x - y);

// condition ? iftrue : iffalse

// можно форматировать без особых ограничений
int z = operation == "+"
        ? x + y
        : x - y;

// Вложенные тернарные операции
int grade = score >= 90 ? 5 : 
            score >= 80 ? 4 : 
            score >= 70 ? 3 : 
            score >= 60 ? 2 : 1;

// Тернарная операция с разными типами (будет выполнено неявное преобразование)
double result = condition ? 10 : 3.14;  // результат типа double
```

#C #C-Plus-Plus #GENERATED
