
## –ö–æ–¥–∏—Ä–æ–≤–∫–∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ Unicode

> **–ö–æ–¥–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** ‚Äî —ç—Ç–æ —Ç–∞–±–ª–∏—Ü–∞, –≥–¥–µ –∫–∞–∂–¥–æ–º—É —Å–∏–º–≤–æ–ª—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–≤–æ–π –∫–æ–¥.

–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –∏ —Å–µ—Ç—å—é –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ (–ª–∏—à–Ω–∏—Ö –Ω—É–ª–µ–π) –≤ –¥–≤—É—Ö–±–∞–π—Ç–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–∞—Ö Unicode –ø—Ä–∏–º–µ–Ω—è—é—Ç –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ —Ñ–∞–π–ª –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–æ–π, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏ —Å—á–∏—Ç—ã–≤–∞–Ω–∏–∏ –¥–µ–∫–æ–¥–∏—Ä—É—é—Ç —Ç–µ–∫—Å—Ç.

> **Unicode** ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π.

–°—Ç–∞–Ω–¥–∞—Ä—Ç Unicode –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–¥–∏—Ä–æ–≤–æ–∫ UTF (Unicode Transformation Formats):

- **UTF-7**: –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è 7-–±–∏—Ç–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞. –°–∏–º–≤–æ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É, –ª–∏–±–æ –æ–±—ã—á–Ω—ã–º –∫–æ–¥–æ–º, –ª–∏–±–æ —Å–ø–µ—Ü. –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, –Ω–∞—á–∏–Ω–∞—é—â–µ–π—Å—è –Ω–∞ `+` –∏ –æ–∫–∞–Ω—á–∏–≤–∞—é—â—É—é—Å—è –Ω–∞ `-` (`+ADo-`, `+AD4-`). –¢–∞–∫–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å UTF-7 –ø–æ—Ä–æ–∂–¥–∞–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ù–∞–∏–±–æ–ª–µ–µ –∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-7 —Å–≤—è–∑–∞–Ω–∞ —Å –º–µ–∂—Å–∞–π—Ç–æ–≤—ã–º —Å–∫—Ä–∏–ø—Ç–∏–Ω–≥–æ–º (XSS). –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–ø–∞—Å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <script>) –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, UTF-8 –∏–ª–∏ ASCII). –û–¥–Ω–∞–∫–æ —ç—Ç–∏ —Ñ–∏–ª—å—Ç—Ä—ã –º–æ–≥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-7

- **UTF-8**: –°–∞–º–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –û–¥–∏–Ω —Å–∏–º–≤–æ–ª –∑–∞–Ω–∏–º–∞–µ—Ç 8, 16 –∏–ª–∏ 32 –±–∏—Ç–∞.
    - –î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è **–¥–≤—É—Ö–±–∞–π—Ç–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤** (16-–±–∏—Ç–Ω—ã—Ö) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 2 –±–∞–π—Ç–∞, –≥–¥–µ –ø–µ—Ä–≤—ã–π –±–∞–π—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `U+0080...U+07FF`. –ü–µ—Ä–≤—ã–π –±–∞–π—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –±–∏—Ç–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ `110xxxxx`, –≤—Ç–æ—Ä–æ–π –±–∞–π—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –±–∏—Ç–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ `10xxxxxx` –±–∏—Ç—ã `x` —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–¥–µ —Å–∏–º–≤–æ–ª–∞.
    - **–ß–µ—Ç—ã—Ä–µ—Ö–±–∞–π—Ç–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ `U+10000` –∏ –≤—ã—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–º–æ–¥–∑–∏, —Ä–µ–¥–∫–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã), –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –ë–∞–∑–æ–≤–æ–π –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (BMP). –ü–µ—Ä–≤—ã–π –±–∞–π—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 11110xxx, –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ç—Ä–∏ –±–∞–π—Ç–∞ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 10xxxxxx
    - –§–∞–π–ª –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8 –≤ –Ω–∞—á–∞–ª–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑ —Ç—Ä–µ—Ö –±–∞–π—Ç–æ–≤ `EF BB BF`

- **UTF-16**: –û–¥–∏–Ω —Å–∏–º–≤–æ–ª –∑–∞–Ω–∏–º–∞–µ—Ç 16 –∏–ª–∏ 32 –±–∏—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —è–∑—ã–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏–º–µ—é—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–ª–∏–Ω—É –≤ 2 –±–∞–π—Ç–∞ (16-–±–∏—Ç). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, UTF-16 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤, —Å–ø–µ—Ü-—Å–∏–º–≤–æ–ª–æ–≤ –∏ –¥–∏–∞–∫—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞–∫–æ–≤. –ß–µ—Ç—ã—Ä–µ—Ö–±–∞–π—Ç–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã (32 –±–∏—Ç–∞) –∫–æ–¥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã—Ö –ø–∞—Ä, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–ø–∏—Å–∞–Ω—ã –¥–∞–ª–µ–µ

- **UTF-32**: –û–¥–∏–Ω —Å–∏–º–≤–æ–ª –≤—Å–µ–≥–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 32 –±–∏—Ç–∞ (4 –±–∞–π—Ç–∞)

–î—Ä—É–≥–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏:

- **WTF-8** (–Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ): –≤–µ—Ä—Å–∏—è UTF-8, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –ø–∞—Ä—ã. –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ —Å—Ç–∞—Ä—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏

- **CESU-8** (Compatibility Encoding Scheme for Unicode - 8-bit): –ï—â–µ –æ–¥–Ω–∞ —Å—Ö–µ–º–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ—Ö–æ–∂–∞—è –Ω–∞ WTF-8, –∫–æ—Ç–æ—Ä–∞—è –∫–æ–¥–∏—Ä—É–µ—Ç —Å–∏–º–≤–æ–ª—ã –≤–Ω–µ –±–∞–∑–æ–≤–æ–π –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (BMP) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–≤—É—Ö —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã—Ö –ø–∞—Ä (6 –±–∞–π—Ç–æ–≤ –≤–º–µ—Å—Ç–æ 4 –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º UTF-8)

> –û—Å–Ω–æ–≤–Ω—ã–º–∏ –∏ –æ–±—â–µ–ø—Ä–∏–∑–Ω–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ö–æ–Ω—Å–æ—Ä—Ü–∏—É–º–æ–º Unicode, –æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ UTF-8, UTF-16 –∏ UTF-32. –û—Å—Ç–∞–ª—å–Ω—ã–µ —è–≤–ª—è—é—Ç—Å—è –ª–∏–±–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –ø–æ—Ä—è–¥–∫–∞ –±–∞–π—Ç–æ–≤, –ª–∏–±–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏/—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞–º–∏

### –ü–æ—Ä—è–¥–æ–∫ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –±–∞–π—Ç –∏ —Ñ–ª–∞–≥–∏ BOM

–ü–æ—Ä—è–¥–æ–∫ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –±–∞–π—Ç–æ–≤ (Endianness) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ø–æ—Å–æ–± –∑–∞–ø–∏—Å–∏ –º–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–∫–∏—Ö –∫–∞–∫ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, 16-–±–∏—Ç–Ω—ã–µ –∏–ª–∏ 32-–±–∏—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã Unicode) –≤ –ø–∞–º—è—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –°—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ—Ä—è–¥–∫–∞: Little-Endian (LE) –∏ Big-Endian (BE).

#### Big-Endian (BE) ‚Äî ¬´–æ—Ç —Å—Ç–∞—Ä—à–µ–≥–æ –∫ –º–ª–∞–¥—à–µ–º—É¬ª

–í —ç—Ç–æ–º –ø–æ—Ä—è–¥–∫–µ —Å—Ç–∞—Ä—à–∏–π (–Ω–∞–∏–±–æ–ª–µ–µ –∑–Ω–∞—á–∏–º—ã–π) –±–∞–π—Ç —á–∏—Å–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –º–ª–∞–¥—à–∏–π –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏.

–≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Ç–æ, –∫–∞–∫ –º—ã –æ–±—ã—á–Ω–æ —á–∏—Ç–∞–µ–º –∏ –ø–∏—à–µ–º —á–∏—Å–ª–∞: —Å–Ω–∞—á–∞–ª–∞ –∏–¥—É—Ç —Å—Ç–∞—Ä—à–∏–µ —Ä–∞–∑—Ä—è–¥—ã.

–ü—Ä–∏–º–µ—Ä: 32-–±–∏—Ç–Ω–æ–µ —á–∏—Å–ª–æ 0x12345678.

0x12 (—Å—Ç–∞—Ä—à–∏–π –±–∞–π—Ç) –∏–¥–µ—Ç –ø–µ—Ä–≤—ã–º.
–í –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –∫–∞–∫: 12 34 56 78

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö (—Å–µ—Ç–µ–≤–æ–π –ø–æ—Ä—è–¥–æ–∫ –±–∞–π—Ç–æ–≤) –∏ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–∞—Ä—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Motorola, SPARC).

#### Little-Endian (LE) ‚Äî ¬´–æ—Ç –º–ª–∞–¥—à–µ–≥–æ –∫ —Å—Ç–∞—Ä—à–µ–º—É¬ª

–í —ç—Ç–æ–º –ø–æ—Ä—è–¥–∫–µ –º–ª–∞–¥—à–∏–π (–Ω–∞–∏–º–µ–Ω–µ–µ –∑–Ω–∞—á–∏–º—ã–π) –±–∞–π—Ç —á–∏—Å–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –º–ª–∞–¥—à–∏–π –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏. –ë–∞–π—Ç-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å "–ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞" –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å BE.

–ü—Ä–∏–º–µ—Ä: –¢–æ –∂–µ —á–∏—Å–ª–æ 0x12345678.

0x78 (–º–ª–∞–¥—à–∏–π –±–∞–π—Ç) –∏–¥–µ—Ç –ø–µ—Ä–≤—ã–º.

–í –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –∫–∞–∫: 78 56 34 12

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –Ø–≤–ª—è–µ—Ç—Å—è –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏–º –ø–æ—Ä—è–¥–∫–æ–º –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã x86 –∏ x64 (–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã Intel –∏ AMD).

#### –ú–µ—Ç–∫–∞ BOM

> **BOM (Byte Order Mark)** ‚Äî –ú–µ—Ç–∫–∞ –ø–æ—Ä—è–¥–∫–∞ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –±–∞–π—Ç–æ–≤

- –ó–Ω–∞—á–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `FE FF` –æ–∑–Ω–∞—á–∞–µ—Ç big endian
- –ó–Ω–∞—á–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `FF FE` –æ–∑–Ω–∞—á–∞–µ—Ç little endian

–í UTF-8 BOM, –æ–±—ã—á–Ω–æ, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏, –¥–∞–∂–µ, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ UTF-8 –∫–æ–¥–∏—Ä—É–µ—Ç —Å–∏–º–≤–æ–ª—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BOM –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ Unix. –ü–æ —ç—Ç–∏–º –ø—Ä–∏—á–∏–Ω–∞–º UTF-8BE –∏ UTF-8LE –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π –Ω–µ—Ç

## –°—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –ø–∞—Ä—ã

> **–°—É—Ä—Ä–æ–≥—Ä–∞—Ç–Ω–∞—è –ø–∞—Ä–∞** ‚Äî —ç—Ç–æ –ø–∞—Ä–∞ —Å–∏–º–≤–æ–ª–æ–≤ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-16, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã—Ö –ø–∞—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ UTF-16 –±–æ–ª–µ–µ **–º–∏–ª–ª–∏–æ–Ω–∞** —Å–∏–º–≤–æ–ª–æ–≤

–ü–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª –ø–∞—Ä—ã (high surrogate) –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç `U+D800` –¥–æ `U+DBFF`, –≤—Ç–æ—Ä–æ–π (low surrogate) ‚Äî –æ—Ç `U+DC00` –¥–æ `U+DFFF`.

- –∫–æ–¥—ã –≤ high surrogate –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —Å—Ç–∞—Ä—à–∏–º–∏ –∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏, –∞ –∫–æ–¥—ã low surrogate –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –º–ª–∞–¥—à–∏–º–∏ –∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏

–∫–æ–º–±–∏–Ω–∞—Ü–∏—è 16-–±–∏—Ç–Ω–æ–≥–æ —Å—Ç–∞—Ä—à–µ–≥–æ –∏ 16-–±–∏—Ç–Ω–æ–≥–æ –º–ª–∞–¥—à–µ–≥–æ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç 21-–±–∏—Ç–Ω—ã–π —Å–∏–º–≤–æ–ª Unicode

–î–∏–∞–ø–∞–∑–æ–Ω—ã –≤ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö:

| –ß–∞—Å—Ç—å —Å—É—Ä—Ä–æ–≥—Ä–∞—Ç–Ω–æ–π –ø–∞—Ä—ã | HEX | DEC | bytes (LE) |
| ----------------------- |---- |---- | ---------- |
| High surrogate | `[(U+)D800, (U+)DBFF]` | `[55296, 56319]` | `[0-216-0-0, 255-219-0-0]` |
| Low surrogate | `[(U+)D800, (U+)DBFF]` | `[56320, 57343]` | `[0-220-0-0, 255-223-0-0]` |

2-–π –±–∞–π—Ç —á–∏—Å–ª–∞ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è –æ—Ç 216 –¥–æ 223 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ (–∏ —Å –ø–æ–ª–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –º–ª–∞–¥—à–µ–≥–æ 1-–≥–æ –±–∞–π—Ç–∞)

- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `char` –Ω–µ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—É—é –ø–∞—Ä—É, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ç–∏–ø–∞ `string`. –°—É—Ä—Ä–æ–≥–∞—Ç–Ω—É—é –ø–∞—Ä—É –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –∫–∞–∫ –ø–∞—Ä—É —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ `\U000#####`

![](https://learn.microsoft.com/ru-ru/dotnet/standard/base-types/media/character-encoding-introduction/bmp-and-surrogate.svg)

–ö–æ–≥–¥–∞ –∑–∞ —Å—Ç–∞—Ä—à–µ–π –∑–∞–º–µ–Ω—è—é—â–µ–π –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–æ–π (U+D800..U+DBFF) —Å—Ä–∞–∑—É –∂–µ —Å–ª–µ–¥—É–µ—Ç –º–ª–∞–¥—à–∞—è –∑–∞–º–µ–Ω—è—é—â–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ (U+DC00..U+DFFF), –ø–∞—Ä–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π —Ñ–æ—Ä–º—É–ª—ã:

```text
code point = 0x10000 +
    ((high surrogate code point - 0xD800) * 0x0400) +
    (low surrogate code point - 0xDC00)

–í –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏:

code point = 65 536 +
    ((high surrogate code point - 55 296) * 1024) +
    (low surrogate code point - 56 320)
```

```csharp
string emoji = "üòÄ";             // –≠—Ç–æ—Ç —ç–º–æ–¥–∑–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä–æ–π
Console.WriteLine(emoji.Length); // –í—ã–≤–æ–¥: 2
```

```csharp
static void PrintChars(string s) {
    Console.WriteLine($"\"{s}\".Length = {s.Length}");
    for (int i = 0; i < s.Length; i++) {
        Console.WriteLine($"s[{i}] = '{s[i]}' ('\\u{(int)s[i]:x4}')");
    }
    Console.WriteLine();
}

// 9 —Å–∏–º–≤–æ–ª–æ–≤ UTF-16, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–±–µ–ª; 17 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ char
PrintChars("êìèêìòêìªêìòêìªêìü êíªêìü");
```

–ö–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª, –∫—Ä–æ–º–µ –ø—Ä–æ–±–µ–ª–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–æ–π –ø–∞—Ä–æ–π

```text
"êìèêìòêìªêìòêìªêìü êíªêìü".Length = 17
s[0] = 'ÔøΩ' ('\ud801')
s[1] = 'ÔøΩ' ('\udccf')
s[2] = 'ÔøΩ' ('\ud801')
s[3] = 'ÔøΩ' ('\udcd8')
s[4] = 'ÔøΩ' ('\ud801')
s[5] = 'ÔøΩ' ('\udcfb')
s[6] = 'ÔøΩ' ('\ud801')
s[7] = 'ÔøΩ' ('\udcd8')
s[8] = 'ÔøΩ' ('\ud801')
s[9] = 'ÔøΩ' ('\udcfb')
s[10] = 'ÔøΩ' ('\ud801')
s[11] = 'ÔøΩ' ('\udcdf')
s[12] = ' ' ('\u0020')
s[13] = 'ÔøΩ' ('\ud801')
s[14] = 'ÔøΩ' ('\udcbb')
s[15] = 'ÔøΩ' ('\ud801')
s[16] = 'ÔøΩ' ('\udcdf')
```

–í –ø—Ä–µ–¥–µ–ª–∞—Ö –≤—Å–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ Unicode —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω–∞:

- **–ë–∞–∑–æ–≤–∞—è –º–Ω–æ–≥–æ—è–∑—ã–∫–æ–≤–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å (BMP - Basic Multilingual Plane)** –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `U+0000..U+FFFF`. –≠—Ç–æ—Ç 16-—Ä–∞–∑—Ä—è–¥–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 65 536 –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫. –ò—Ö –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ—Ö–≤–∞—Ç–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–∏—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º –ø–∏—Å—å–º–∞

- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏** –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `U+10000..U+10FFFF`. –≠—Ç–æ—Ç 21-—Ä–∞–∑—Ä—è–¥–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ –º–∏–ª–ª–∏–æ–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –º–µ–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ —ç–º–æ–¥–∑–∏.

## –°–∫–∞–ª—è—Ä–Ω—ã–µ –∫–æ–¥–æ–≤—ã–µ –µ–¥–∏–Ω–∏—Ü—ã

–¢–µ—Ä–º–∏–Ω **—Å–∫–∞–ª—è—Ä–Ω–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞** –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ –≤—Å–µ–º –∫–æ–¥–æ–≤—ã–º —Ç–æ—á–∫–∞–º, –∫—Ä–æ–º–µ —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã—Ö. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –ª—é–±–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏—Å–≤–æ–µ–Ω —Å–∏–º–≤–æ–ª –∏–ª–∏ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω —Å–∏–º–≤–æ–ª –≤ –±—É–¥—É—â–µ–º (–¥–∞–ª–µ–∫–æ –Ω–µ –≤—Å–µ–º –∫–æ–¥–∞–º Unicode –ø—Ä–∏—Å–≤–æ–µ–Ω—ã —Å–∏–º–≤–æ–ª—ã, —Ç–æ –µ—Å—Ç—å –º–Ω–æ–≥–∏–µ –∫–æ–¥—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

### –¢–∏–ø `System.Text.Rune`

–í .NET System.Text.Rune —Ç–∏–ø –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∫–∞–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Æ–Ω–∏–∫–æ–¥–∞

```csharp
public readonly struct Rune : IComparable,
    IComparable<System.Text.Rune>,
    IEquatable<System.Text.Rune>,
    ISpanFormattable,
    IUtf8SpanFormattable,
    IUtf8SpanParsable<System.Text.Rune>
```

- –í .NET Framework —Ç–∏–ø `Rune` –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã Rune –ø—Ä–æ–≤–µ—Ä—è—é—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–æ–ø—É—Å—Ç–∏–º—ã–º —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –Æ–Ω–∏–∫–æ–¥–∞. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Rune:

```csharp
Rune a = new Rune('a');
Rune b = new Rune(0x0061);
Rune c = new Rune('\u0061');
Rune d = new Rune(0x10421);
Rune e = new Rune('\ud801', '\udc21');

// –ò—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ –∫–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–º –∫–æ–¥–∞–º
Rune f = new Rune('\ud801');

// –ò—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã Unicode
Rune g = new Rune(0x12345678);
```

- –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `Rune` –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã –º–µ—Ç–æ–¥–∞–º `Char`

#C-Sharp #Char_types
