## Встроенные числовые типы

### Целочисленные типы

1. **byte**
   - **Диапазон:** 0 до 255
   - **Размер:** 8 бит (1 байт)

2. **sbyte**
   - **Диапазон:** -128 до 127
   - **Размер:** 8 бит (1 байт)

3. **short**
   - **Диапазон:** -32,768 до 32,767
   - **Размер:** 16 бит (2 байта)

4. **ushort**
   - **Диапазон:** 0 до 65,535
   - **Размер:** 16 бит (2 байта)

5. **int**
   - **Диапазон:** -2,147,483,648 до 2,147,483,647
   - **Размер:** 32 бита (4 байта)
   - Наиболее часто используемый тип для целых чисел, подходит для большинства задач.

6. **uint**
   - **Диапазон:** 0 до 4,294,967,295
   - **Размер:** 32 бита (4 байта)

7. **long**
   - **Диапазон:** -9,223,372,036,854,775,808 до 9,223,372,036,854,775,807 (20 квинтиллионов)
   - **Размер:** 64 бита (8 байт)
   - **Пример использования:** Подходит для хранения очень больших чисел, например, расстояние до звёзд в километрах.

8. **ulong**
   - **Диапазон:** 0 до 18,446,744,073,709,551,615
   - **Размер:** 64 бита (8 байт)

### Вещественные типы

1. **float**
   - **Диапазон:** $±1.5\ \times \ 10^{−45}\ \text{до}\ ±3.4\ \times\ 10^{38}$
   - **Точность:** 7 знаков
   - **Размер:** 32 бита (4 байта)

2. **double**
   - **Диапазон:** $±5.0\ \times\ 10^{−324}\ \text{до}\ ±1.7\ \times\ 10^{308}$
   - **Точность:** 15-16 знаков
   - **Размер:** 64 бита (8 байт)
   - Наиболее часто используемый тип для вещественных чисел, подходит для большинства задач.

3. **decimal**
   - **Диапазон:** $±1.0\ \times\ 10^{−28}\ \text{до}\ ±7.9\ \times\ 10^{28}$
   - **Точность:** 28-29 знаков
   - **Размер:** 128 бит (16 байт)
   - Подходит для финансовых вычислений, где требуется высокая точность.

## Специальные числовые типы из [System.Numerics](https://learn.microsoft.com/en-us/dotnet/api/system.numerics?view=net-9.0)

| Тип | Описание |
| :- | :- |
| [BigInteger](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.biginteger?view=net-9.0) | Представляет целое число произвольного размера. Используется, когда требуется работать с числами, выходящими за пределы диапазона типа `long` |
| [Complex](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.complex?view=net-9.0) | Представляет (двухкомпонентное) комплексное число |
| [Quaternion](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.quaternion?view=net-9.0) | Предствляет собой гиперкомплексное четырехкомпонентное число (кватернион) |
| [Plane](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.plane?view=net-9.0) | Представляет плоскость в трехмерном пространстве |
| static class [Vector](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.vector?view=net-9.0) | Набор операций над векторами |
| static class [BitOperations](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.bitoperations?view=net-9.0) | Набор низкоуровневых побитовых операций. Методы `BitOperations` обращаются к аппаратным операциям над числами, если это возможно в текущей платформе |
| [TotalOrderIeee754Comparer\<T\>](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.totalorderieee754comparer-1?view=net-9.0) | Представляет операцию сравнения чисел с плавающей точкой с семантикой **IEEE 754 totalOrder semantic** |
| [Vector\<T\>](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.vector-1?view=net-9.0) | Представляет собой низкоуровневый SIMD вектор, где тип элемента — один из примитивных числовых типов. Применяется для высокопроизводительных низкоуровневых и параллельных вычислений. Количество компонент (свойство Count) вектора зависит от архитектуры процессора. Например, если процессор поддерживает 256-битные векторы SIMD, и T — это int (4 байта), то размерность будет 8 (256 бит / 32 бита на элемент). Если поддерживаются только 128-битные векторы и тип float (4 байта), длина будет 4 |
| [Vector2](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.vector2?view=net-9.0) | Двухмерный вектор |
| [Vector3](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.vector3?view=net-9.0) | Трехмерный вектор |
| [Vector4](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.vector4?view=net-9.0) | Четырехмерный вектор |
| [Matrix3x2](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.matrix3x2?view=net-9.0) | Матрица 3 x 2 |
| [Matrix4x4](https://learn.microsoft.com/en-us/dotnet/api/system.numerics.matrix4x4?view=net-9.0) | Матрица 4 x 4 |

- Все перечисленные в таблице типы, кроме двух статических классов, представляют собой структуры (`struct`)

- Векторы поддерживают обращение к их компонентам как по буквенному обозначению (X, Y, Z, W), так и по числовому индексу


### Преобразование типов

- **Неявное преобразование:** Происходит автоматически, когда нет потери данных.

```csharp
int a = 123;
long b = a; // Неявное преобразование int в long
```

- **Явное преобразование:** Требует явного указания, когда возможна потеря данных.

```csharp
long a = 123456789012345;
int b = (int)a; // Явное преобразование long в int
```

### Работа с числами

- **Арифметические операции:** `+, -, *, /, %`
- **Инкремент и декремент:** `++`, `--`
- **Операции с плавающей точкой:** Math.Sqrt, Math.Pow, Math.Sin и т.д.

### Особенности

- **Переполнение:** При переполнении целочисленных типов происходит обнуление или переход к минимальному значению.

```csharp
int max = int.MaxValue;
int overflow = max + 1; // Переполнение, значение будет int.MinValue
```

- **Округление:** При делении целых чисел результат округляется в меньшую сторону.

```csharp
int result = 7 / 2; // Результат будет 3
```

- **Погрешность:** Вещественные типы (float, double) могут иметь погрешности при вычислениях.

```csharp
double a = 0.1;
double b = 0.2;
bool equal = (a + b == 0.3); // Результат будет false из-за погрешности
```

### Класс `BigInteger`

`BigInteger` представляет целое число произвольной точности. Это полезно, когда нужно работать с числами, выходящими за пределы диапазона стандартных целочисленных типов.

#### Основные свойства

- **`IsZero`**: Возвращает значение, указывающее, является ли текущее значение `BigInteger` нулем.
- **`IsOne`**: Возвращает значение, указывающее, является ли текущее значение `BigInteger` единицей.
- **`Sign`**: Возвращает знак числа: -1 для отрицательных, 0 для нуля и 1 для положительных чисел.

#### Основные методы

- **`Add(BigInteger value)`**: Возвращает сумму текущего числа и указанного числа.
- **`Subtract(BigInteger value)`**: Возвращает разность текущего числа и указанного числа.
- **`Multiply(BigInteger value)`**: Возвращает произведение текущего числа и указанного числа.
- **`Divide(BigInteger value)`**: Возвращает частное от деления текущего числа на указанное число.
- **`Remainder(BigInteger value)`**: Возвращает остаток от деления текущего числа на указанное число.
- **`Pow(int exponent)`**: Возвращает текущее число, возведенное в указанную степень.
- **`Abs()`**: Возвращает абсолютное значение текущего числа.
- **`Negate()`**: Возвращает текущее число с противоположным знаком.
- **`Gcd(BigInteger value)`**: Возвращает наибольший общий делитель текущего числа и указанного числа.

#### Пример использования

```csharp
using System;
using System.Numerics;

class Program {

    static void Main() {
        BigInteger big1 = BigInteger.Parse("123456789012345678901234567890");
        BigInteger big2 = BigInteger.Parse("987654321098765432109876543210");
        
        BigInteger sum        = BigInteger.Add(big1, big2);
        BigInteger difference = BigInteger.Subtract(big1, big2);
        BigInteger product    = BigInteger.Multiply(big1, big2);
        BigInteger quotient   = BigInteger.Divide(big2, big1);
        BigInteger remainder  = BigInteger.Remainder(big2, big1);
        
        Console.WriteLine($"Sum: {sum}");
        Console.WriteLine($"Difference: {difference}");
        Console.WriteLine($"Product: {product}");
        Console.WriteLine($"Quotient: {quotient}");
        Console.WriteLine($"Remainder: {remainder}");
    }
}
```

### Класс `Complex`

`Complex` представляет комплексное число, состоящее из реальной и мнимой частей

#### Основные свойства

- **`Real`**: Возвращает действительную часть комплексного числа.
- **`Imaginary`**: Возвращает мнимую часть комплексного числа.
- **`Magnitude`**: Возвращает модуль (абсолютное значение) комплексного числа.
- **`Phase`**: Возвращает фазу (аргумент) комплексного числа в радианах.

#### Основные методы

- **`Add(Complex value)`**: Возвращает сумму текущего комплексного числа и указанного комплексного числа.
- **`Subtract(Complex value)`**: Возвращает разность текущего комплексного числа и указанного комплексного числа.
- **`Multiply(Complex value)`**: Возвращает произведение текущего комплексного числа и указанного комплексного числа.
- **`Divide(Complex value)`**: Возвращает частное от деления текущего комплексного числа на указанное комплексное число.
- **`Conjugate()`**: Возвращает комплексное число, являющееся сопряженным к текущему комплексному числу.
- **`Negate()`**: Возвращает текущее комплексное число с противоположным знаком.
- **`Abs(Complex value)`**: Возвращает модуль указанного комплексного числа.
- **`Pow(Complex value, double exponent)`**: Возвращает указанное комплексное число, возведенное в указанную степень.
- **`Sqrt(Complex value)`**: Возвращает квадратный корень из указанного комплексного числа.

#### Пример использования

```csharp
using System;
using System.Numerics;

class Program {

    static void Main() {
        Complex complex1 = new Complex(3, 4);
        Complex complex2 = new Complex(1, 2);
        
        Complex sum        = Complex.Add(complex1, complex2);
        Complex difference = Complex.Subtract(complex1, complex2);
        Complex product    = Complex.Multiply(complex1, complex2);
        Complex quotient   = Complex.Divide(complex1, complex2);
        Complex conjugate  = Complex.Conjugate(complex1);
        
        Console.WriteLine($"Complex1: {complex1}");
        Console.WriteLine($"Complex2: {complex2}");
        Console.WriteLine($"Sum: {sum}");
        Console.WriteLine($"Difference: {difference}");
        Console.WriteLine($"Product: {product}");
        Console.WriteLine($"Quotient: {quotient}");
        Console.WriteLine($"Conjugate of Complex1: {conjugate}");
    }
}
```

#C-Sharp #C-Sharp/Numbers
