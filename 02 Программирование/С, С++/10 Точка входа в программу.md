
В языках программирования C и C++ точкой входа в программу является функция `main`. Это обязательная функция, с которой начинается выполнение любой программы на этих языках. Статические и динамические библиотеки не имеют точки входа (ССЫЛКА НА ЗАМЕТКУ)

[Официальная документация](https://learn.microsoft.com/en-us/cpp/cpp/main-function-command-line-args?view=msvc-170)

> До того, как программа войдет в функцию `main()`, все статические члены классов устанавливаются в значение 0. В Microsoft C++ все статические объекты также инициализируются до входа в `main()`

Функция `main` может иметь несколько стандартных сигнатур:

```c
1. int main() {...}
2. int main(int argc, char *argv[]) {...}
3. int main(int argc, char **argv) {...}
```

- `int` — возвращаемый тип функции `main`. Обычно возвращаемое значение служит кодом завершения программы: 0 означает успешное выполнение, ненулевое значение — ошибку.
- Параметр `argc` — количество аргументов командной строки, переданных программе (включая имя самой программы).
- Параметр `argv` — массив строк, содержащий сами аргументы командной строки.

Функция `main` может быть объявлена как с ключевым словом `void` (например, `void main()`), однако это не является стандартом в C и C++ и не рекомендуется

Внутри функции `main` начинается выполнение основного кода программы. По завершении функции выполнение программы заканчивается, а возвращаемое значение используется операционной системой

Если в программе отсутствует функция `main`, программа не скомпилируется или не будет запущена, так как компилятор и система запуска ищут именно эту функцию как точку входа

Пример простейшей программы на C/C++ с функцией main:

```c
#include <iostream>

int main(int argc, char *argv[]) {
    std::cout << "Привет, кабанчик!" << std::endl;
    return 0;
}
```

Функция `main()` имеет следующие ограничения:

- Функция не может быть перегружена
- Иметь модификатор `inline`
- Объявлена как статическая (`static`)
- Адрес функции `main()` не может быть получен
- `main()` не может быть вызвана в коде C/C++

Другие особенности:

- Функция `main()` нигде не объявляется, так как она встроена в сам язык C/C++
- Если в функции `main()` не указано возвращаемое значение, то компилятор по успешному завершению программы возвращает `0`

> Точку входа в программу можно изменить, задав значения специальных констант. Например для Visual C++, точка входа определяется параметрами компоновщика `/SUBSYSTEM` и `/ENTRY`

## Параметры функции main

Типы параметров определены стандартом языка, а названия переменных можно менять без особых ограничений:

```c
int main(int argc, char *argv[]) { }

int main(int argumentCount, char *argumentValues[]) { }
```

- `int argc` — количество аргументов в `argv`. `argc` всегда >= 1
- `char *argv[]` — массив аргументов командной строки. Существует устоявшееся правило, согласно которому:
    - `argv[0]` — команда, с помощью которой вызывается программа
    - `argv[1]` — первый аргумент командной строки
    - Последний элемент в массиве `argv` — `argv[argc - 1]`
    - `argv[argc]` всегда равен `NULL`

### Особенности

- В C++ можно также использовать пространство имён `std` для функций вывода
- Возвращаемое значение `0` в функции `main` обычно означает успешное завершение
- Некоторые системы допускают отсутствие явного `return 0;` в конце функции `main` — в таком случае считается, что программа возвратила 0

#C #C-Plus-Plus
