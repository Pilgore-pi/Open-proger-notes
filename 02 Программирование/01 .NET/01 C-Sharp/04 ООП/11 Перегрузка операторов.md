Перегрузка операторов доступна в структурах и классах.

Виды операторов:
- Унарные (1 операнд)
- Бинарные (2 операнда)
- Тернарные (3 операнда) — нельзя перегружать
- Неявного приведения типа
- Явного приведения типа

### Синтаксис

```cs
public static return_type operator ?(UserClass uo){...}
```

Доступные для перегрузки унарные операторы:
```cs
+x // — унарный плюс
-x // — унарный минус
!x // — унарное отрицание
~x // — унарное побитовое отрицание
++ // — инкремент
—  // — декремент
true
false
```

## Перегрузка операторов true и false

Операторы `true` и `false` позволяют работать с типом как с логическим типом, например, если число не равно нулю, то оно вернет `true`, иначе вернет `false`

Пример:

```cs
class Number {
	public int Value { get; set; }
	public static bool operator true(Number n) => n.Value != 0;
	public static bool operator false(Number n) => n.Value == 0;
}

Number num = new(){ Value = 2 };

if (num) Console.WriteLine("number is not equal to zero");
```

>Если перегружен один из операторов, то другой тоже должен быть перегружен.

Этот оператор вызывается в контексте, где ожидается логическое выражение

## Бинарные операторы

### Синтаксис

```cs
public static return_type operator ?(UserClass uo, (UserClass | AnotherType) obj){...}
```

`return_type == bool`, если перегружается логический оператор, в противном случае он является `UserClass`.

Следующие бинарные операторы могут быть явно перегружены:

```cs
x + y
x - y
x * y
x / y
x % y
x & y
x | y
x ^ y
x << y
x >> y
```

Следующие бинарные операторы могут быть перегружены только парами:

```cs
x == y
x != y

x < y
x > y

x <= y
x >= y
```

Следующие операторы перегружаются неявно и не могут быть перегружены явно:

```cs
x && y
x || y // от операторов true и false, & и |

x += y
x -= y
x *= y
x /= y
x %= y
x &= y
x |= y
x ^= y
x <<= y
x >>= y
```

Следующие операторы никак **не могут** быть перегружены:

```cs
^x        
x = y     // оператор присваивания
x.y       // доступ к члену
x?.y      // оператор условного доступа к члену
x..y      // оператор диапазона
x->y      // эквивалент (*x).y
x ? y : z // тернарный условный оператор
x ?? y    // null-объединение
=>        // лямбда-выражение
```

## Перегрузка операторов преобразования

Существует 2 вида преобразований: явное и неявное.

```
//явное
int num = (int)5.4

// неявное
int code = '#';
```

Синтаксис:ПРИДУМАТЬ КЛСС С ПЕРЕГРУЖЕННЫМИ ОПЕРАТОРАМИ

```csharp
public static explicit operator
public static implicit operator
```

Далее: [[08 Индексаторы]]

#C-Sharp #C-Sharp/OOP/Operator_overloading