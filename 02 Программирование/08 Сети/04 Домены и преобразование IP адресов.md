
Любой сайт — это набор веб-страниц, которые содержат контент (тексты, изображения, файлы и иные сведения). Страницы вместе со всем содержимым хранятся на веб-сервере — реальном компьютере.

**Доменное имя** — адрес размещения этих страниц. При вводе домена поисковую строку, браузер понимает, где искать нужный сервер. 
Раньше адреса сайтов указывали цифрами. Чтобы найти сайт, пользователь вводил IP-адрес — комбинацию из четырёх чисел, разделённых точками. Но если компьютер может запомнить любое количество числовых комбинаций, то людям сложно удержать в голове несколько сотен IP-адресов. Поэтому цифры заменили на текстовые имена

Задача доменного имени — упростить запоминание адреса сайта. Именно поэтому в качестве домена предпочтительно выбирать короткое и запоминающееся слово или словосочетание. Если файлы сайта перевозят с одного сервера (хостинга) на другой, у него может поменяться IP-адрес, но сам домен при этом остается неизменным

Домен также применяют: 

**Для настройки почты**. Например, человек преобретает адрес `company.com`. Если настроить корпоративную почту, пользователи смогут писать этому человеку на email `contact@company.com`. С этой почты можно отправлять массовые письма через сервис email-рассылок. 

**Для паркинга**. В процессе разработки сайта может возникнуть опасение, что нужный адрес кто-то займёт раньше. Можно заранее преобрести домен, а затем разместить на нём баннер с уведомлением о скором запуске ресурса

**Для переадресации**. Она помогает направлять посетителей на другой сайт или страницу. Например, после редизайна домен сайта изменился. Чтобы не терять посетителей, настраивают переадресацию — когда пользователь указывает адрес старого сайта, браузер автоматически открывает новый сайт

## Состав домена

Домен состоит минимум из двух уровней, или частей, отделённых друг от друга точками. Расположены домены по иерархии справа налево

```text
  3 ур.      2 ур.    1 ур.
my-precious.web-site.com
```

`.com` — домен первого уровня, доменная зона или домен верхнего уровня (TLD)

Иерархический порядок позволяет браузеру оперативно определить искомый сервер и соответствующий запросу сайт. Благодаря иерархии функционирует DNS

> **Система DNS (Domain Name System)** — это распределённая база данных и технология, которая отвечает за преобразование человекочитаемых доменных имён (например, google.com) в числовые IP-адреса, которые понимают компьютеры и сети.

Принцип работы DNS таков: пользователь вводит доменное имя в браузере, этот запрос отправляется DNS-серверу. Сервер ищет соответствие имени и IP-адресу. Если в локальном кеше нет, запрос последовательно проходит к корневым DNS-серверам, затем к серверам **доменов верхнего уровня (TLD)**, и далее к авторитетным DNS-серверам нужного домена. Когда IP-адрес найден, он возвращается пользователю, и браузер устанавливает соединение по этому адресу

DNS устроена иерархично: корневые серверы управляют верхнеуровневыми доменами (например, `.com`, `.ru`), а далее ответственность распределяется на серверы более низких уровней. Эта система масштабируема и устойчива к сбоям за счёт распределённого характера

При регистрации домена выбирают доменную зону из доступных вариантов. Подробный [перечень доменов первого уровня](https://data.iana.org/TLD/tlds-alpha-by-domain.txt) указан на сайте администрации интернет-адресов (IANA)

Регистрацию доменов первого уровня контролирует международная организация [ICANN](https://www.icann.org/ru). Она хранит и распределяет общую базу доменных имён

### Домены первого уровня

Домены первого уровня разделяют на два основных типа: 

- **Географические** — национальные домены верхнего уровня (ccTLD). Для них используют лишь две буквы с учётом международного кода страны. Например, .eu — Евросоюз, .ru — Россия. Такие домены чаще всего обозначают гео-принадлежность сайта. Однако не существует запрета на применение несоответствующего расширения. Иногда для экономии выбирают недорогое доменное имя какой-нибудь небольшой страны. 

- **Тематические** — общие домены верхнего уровня (gTLD). Теоретически, они обозначают тематику сайта. К примеру, .com — коммерция, .military — военный, .gov — правительственный. Но никто не проверяет, соответствует ли gTLD каким-либо критериям. Хотя существуют и домены ограниченного использования. Так расширение .int применяют исключительно для доменов международных организаций

### Домены второго уровня

Домены второго уровня считаются основными

Основной домен — уникальная комбинация из букв и цифр, придуманная как название сайта. Выбранный домен второго уровня сначала проверяют на уникальность и лишь потом регистрируют. Второй и все последующие уровни подведомственны регистратору доменов. Это организация, которая аккредитована ICANN. Она может регистрировать новые домены и продлевать уже существующие

### Домен третьего уровня

Домен третьего уровня — это поддомен или субдомен. Поддомены делят сайт на обособленные разделы. Например, чтобы открыть блог, люди могут ввести поддомен и сразу перейти в соответствующий раздел, минуя главную страницу

Поддомены делают структуру ресурса более понятной. С ними не нужно создавать дополнительные адреса для разделов на сайте. К тому же, поисковые системы по отдельности индексируют разделы — их можно по отдельности продвигать в выдаче. 

Владелец домена второго уровня вправе образовывать неограниченное число доменов третьего уровня. 

В соответствии с приведённой иерархией можно составлять домены последующего уровня. Часть, расположенная слева от третьего уровня домена, будет четвёртым уровнем или суб-субдоменом

### Ограничения на домен

Также при выборе доменного имени необходимо учитывать ограничения по написанию. В зависимости от доменных зон требования могут отличаться, но общие правила следующие: 

общая длина варьируется от 2 до 63 символов; 
в качестве промежуточных символов можно использовать латиницу, цифры, дефис; 
название не начинается с дефиса; 
прописные и строчные буквы равнозначны; 
при регистрации в зоне .рф или .рус применяют кириллицу

## Whois-сервисы

У любого регистратора домена предусмотрена расширенная проверка выбранных названий через Whois-сервис, который показывает основные сведения о доменном имени (свободен домен или занят, кто администратор и регистратор, каков период регистрации). Зарегистрировать доменное имя можно, если его не занял другой владелец

Whois-сервисы позволяют просмотривать основную информацию о дате и месте регистрации, регистраторе, администраторе и их контактных данных. Эта информация может пригодиться для создания жалобы регистратору на неправомерное использование домена или обсудить с администратором возможность выкупа адреса

От истории выбранного доменного имени зависит, стоит его покупать или нет. Так возраст домена значим при ранжировании сайтов — поисковики считают старые ресурсы более авторитетными и их проще вывести в топ поисковой выдачи. 

Если прежде адрес попадал под фильтры поисковых систем, это может плохо отразиться на SEO. Придётся выводить доменное имя из-под фильтра, что потребует немало времени и денег. 

Вы также можете проверить содержание старого сайта, поискав его в веб-архивах (к примеру в [Web-archive](https://web-arhive.ru/)). На сохранённых копиях веб-страниц посмотрите контент, дизайн, тематику. Если доменное имя использовалось для сайта сомнительного содержания или компании с плохой репутацией, лучше его не приобретать

## Регистрация домена

1. **Проверка доступности домена**. Перед арендой домена следует проверить его занятость на whois-сервисе.
2. **Аренда доменного имени**. Существует множество сервисов (например [reg.ru](https://www.reg.ru/)), предоставляющие услуги аренды домена.
3. **Хостинг сайта**. Для работы сайта, необходим сервер, который обычно работает круглосуточно. В роли сервера может служить любой компьютер в наличии или арендованный удаленный сервер. Одноко, если использовать свой компьютер как сервер, то потребуется самостоятельно обеспечивать защиту и выполнять настройку. Хостинг выполняет всю настройку сам
4. **Привязка домена к хостингу**. Сервис предоставляющий аренду домена также позволяет привязать его к арендованному хостингу

----

ИЗУЧИТЬ НА ПРАКТИКЕ

Для привязки домена к хостингу обычно нужно выполнить следующие шаги:

1. Войти в личный кабинет у регистратора доменов, где вы приобрели домен.

2. Перейти к настройкам DNS вашего домена.

3. Указать DNS-серверы вашего хостинг-провайдера (например, ns1.hosting.com, ns2.hosting.com). Это перенаправит запросы к домену на хостинг.

4. В панели управления хостингом добавить домен в список сайтов и связать его с нужной папкой или сайтом.

5. Подождать некоторое время (от нескольких часов до суток) для обновления DNS-записей.

При необходимости можно настроить без изменения DNS-серверов, добавив на стороне регистратора A-записи с IP-адресом вашего хостинга.
Если хотите привязать домен к собственному серверу, расположенному дома, нужно:

1. Убедиться, что у вашего домашнего провайдера есть статический или динамический внешний IP-адрес.

2. Если IP динамический, настроить службу динамического DNS (DDNS) для обновления IP.

3. На стороне регистратора в DNS добавить A-запись, указывающую на внешний IP вашего сервера.

4. На домашнем маршрутизаторе (роутере) настроить проброс портов (port forwarding) на IP вашего сервера внутри локальной сети.

5. Убедиться, что сервер работает и слушает нужные порты.

Таким образом, домен будет указывать либо на хостинг, либо на ваш сервер дома, обеспечивая доступ по удобному имени

----

DNS-преобразование (или разрешение доменных имен) — это многоступенчатый иерархический процесс. Он включает взаимодействие между несколькими типами серверов и кэшированием информации.
Вот пошаговое описание того, как происходит преобразование доменного имени в IP-адрес:

1. Запрос от пользователя (Локальный кэш)
Когда вы вводите доменное имя (например, www.example.com) в браузере:
Проверка кэша браузера: Сначала браузер проверяет, не сохранял ли он IP-адрес для этого домена недавно.
Проверка файла hosts: Если в кэше браузера нет записи, операционная система (ОС) проверяет свой локальный файл hosts (специальный текстовый файл с ручными соответствиями имен и IP-адресов).
Проверка кэша ОС (DNS-клиент): Если и там нет, ОС проверяет свой собственный DNS-кэш.
Если информация найдена на любом из этих этапов, процесс прекращается, и IP-адрес сразу передается браузеру.

2. Рекурсивный запрос к DNS-серверу
Если локально адрес не найден, ОС отправляет рекурсивный запрос настроенному DNS-серверу. Этим сервером обычно является DNS-резолвер интернет-провайдера (ISP DNS Resolver) или публичный сервис, который вы используете (например, Google Public DNS 8.8.8.8).
Рекурсивный запрос означает, что ваш резолвер обязуется найти и вернуть вам конечный IP-адрес, обращаясь к другим серверам по цепочке.

3. Иерархический поиск (4 уровня серверов)
Резолвер провайдера начинает иерархический поиск, взаимодействуя с тремя уровнями DNS-серверов:

A. Корневые DNS-серверы (Root Name Servers)
Резолвер провайдера обращается к одному из 13 глобальных корневых серверов (обозначаются точкой . в конце доменного имени).
Ответ: Корневой сервер не знает IP-адрес www.example.com, но он знает, где найти серверы, ответственные за домен верхнего уровня (TLD) .com. Он отправляет резолверу список TLD-серверов.

B. TLD-серверы (Top-Level Domain Name Servers)
Резолвер провайдера обращается к TLD-серверу (например, для зоны .com).
Ответ: TLD-сервер не знает полного адреса, но он знает, где находятся авторитативные серверы для конкретного домена example.com. Он отправляет резолверу их адреса.

C. Авторитативные DNS-серверы (Authoritative Name Servers)
Это серверы, которые управляются владельцем домена (например, регистратором домена или хостинг-провайдером). Они хранят актуальную и полную информацию о домене.
Ответ: Авторитативный сервер находит нужную A-запись (или AAAA-запись для IPv6) для www.example.com, которая содержит искомый IP-адрес (например, 93.184.216.34), и отправляет его обратно резолверу провайдера.

4. Ответ и кэширование
Возврат IP: Резолвер провайдера получает IP-адрес и отправляет его обратно вашему компьютеру.
Кэширование: По пути этот IP-адрес кэшируется на резолвере провайдера на определенное время (TTL - Time-To-Live). Когда вы или другой пользователь в этом регионе в следующий раз запросите тот же адрес, резолвер сразу ответит из кэша, минуя иерархический поиск.
Установка соединения: Ваш компьютер также кэширует адрес и использует его для подключения к веб-серверу по протоколу TCP/IP.

----

## Маска подсети

Маска подсети — это 32-битное число, которое используется для разделения IP-адреса на две части: адрес сети и адрес устройства (хоста). Она указывает, какая часть IP-адреса относится к сети, а какая — к конкретному устройству в этой сети. С помощью маски подсети компьютер определяет, находится ли устройство в той же локальной сети или ему нужно отправить данные через маршрутизатор

### Как работает маска подсети

- **Разделение на сеть и хост**: Маска состоит из двоичных единиц, которые соответствуют сетевой части IP-адреса, и нулей, которые соответствуют хостовой части

- **Пример**: Для IP-адреса (192.168.1.10) и маски подсети (255.255.255.0) (в десятичной системе, или (/24) в CIDR-нотации) первые (24) бита ((255.255.255)) принадлежат сети, а последние (8) бит (один байт) — устройству

- **Определение сети**: Компьютер сравнивает IP-адрес назначения с собственным IP-адресом, используя маску, чтобы определить, находятся ли они в одной сети. Если оба адреса принадлежат одной сети, они могут общаться напрямую. Если нет, трафик будет направлен к шлюзу (маршрутизатору)

### Форматы представления

- **Десятичная система**: Наиболее распространенный формат, где маска выглядит как (255.255.255.0)

- **CIDR-нотация**: Указывает количество единиц (битов) в маске, например, (`/24`) для маски (255.255.255.0)

Как узнать маску подсети

В Windows в командной строке можно выполнить команду `ipconfig`, которая отобразит общую информацию о конфигурации сети

В Linux используются команды `ip addr show` или `ifconfig` в терминале. Команда `ip addr show` покажет подробную информацию обо всех сетевых интерфейсах, а в выводе команды `ifconfig` также есть маска подсети

На маршрутизаторе...(в его настройках)

----

**DHCP (Dynamic Host Configuration Protocol)**: Протокол, который автоматически назначает IP-адреса устройствам в сети.

**NAT (Network Address Translation)**: Технология, которая позволяет нескольким устройствам в локальной сети использовать один публичный IP-адрес для доступа в Интернет.

Протоколы семейства TCP/IP:
https://habr.com/ru/companies/ruvds/articles/759988/

что такое хост?

#Network
