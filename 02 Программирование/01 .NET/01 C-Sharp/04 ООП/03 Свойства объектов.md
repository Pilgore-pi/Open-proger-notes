
Свойства в C# позволяют управлять доступом к полям класса, предоставляя механизм для чтения и записи значений. Они выглядят как поля, но, на самом деле, одно свойство — это пара методов: `get` и `set`, которые позволяют контролировать доступ к данным

Свойство состоит из метода доступа get и метода изменения set. Эти методы называются аксессорами.

Для каждого свойства **всегда** определяется соответствующее поле (в единственном числе). Поле может определяться явно или скрыто компилятором

1. **Имя свойства** — должно быть осмысленным и обычно пишется с заглавной буквы.
2. **Тип свойства** — определяет тип данных, которые свойство может хранить.
3. **Геттер (get)** — метод, который возвращает значение свойства
4. **Сеттер (set)** — метод, который устанавливает значение свойства

Синтаксис полного свойства

```cs
private <return_type> my_field;
public <return_type> MyProperty {
    get { return my_field; }
    set { my_field = value; }
}

public <return_type> MyProperty {
    get => my_field;
    set => my_field = value;
}
```

> **Контекстное ключевое слово `value`** представляет собой входной (`in`) параметр того же типа, что и тип свойства

```cs
ПРИКЛАДНОЙ ПРИМЕР КЛАССА СО СВОЙСТВОМ 
```

> Вызов метода `get` происходит при получении значения свойства или передаче свойства в метод

> Вызов метода `set` происходит при использовании оператора `=`, где левым операндом является свойство, а правым — совместимый по типу объект

```cs
ПРИМЕР ВЫЗОВА АКСЕССОРА GET & SET
```

### Модификаторы доступа для аксессоров

1)	Модификатор может применятся только для одного из аксессоров
2)	Модификатор аксессора должен быть **более ограничивающим**, чем модификатор доступа свойства

Свойство может не иметь один из аксессоров. Если одного из аксессоров нет, то доступ к нему еще меньше, чем private, то есть отсутствие любого доступа

----

```csharp
public class Person {
    private string name; // поле
    
    public string Name {      // свойство
        get { return name; }  // геттер
        set { name = value; } // сеттер
    }
    
    // Упрощенный синтаксис, если одна строка кода:
    public string Name {      // свойство
        get => name;          // геттер
        set => name = value;  // сеттер
    }
}

var p = new Person();
var name = p.Name;   // вызван метод get
p.Name = "Prick";    // вызван метод set
```

#### Автоматические свойства

C# позволяет создавать свойства без явного объявления полей. Компилятор автоматически создает скрытое поле для хранения значения.

```csharp
public class Person {
    public string Name { get; set; } // автоматическое свойство
}
```

Один из аксессоров (геттер или сеттер) может отсутствовать, соответственно свойство будет *read only* (только для чтения) или *write only* (только для записи)

К аксессорам можно применять различные модификаторы доступа, например, можно сделать какое-то свойство только для чтения снаружи класса, а внутри сам определяющий класс имеет полный доступ.

Так как свойство — это пара методов, то их можно настраивать как угодно.

```csharp
public int Age
{
    get => age; // сокращенный синтаксис
    set {
        if (value < 0)
            throw new ArgumentException("Age cannot be negative");
        age = value;
    }
}
```

```csharp
public class Person
{
    private string name;
    
    public string Name
    {
        get => name;
        set => name = value; // контекстное ключевое слово
    }
}
```

`value` — это значение, которое было помещено в свойство при присваивании
#### Инициализаторы свойств

C# позволяет инициализировать свойства при создании объекта.

```csharp
public class Person
{
    public string Name { get; set; }
    public int Age { get; set; }
}

var person = new Person { Name = "John", Age = 30 };
```

Можно задавать значения по умолчанию:

```csharp
public class Person {
    public string Name { get; set; } = "Unknown";
}
```

#### Свойства, вычисляемые один раз

```csharp
public class Person {
    public string Name { get; init; }
}

var person = new Person { Name = "Dude" };
person.Name = "Dawg"; // Ошибка компиляции
```

## Оператор readonly

Применяется к:

- Структуре
- 

#C-Sharp #OOP